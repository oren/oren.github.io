import{S as e,i as a,s as t,e as s,t as n,c as o,b as r,d as l,f as c,h as i,k as d,l as u,y as p,a as h,z as f,g as m,n as g,G as v,L as b,H as M,I as U,K as y,J as F}from"./index.763e8bca.js";import{v as N}from"./validate.5d897be6.js";function _(e,a,t){const s=Object.create(e);return s.id=a[t].id,s.name=a[t].name,s.i=t,s}function x(e){let a,t;return{c(){a=s("p"),t=n(e.successMessage),this.h()},l(s){a=o(s,"P",{class:!0});var n=r(a);t=l(n,e.successMessage),n.forEach(c),this.h()},h(){i(a,"class","success svelte-1i9t9aa")},m(e,s){d(e,a,s),u(a,t)},p(e,a){e.successMessage&&p(t,a.successMessage)},d(e){e&&c(a)}}}function P(e){let a,t;return{c(){a=s("p"),t=n(e.errorMessage),this.h()},l(s){a=o(s,"P",{class:!0});var n=r(a);t=l(n,e.errorMessage),n.forEach(c),this.h()},h(){i(a,"class","error svelte-1i9t9aa")},m(e,s){d(e,a,s),u(a,t)},p(e,a){e.errorMessage&&p(t,a.errorMessage)},d(e){e&&c(a)}}}function I(e){let a,t,s=e.showUpdateForm&&w(e),n=!e.showUpdateForm&&S(e);return{c(){s&&s.c(),a=h(),n&&n.c(),t=f()},l(e){s&&s.l(e),a=m(e),n&&n.l(e),t=f()},m(e,o){s&&s.m(e,o),d(e,a,o),n&&n.m(e,o),d(e,t,o)},p(e,o){o.showUpdateForm?s?s.p(e,o):((s=w(o)).c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null),o.showUpdateForm?n&&(n.d(1),n=null):n?n.p(e,o):((n=S(o)).c(),n.m(t.parentNode,t))},d(e){s&&s.d(e),e&&c(a),n&&n.d(e),e&&c(t)}}}function k(e){let a,t,p,h,f,m,v;return{c(){a=s("p"),t=n("You have no food."),p=s("p"),h=s("p"),f=s("a"),m=n("Add some food first"),v=n("."),this.h()},l(e){a=o(e,"P",{});var s=r(a);t=l(s,"You have no food."),s.forEach(c),p=o(e,"P",{}),r(p).forEach(c),h=o(e,"P",{});var n=r(h);f=o(n,"A",{href:!0});var i=r(f);m=l(i,"Add some food first"),i.forEach(c),v=l(n,"."),n.forEach(c),this.h()},h(){i(f,"href","/food/manage-food/add-food")},m(e,s){d(e,a,s),u(a,t),d(e,p,s),d(e,h,s),u(h,f),u(f,m),u(h,v)},p:g,d(e){e&&c(a),e&&c(p),e&&c(h)}}}function w(e){let a,t,n,l,p,f,g,v,b,F,N,_,x,P,I,k,w,S,T=!1,O=!1,z=!1;function B(){T=!0,e.input1_input_handler.call(f)}function C(){O=!0,e.input2_input_handler.call(F)}function R(){z=!0,e.input3_input_handler.call(P)}let J="update"===e.mode&&E(e);return{c(){a=s("form"),t=s("input"),n=h(),l=s("br"),p=h(),f=s("input"),g=h(),v=s("br"),b=h(),F=s("input"),N=h(),_=s("br"),x=h(),P=s("input"),I=h(),k=s("br"),w=h(),J&&J.c(),this.h()},l(e){a=o(e,"FORM",{});var s=r(a);t=o(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),n=m(s),l=o(s,"BR",{}),p=m(s),f=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),g=m(s),v=o(s,"BR",{}),b=m(s),F=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),N=m(s),_=o(s,"BR",{}),x=m(s),P=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),I=m(s),k=o(s,"BR",{}),w=m(s),J&&J.l(s),s.forEach(c),this.h()},h(){i(t,"type","text"),i(t,"placeholder","Name"),i(t,"maxlength","20"),i(t,"size","20"),i(t,"class","svelte-1i9t9aa"),i(f,"type","number"),i(f,"placeholder","Protein"),i(f,"min","0"),i(f,"max","999"),i(f,"class","svelte-1i9t9aa"),i(F,"type","number"),i(F,"placeholder","Carbs"),i(F,"min","0"),i(F,"max","999"),i(F,"class","svelte-1i9t9aa"),i(P,"type","number"),i(P,"placeholder","Fat"),i(P,"min","0"),i(P,"max","999"),i(P,"class","svelte-1i9t9aa"),S=[M(t,"input",e.input0_input_handler),M(f,"input",B),M(f,"keyup",e.validateProtein),M(F,"input",C),M(F,"keyup",e.validateCarbs),M(P,"input",R),M(P,"keyup",e.validateFat)]},m(s,o){d(s,a,o),u(a,t),U(t,e.name),u(a,n),u(a,l),u(a,p),u(a,f),U(f,e.protein),u(a,g),u(a,v),u(a,b),u(a,F),U(F,e.carbs),u(a,N),u(a,_),u(a,x),u(a,P),U(P,e.fat),u(a,I),u(a,k),u(a,w),J&&J.m(a,null)},p(e,s){e.name&&t.value!==s.name&&U(t,s.name),!T&&e.protein&&U(f,s.protein),T=!1,!O&&e.carbs&&U(F,s.carbs),O=!1,!z&&e.fat&&U(P,s.fat),z=!1,"update"===s.mode?J?J.p(e,s):((J=E(s)).c(),J.m(a,null)):J&&(J.d(1),J=null)},d(e){e&&c(a),J&&J.d(),y(S)}}}function E(e){let a,t,n,r;return{c(){a=s("input"),t=h(),n=s("input"),this.h()},l(e){a=o(e,"INPUT",{class:!0,type:!0,value:!0,maxlength:!0,size:!0}),t=m(e),n=o(e,"INPUT",{type:!0,value:!0,class:!0}),this.h()},h(){i(a,"class","update svelte-1i9t9aa"),i(a,"type","button"),a.value="Update",i(a,"maxlength","2"),i(a,"size","2"),i(n,"type","button"),n.value="delete",i(n,"class","svelte-1i9t9aa"),r=[M(a,"click",e.handleUpdate),M(n,"click",e.handleDelete)]},m(e,s){d(e,a,s),d(e,t,s),d(e,n,s)},p:g,d(e){e&&c(a),e&&c(t),e&&c(n),y(r)}}}function S(e){let a,t=e.food,n=[];for(let a=0;a<t.length;a+=1)n[a]=T(_(e,t,a));return{c(){a=s("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){a=o(e,"DIV",{class:!0});var t=r(a);for(let e=0;e<n.length;e+=1)n[e].l(t);t.forEach(c),this.h()},h(){i(a,"class","wrapper svelte-1i9t9aa")},m(e,t){d(e,a,t);for(let e=0;e<n.length;e+=1)n[e].m(a,null)},p(e,s){if(e.handleFoodClick||e.food){let o;for(t=s.food,o=0;o<t.length;o+=1){const r=_(s,t,o);n[o]?n[o].p(e,r):(n[o]=T(r),n[o].c(),n[o].m(a,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(e){e&&c(a),F(n,e)}}}function T(e){let a,t,h,f=e.name+"";function m(...a){return e.click_handler(e,...a)}return{c(){a=s("button"),t=n(f),this.h()},l(e){a=o(e,"BUTTON",{class:!0});var s=r(a);t=l(s,f),s.forEach(c),this.h()},h(){i(a,"class","box svelte-1i9t9aa"),h=M(a,"click",m)},m(e,s){d(e,a,s),u(a,t)},p(a,s){e=s,a.food&&f!==(f=e.name+"")&&p(t,f)},d(e){e&&c(a),h()}}}function O(e){let a,t,i,p,v,b,M,U=""!==e.successMessage&&x(e),y=""!==e.errorMessage&&P(e);function F(e,a){return 0===a.food.length?k:I}let N=F(0,e),_=N(e);return{c(){a=h(),t=s("h2"),i=n("Update Food"),p=h(),U&&U.c(),v=h(),y&&y.c(),b=h(),_.c(),M=f(),this.h()},l(e){a=m(e),t=o(e,"H2",{});var s=r(t);i=l(s,"Update Food"),s.forEach(c),p=m(e),U&&U.l(e),v=m(e),y&&y.l(e),b=m(e),_.l(e),M=f(),this.h()},h(){document.title="Food"},m(e,s){d(e,a,s),d(e,t,s),u(t,i),d(e,p,s),U&&U.m(e,s),d(e,v,s),y&&y.m(e,s),d(e,b,s),_.m(e,s),d(e,M,s)},p(e,a){""!==a.successMessage?U?U.p(e,a):((U=x(a)).c(),U.m(v.parentNode,v)):U&&(U.d(1),U=null),""!==a.errorMessage?y?y.p(e,a):((y=P(a)).c(),y.m(b.parentNode,b)):y&&(y.d(1),y=null),N===(N=F(0,a))&&_?_.p(e,a):(_.d(1),(_=N(a))&&(_.c(),_.m(M.parentNode,M)))},i:g,o:g,d(e){e&&c(a),e&&c(t),e&&c(p),U&&U.d(e),e&&c(v),y&&y.d(e),e&&c(b),_.d(e),e&&c(M)}}}function z(e,a,t){let s="",n="",o="",r="",l=[],c="add",i="",d="",u="",p=!1;function h(e){t("showUpdateForm",p=!0),t("successMessage",u=""),t("errorMessage",d=""),i=e.name,t("name",s=e.name),t("protein",n=e.protein),t("carbs",o=e.carbs),t("fat",r=e.fat),t("mode",c="update")}v(async()=>{t("food",l=JSON.parse(localStorage.getItem("food"))||[])});return{name:s,protein:n,carbs:o,fat:r,food:l,mode:c,errorMessage:d,successMessage:u,showUpdateForm:p,handleUpdate:function(){let e={};if(t("successMessage",u=""),t("errorMessage",d=""),!(e=N({name:s,protein:n,carbs:o,fat:r})).valid)return void t("errorMessage",d=e.message);let a=l.findIndex(e=>e.name===i);t("food",l[a].name=s,l),t("food",l[a].protein=n,l),t("food",l[a].carbs=o,l),t("food",l[a].fat=r,l),localStorage.setItem("food",JSON.stringify(l)),t("successMessage",u="Food was updated"),t("showUpdateForm",p=!1)},handleFoodClick:h,handleDelete:function(){t("successMessage",u=""),t("errorMessage",d="");let e=l.filter(function(e,a,t){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),t("food",l=e),t("mode",c="add"),t("name",s=""),t("protein",n=""),t("carbs",o=""),t("fat",r=""),t("successMessage",u="Food was deleted"),t("showUpdateForm",p=!1)},validateProtein:function(){let e=String(n);t("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(o);t("carbs",o=Number(e.substring(0,5)))},validateFat:function(){let e=String(r);t("fat",r=Number(e.substring(0,5)))},input0_input_handler:function(){s=this.value,t("name",s)},input1_input_handler:function(){n=b(this.value),t("protein",n)},input2_input_handler:function(){o=b(this.value),t("carbs",o)},input3_input_handler:function(){r=b(this.value),t("fat",r)},click_handler:({i:e})=>h(l[e])}}export default class extends e{constructor(e){super(),a(this,e,z,O,t,{})}}
