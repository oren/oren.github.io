import{S as e,i as s,s as a,e as t,t as n,c as r,b as l,d as i,f as c,h as o,k as u,l as p,y as d,a as h,g as m,P as f,R as b,n as g,T as v,O as M,V as y}from"./index.228bdbf4.js";import{v as _}from"./validate.b1dd7914.js";function x(e){let s,a;return{c(){s=t("p"),a=n(e.successMessage),this.h()},l(t){s=r(t,"P",{class:!0});var n=l(s);a=i(n,e.successMessage),n.forEach(c),this.h()},h(){o(s,"class","success svelte-f81b0p")},m(e,t){u(e,s,t),p(s,a)},p(e,s){e.successMessage&&d(a,s.successMessage)},d(e){e&&c(s)}}}function N(e){let s,a;return{c(){s=t("p"),a=n(e.errorMessage),this.h()},l(t){s=r(t,"P",{class:!0});var n=l(s);a=i(n,e.errorMessage),n.forEach(c),this.h()},h(){o(s,"class","error svelte-f81b0p")},m(e,t){u(e,s,t),p(s,a)},p(e,s){e.errorMessage&&d(a,s.errorMessage)},d(e){e&&c(s)}}}function P(e){let s,a,d,M,y,_,P,S,F,I,R,T,k,A,O,U,z,B,E,C,J,j,w,D,H,V=!1,q=!1,G=!1,K=""!==e.successMessage&&x(e),L=""!==e.errorMessage&&N(e);function Q(){V=!0,e.input1_input_handler.call(T)}function W(){q=!0,e.input2_input_handler.call(U)}function X(){G=!0,e.input3_input_handler.call(C)}return{c(){s=h(),a=t("h2"),d=n("Add Food"),M=h(),K&&K.c(),y=h(),L&&L.c(),_=h(),P=t("form"),S=t("input"),F=h(),I=t("br"),R=h(),T=t("input"),k=h(),A=t("br"),O=h(),U=t("input"),z=h(),B=t("br"),E=h(),C=t("input"),J=h(),j=t("br"),w=h(),D=t("input"),this.h()},l(e){s=m(e),a=r(e,"H2",{});var t=l(a);d=i(t,"Add Food"),t.forEach(c),M=m(e),K&&K.l(e),y=m(e),L&&L.l(e),_=m(e),P=r(e,"FORM",{class:!0});var n=l(P);S=r(n,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),F=m(n),I=r(n,"BR",{}),R=m(n),T=r(n,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),k=m(n),A=r(n,"BR",{}),O=m(n),U=r(n,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),z=m(n),B=r(n,"BR",{}),E=m(n),C=r(n,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),J=m(n),j=r(n,"BR",{}),w=m(n),D=r(n,"INPUT",{class:!0,type:!0,value:!0,maxlength:!0,size:!0}),n.forEach(c),this.h()},h(){document.title="Food",o(S,"type","text"),o(S,"placeholder","Name"),o(S,"maxlength","20"),o(S,"size","20"),o(S,"class","svelte-f81b0p"),o(T,"type","number"),o(T,"placeholder","Protein"),o(T,"min","0"),o(T,"max","999"),o(T,"class","svelte-f81b0p"),o(U,"type","number"),o(U,"placeholder","Carbs"),o(U,"min","0"),o(U,"max","999"),o(U,"class","svelte-f81b0p"),o(C,"type","number"),o(C,"placeholder","Fat"),o(C,"min","0"),o(C,"max","999"),o(C,"class","svelte-f81b0p"),o(D,"class","add svelte-f81b0p"),o(D,"type","button"),D.value="Add",o(D,"maxlength","2"),o(D,"size","2"),o(P,"class","svelte-f81b0p"),H=[f(S,"input",e.input0_input_handler),f(T,"input",Q),f(T,"keyup",e.validateProtein),f(U,"input",W),f(U,"keyup",e.validateCarbs),f(C,"input",X),f(C,"keyup",e.validateFat),f(D,"click",e.handleAdd)]},m(t,n){u(t,s,n),u(t,a,n),p(a,d),u(t,M,n),K&&K.m(t,n),u(t,y,n),L&&L.m(t,n),u(t,_,n),u(t,P,n),p(P,S),b(S,e.name),p(P,F),p(P,I),p(P,R),p(P,T),b(T,e.protein),p(P,k),p(P,A),p(P,O),p(P,U),b(U,e.carbs),p(P,z),p(P,B),p(P,E),p(P,C),b(C,e.fat),p(P,J),p(P,j),p(P,w),p(P,D)},p(e,s){""!==s.successMessage?K?K.p(e,s):((K=x(s)).c(),K.m(y.parentNode,y)):K&&(K.d(1),K=null),""!==s.errorMessage?L?L.p(e,s):((L=N(s)).c(),L.m(_.parentNode,_)):L&&(L.d(1),L=null),e.name&&S.value!==s.name&&b(S,s.name),!V&&e.protein&&b(T,s.protein),V=!1,!q&&e.carbs&&b(U,s.carbs),q=!1,!G&&e.fat&&b(C,s.fat),G=!1},i:g,o:g,d(e){e&&c(s),e&&c(a),e&&c(M),K&&K.d(e),e&&c(y),L&&L.d(e),e&&c(_),e&&c(P),v(H)}}}function S(e,s,a){let t="",n="",r="",l="",i=[],c="",o="";return M(async()=>{i=JSON.parse(localStorage.getItem("food"))||[]}),{name:t,protein:n,carbs:r,fat:l,errorMessage:c,successMessage:o,handleAdd:function(){let e={};if(a("successMessage",o=""),a("errorMessage",c=""),!(e=_({name:t,protein:n,carbs:r,fat:l})).valid)return void a("errorMessage",c=e.message);const s=JSON.parse(localStorage.getItem("food"))||[];s.push({name:t,protein:n,carbs:r,fat:l}),localStorage.setItem("food",JSON.stringify(s)),i=s,a("name",t=""),a("protein",n=""),a("carbs",r=""),a("fat",l=""),a("successMessage",o="Food was added"),event.preventDefault()},validateProtein:function(){let e=String(n);a("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(r);a("carbs",r=Number(e.substring(0,5)))},validateFat:function(){let e=String(l);a("fat",l=Number(e.substring(0,5)))},input0_input_handler:function(){t=this.value,a("name",t)},input1_input_handler:function(){n=y(this.value),a("protein",n)},input2_input_handler:function(){r=y(this.value),a("carbs",r)},input3_input_handler:function(){l=y(this.value),a("fat",l)}}}export default class extends e{constructor(e){super(),s(this,e,S,P,a,{})}}
