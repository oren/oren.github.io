import{S as e,i as t,s as a,e as o,t as r,c as n,b as l,d as c,f as s,G as i,k as f,l as d,n as u,a as h,g as m,y as p,z as b,h as g,H as v,I}from"./index.42ae020b.js";function N(e,t,a){const o=Object.create(e);return o.id=t[a].id,o.name=t[a].name,o.i=a,o}function A(e,t,a){const o=Object.create(e);return o.id=t[a].id,o.name=t[a].name,o.count=t[a].count,o.i=a,o}function S(e){let t,a,h;return{c(){t=o("button"),a=r("Clear"),this.h()},l(e){t=n(e,"BUTTON",{});var o=l(t);a=c(o,"Clear"),o.forEach(s),this.h()},h(){h=i(t,"click",e.handleClear)},m(e,o){f(e,t,o),d(t,a)},p:u,d(e){e&&s(t),h()}}}function E(e){let t;return{c(){t=r("Nothing yet... Feed your muscles!")},l(e){t=c(e,"Nothing yet... Feed your muscles!")},m(e,a){f(e,t,a)},d(e){e&&s(t)}}}function y(e){let t,a,i,u,b,g=e.count+"",v=e.name+"";return{c(){t=o("li"),a=r(g),i=h(),u=r(v),b=h()},l(e){t=n(e,"LI",{});var o=l(t);a=c(o,g),i=m(o),u=c(o,v),b=m(o),o.forEach(s)},m(e,o){f(e,t,o),d(t,a),d(t,i),d(t,u),d(t,b)},p(e,t){e.foodIAte&&g!==(g=t.count+"")&&p(a,g),e.foodIAte&&v!==(v=t.name+"")&&p(u,v)},d(e){e&&s(t)}}}function C(e){let t,a,u,h=e.name+"";function m(...t){return e.click_handler(e,...t)}return{c(){t=o("button"),a=r(h),this.h()},l(e){t=n(e,"BUTTON",{});var o=l(t);a=c(o,h),o.forEach(s),this.h()},h(){u=i(t,"click",m)},m(e,o){f(e,t,o),d(t,a)},p(t,o){e=o,t.food&&h!==(h=e.name+"")&&p(a,h)},d(e){e&&s(t),u()}}}function F(e){let t,a,i,I,F,k,q,O,P,T,x,j,H,J,U,B,L,$,_,z,G,w,D,K,M,Q,R,V,W,X=0!==e.calories&&S(e),Y=0===e.calories&&E(),Z=e.foodIAte,ee=[];for(let t=0;t<Z.length;t+=1)ee[t]=y(A(e,Z,t));let te=e.food,ae=[];for(let t=0;t<te.length;t+=1)ae[t]=C(N(e,te,t));return{c(){t=h(),a=o("p"),i=o("span"),I=r("Calories: "),F=r(e.calories),k=h(),q=o("span"),O=r("Protein:"),P=r(e.protein),T=h(),x=o("span"),j=r("Carbs:"),H=r(e.carbs),J=h(),U=o("span"),B=r("Fat:"),L=r(e.fat),$=h(),X&&X.c(),_=h(),z=o("h1"),G=r("Today"),w=h(),Y&&Y.c(),D=h(),K=o("ul");for(let e=0;e<ee.length;e+=1)ee[e].c();M=h(),Q=o("h1"),R=r("Food"),V=h();for(let e=0;e<ae.length;e+=1)ae[e].c();W=b(),this.h()},l(o){t=m(o),a=n(o,"P",{class:!0});var r=l(a);i=n(r,"SPAN",{class:!0});var f=l(i);I=c(f,"Calories: "),F=c(f,e.calories),f.forEach(s),k=m(r),q=n(r,"SPAN",{class:!0});var d=l(q);O=c(d,"Protein:"),P=c(d,e.protein),d.forEach(s),T=m(r),x=n(r,"SPAN",{class:!0});var u=l(x);j=c(u,"Carbs:"),H=c(u,e.carbs),u.forEach(s),J=m(r),U=n(r,"SPAN",{class:!0});var h=l(U);B=c(h,"Fat:"),L=c(h,e.fat),h.forEach(s),$=m(r),X&&X.l(r),r.forEach(s),_=m(o),z=n(o,"H1",{class:!0});var p=l(z);G=c(p,"Today"),p.forEach(s),w=m(o),Y&&Y.l(o),D=m(o),K=n(o,"UL",{class:!0});var g=l(K);for(let e=0;e<ee.length;e+=1)ee[e].l(g);g.forEach(s),M=m(o),Q=n(o,"H1",{});var v=l(Q);R=c(v,"Food"),v.forEach(s),V=m(o);for(let e=0;e<ae.length;e+=1)ae[e].l(o);W=b(),this.h()},h(){document.title="Food",g(i,"class","svelte-1bi4maq"),g(q,"class","svelte-1bi4maq"),g(x,"class","svelte-1bi4maq"),g(U,"class","svelte-1bi4maq"),g(a,"class","total svelte-1bi4maq"),g(z,"class","today svelte-1bi4maq"),g(K,"class","svelte-1bi4maq")},m(e,o){f(e,t,o),f(e,a,o),d(a,i),d(i,I),d(i,F),d(a,k),d(a,q),d(q,O),d(q,P),d(a,T),d(a,x),d(x,j),d(x,H),d(a,J),d(a,U),d(U,B),d(U,L),d(a,$),X&&X.m(a,null),f(e,_,o),f(e,z,o),d(z,G),f(e,w,o),Y&&Y.m(e,o),f(e,D,o),f(e,K,o);for(let e=0;e<ee.length;e+=1)ee[e].m(K,null);f(e,M,o),f(e,Q,o),d(Q,R),f(e,V,o);for(let t=0;t<ae.length;t+=1)ae[t].m(e,o);f(e,W,o)},p(e,t){if(e.calories&&p(F,t.calories),e.protein&&p(P,t.protein),e.carbs&&p(H,t.carbs),e.fat&&p(L,t.fat),0!==t.calories?X?X.p(e,t):((X=S(t)).c(),X.m(a,null)):X&&(X.d(1),X=null),0===t.calories?Y||((Y=E()).c(),Y.m(D.parentNode,D)):Y&&(Y.d(1),Y=null),e.foodIAte){let a;for(Z=t.foodIAte,a=0;a<Z.length;a+=1){const o=A(t,Z,a);ee[a]?ee[a].p(e,o):(ee[a]=y(o),ee[a].c(),ee[a].m(K,null))}for(;a<ee.length;a+=1)ee[a].d(1);ee.length=Z.length}if(e.handleFoodClick||e.food){let a;for(te=t.food,a=0;a<te.length;a+=1){const o=N(t,te,a);ae[a]?ae[a].p(e,o):(ae[a]=C(o),ae[a].c(),ae[a].m(W.parentNode,W))}for(;a<ae.length;a+=1)ae[a].d(1);ae.length=te.length}},i:u,o:u,d(e){e&&s(t),e&&s(a),X&&X.d(),e&&s(_),e&&s(z),e&&s(w),Y&&Y.d(e),e&&s(D),e&&s(K),v(ee,e),e&&s(M),e&&s(Q),e&&s(V),v(ae,e),e&&s(W)}}}function k(e,t,a){let o=[],r=[],n=0,l=0,c=0;function s(e){let t=o.findIndex(t=>t.name===e.name);-1===t?(e.count=1,a("foodIAte",o=[...o,e])):a("foodIAte",o[t].count=o[t].count+1,o),localStorage.setItem("ate",JSON.stringify(o)),i()}I(async()=>{a("food",r=JSON.parse(localStorage.getItem("food"))||[]),a("foodIAte",o=JSON.parse(localStorage.getItem("ate"))||[]),i()});const i=e=>{a("protein",n=Number(o.reduce(function(e,t){return e+t.protein*t.count},0))),a("carbs",l=Number(o.reduce(function(e,t){return e+t.carbs*t.count},0))),a("fat",c=Number(o.reduce(function(e,t){return e+t.fat*t.count},0)))};let f;return e.$$.update=((e={protein:1,carbs:1,fat:1})=>{(e.protein||e.carbs||e.fat)&&a("calories",f=4*n+4*l+9*c)}),{foodIAte:o,food:r,protein:n,carbs:l,fat:c,handleFoodClick:s,handleClear:function(e){localStorage.removeItem("ate"),a("protein",n=0),a("carbs",l=0),a("fat",c=0),a("foodIAte",o=[])},calories:f,click_handler:({i:e})=>s(r[e])}}export default class extends e{constructor(e){super(),t(this,e,k,F,a,{})}}
