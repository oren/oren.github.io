import{S as e,i as s,s as t,e as a,t as n,c as r,b as o,d as l,f as i,h as c,k as u,l as d,y as h,a as p,z as f,g as m,n as g,I as b,J as v,G as M,K as N,L as y,H as _}from"./index.805fe9f6.js";function x(e,s,t){const a=Object.create(e);return a.id=s[t].id,a.name=s[t].name,a.i=t,a}function z(e){let s,t;return{c(){s=a("p"),t=n(e.successMessage),this.h()},l(a){s=r(a,"P",{class:!0});var n=o(s);t=l(n,e.successMessage),n.forEach(i),this.h()},h(){c(s,"class","success svelte-17z1stj")},m(e,a){u(e,s,a),d(s,t)},p(e,s){e.successMessage&&h(t,s.successMessage)},d(e){e&&i(s)}}}function P(e){let s,t;return{c(){s=a("p"),t=n(e.errorMessage),this.h()},l(a){s=r(a,"P",{class:!0});var n=o(s);t=l(n,e.errorMessage),n.forEach(i),this.h()},h(){c(s,"class","error svelte-17z1stj")},m(e,a){u(e,s,a),d(s,t)},p(e,s){e.errorMessage&&h(t,s.errorMessage)},d(e){e&&i(s)}}}function I(e){let s,t,h,g,b,v,z,P,I,k,U,S,C,E,T,O,w,J=!1,A=!1,B=!1;function D(){J=!0,e.input1_input_handler.call(g)}function H(){A=!0,e.input2_input_handler.call(v)}function R(){B=!0,e.input3_input_handler.call(P)}let Y="update"===e.mode&&F(e),G=e.food,K=[];for(let s=0;s<G.length;s+=1)K[s]=j(x(e,G,s));return{c(){s=a("form"),t=a("input"),h=p(),g=a("input"),b=p(),v=a("input"),z=p(),P=a("input"),I=p(),k=a("br"),U=p(),Y&&Y.c(),S=p(),C=a("p"),E=n("Click on the food you want to update:"),T=p();for(let e=0;e<K.length;e+=1)K[e].c();O=f(),this.h()},l(e){s=r(e,"FORM",{});var a=o(s);t=r(a,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),h=m(a),g=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),b=m(a),v=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),z=m(a),P=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),I=m(a),k=r(a,"BR",{}),U=m(a),Y&&Y.l(a),a.forEach(i),S=m(e),C=r(e,"P",{class:!0});var n=o(C);E=l(n,"Click on the food you want to update:"),n.forEach(i),T=m(e);for(let s=0;s<K.length;s+=1)K[s].l(e);O=f(),this.h()},h(){c(t,"type","text"),c(t,"placeholder","Name"),c(t,"maxlength","20"),c(t,"size","20"),c(t,"class","svelte-17z1stj"),c(g,"type","number"),c(g,"placeholder","Protein"),c(g,"min","0"),c(g,"max","999"),c(g,"class","svelte-17z1stj"),c(v,"type","number"),c(v,"placeholder","Carbs"),c(v,"min","0"),c(v,"max","999"),c(v,"class","svelte-17z1stj"),c(P,"type","number"),c(P,"placeholder","Fat"),c(P,"min","0"),c(P,"max","999"),c(P,"class","svelte-17z1stj"),c(C,"class","food svelte-17z1stj"),w=[M(t,"input",e.input0_input_handler),M(g,"input",D),M(g,"keyup",e.validateProtein),M(v,"input",H),M(v,"keyup",e.validateCarbs),M(P,"input",R),M(P,"keyup",e.validateFat)]},m(a,n){u(a,s,n),d(s,t),y(t,e.name),d(s,h),d(s,g),y(g,e.protein),d(s,b),d(s,v),y(v,e.carbs),d(s,z),d(s,P),y(P,e.fat),d(s,I),d(s,k),d(s,U),Y&&Y.m(s,null),u(a,S,n),u(a,C,n),d(C,E),u(a,T,n);for(let e=0;e<K.length;e+=1)K[e].m(a,n);u(a,O,n)},p(e,a){if(e.name&&t.value!==a.name&&y(t,a.name),!J&&e.protein&&y(g,a.protein),J=!1,!A&&e.carbs&&y(v,a.carbs),A=!1,!B&&e.fat&&y(P,a.fat),B=!1,"update"===a.mode?Y?Y.p(e,a):((Y=F(a)).c(),Y.m(s,null)):Y&&(Y.d(1),Y=null),e.handleFoodClick||e.food){let s;for(G=a.food,s=0;s<G.length;s+=1){const t=x(a,G,s);K[s]?K[s].p(e,t):(K[s]=j(t),K[s].c(),K[s].m(O.parentNode,O))}for(;s<K.length;s+=1)K[s].d(1);K.length=G.length}},d(e){e&&i(s),Y&&Y.d(),e&&i(S),e&&i(C),e&&i(T),_(K,e),e&&i(O),N(w)}}}function k(e){let s,t,h,p,f;return{c(){s=a("p"),t=n("You have no food. "),h=a("a"),p=n("Add some food first"),f=n("."),this.h()},l(e){s=r(e,"P",{});var a=o(s);t=l(a,"You have no food. "),h=r(a,"A",{href:!0});var n=o(h);p=l(n,"Add some food first"),n.forEach(i),f=l(a,"."),a.forEach(i),this.h()},h(){c(h,"href","/food/manage-food/add-food")},m(e,a){u(e,s,a),d(s,t),d(s,h),d(h,p),d(s,f)},p:g,d(e){e&&i(s)}}}function F(e){let s,t,n,o;return{c(){s=a("input"),t=p(),n=a("input"),this.h()},l(e){s=r(e,"INPUT",{type:!0,value:!0,maxlength:!0,size:!0,class:!0}),t=m(e),n=r(e,"INPUT",{type:!0,value:!0,class:!0}),this.h()},h(){c(s,"type","button"),s.value="Update",c(s,"maxlength","2"),c(s,"size","2"),c(s,"class","svelte-17z1stj"),c(n,"type","button"),n.value="delete",c(n,"class","svelte-17z1stj"),o=[M(s,"click",e.handleUpdate),M(n,"click",e.handleDelete)]},m(e,a){u(e,s,a),u(e,t,a),u(e,n,a)},p:g,d(e){e&&i(s),e&&i(t),e&&i(n),N(o)}}}function j(e){let s,t,p,f=e.name+"";function m(...s){return e.click_handler(e,...s)}return{c(){s=a("button"),t=n(f),this.h()},l(e){s=r(e,"BUTTON",{class:!0});var a=o(s);t=l(a,f),a.forEach(i),this.h()},h(){c(s,"class","svelte-17z1stj"),p=M(s,"click",m)},m(e,a){u(e,s,a),d(s,t)},p(s,a){e=a,s.food&&f!==(f=e.name+"")&&h(t,f)},d(e){e&&i(s),p()}}}function U(e){let s,t,c,h,b,v,M,N=""!==e.successMessage&&z(e),y=""!==e.errorMessage&&P(e);function _(e,s){return 0===s.food.length?k:I}let x=_(0,e),F=x(e);return{c(){s=p(),t=a("h2"),c=n("Update Food"),h=p(),N&&N.c(),b=p(),y&&y.c(),v=p(),F.c(),M=f(),this.h()},l(e){s=m(e),t=r(e,"H2",{});var a=o(t);c=l(a,"Update Food"),a.forEach(i),h=m(e),N&&N.l(e),b=m(e),y&&y.l(e),v=m(e),F.l(e),M=f(),this.h()},h(){document.title="Food"},m(e,a){u(e,s,a),u(e,t,a),d(t,c),u(e,h,a),N&&N.m(e,a),u(e,b,a),y&&y.m(e,a),u(e,v,a),F.m(e,a),u(e,M,a)},p(e,s){""!==s.successMessage?N?N.p(e,s):((N=z(s)).c(),N.m(b.parentNode,b)):N&&(N.d(1),N=null),""!==s.errorMessage?y?y.p(e,s):((y=P(s)).c(),y.m(v.parentNode,v)):y&&(y.d(1),y=null),x===(x=_(0,s))&&F?F.p(e,s):(F.d(1),(F=x(s))&&(F.c(),F.m(M.parentNode,M)))},i:g,o:g,d(e){e&&i(s),e&&i(t),e&&i(h),N&&N.d(e),e&&i(b),y&&y.d(e),e&&i(v),F.d(e),e&&i(M)}}}function S(e,s,t){let a="",n="",r="",o="",l=[],i="add",c="",u="",d="";function h(e){t("successMessage",d=""),t("errorMessage",u=""),c=e.name,t("name",a=e.name),t("protein",n=e.protein),t("carbs",r=e.carbs),t("fat",o=e.fat),t("mode",i="update")}b(async()=>{t("food",l=JSON.parse(localStorage.getItem("food"))||[])});return{name:a,protein:n,carbs:r,fat:o,food:l,mode:i,errorMessage:u,successMessage:d,handleUpdate:function(){if(t("successMessage",d=""),t("errorMessage",u=""),t("errorMessage",u=""),!(""===a?(t("errorMessage",u="Name is missing"),0):""===n?(t("errorMessage",u="Protein is missing"),0):Number.isInteger(Number(n))?""===r?(t("errorMessage",u="Carbs is missing"),0):Number.isInteger(Number(r))?""===o?(t("errorMessage",u="Fat is missing"),0):Number.isInteger(Number(o))||(t("errorMessage",u="Fat should be a number"),0):(t("errorMessage",u="Carbs should be a number"),0):(t("errorMessage",u="Protein should be a number"),0)))return;let e=l.findIndex(e=>e.name===c);console.log(e),console.log(c),t("food",l[e].name=a,l),t("food",l[e].protein=n,l),t("food",l[e].carbs=r,l),t("food",l[e].fat=o,l),localStorage.setItem("food",JSON.stringify(l)),t("successMessage",d="Food was updated")},handleFoodClick:h,handleDelete:function(){t("successMessage",d=""),t("errorMessage",u="");let e=l.filter(function(e,s,t){return e.name!==a});localStorage.setItem("food",JSON.stringify(e)),t("food",l=e),t("mode",i="add"),t("name",a=""),t("protein",n=""),t("carbs",r=""),t("fat",o=""),t("successMessage",d="Food was deleted")},validateProtein:function(){let e=String(n);t("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(r);t("carbs",r=Number(e.substring(0,5)))},validateFat:function(){let e=String(o);t("fat",o=Number(e.substring(0,5)))},input0_input_handler:function(){a=this.value,t("name",a)},input1_input_handler:function(){n=v(this.value),t("protein",n)},input2_input_handler:function(){r=v(this.value),t("carbs",r)},input3_input_handler:function(){o=v(this.value),t("fat",o)},click_handler:({i:e})=>h(l[e])}}export default class extends e{constructor(e){super(),s(this,e,S,U,t,{})}}
