import{S as a,i as e,s as t,a as o,e as r,t as n,j as s,b as l,d as c,f,h as i,k as d,l as h,m,q as u,E as g,p,T as v,D as b,N as I,x as y,c as A,g as E,O as S,o as N,n as x,r as $,V as k,R as F,I as C}from"./index.37c8d187.js";import{I as P,t as M}from"./index.482ce061.js";function O(a,e,t){const o=Object.create(a);return o.id=e[t].id,o.name=e[t].name,o.count=e[t].count,o.i=t,o}function T(a){let e,t,v,I,A,E,S,N,x,$,k,F,P,M,T,w,U,V,j,L,_,B,Y,q,R,z,H,K,Q,W=Math.round(a.calories)+"",X=Math.round(a.protein)+"",Z=Math.round(a.carbs)+"",aa=Math.round(a.fat)+"",ea=a.isGoal&&D(a),ta=a.foodIAte.length>0&&G(a),oa=a.foodIAte,ra=[];for(let e=0;e<oa.length;e+=1)ra[e]=J(O(a,oa,e));const na=a=>u(ra[a],1,1,()=>{ra[a]=null});return{c(){ea&&ea.c(),e=o(),t=r("div"),v=r("span"),I=n("Cal:"),A=n(W),E=o(),S=r("span"),N=n("P:"),x=n(X),$=o(),k=r("span"),F=n("C:"),P=n(Z),M=o(),T=r("span"),w=n("F:"),U=n(aa),V=o(),ta&&ta.c(),j=o(),L=r("div");for(let a=0;a<ra.length;a+=1)ra[a].c();_=o(),B=r("ul"),Y=r("li"),q=r("a"),R=n("Choose Food"),z=o(),H=r("li"),K=n("Ate Today"),this.h()},l(a){ea&&ea.l(a),e=s(a),t=l(a,"DIV",{});var o=c(t);v=l(o,"SPAN",{class:!0});var r=c(v);I=f(r,"Cal:"),A=f(r,W),r.forEach(i),E=s(o),S=l(o,"SPAN",{class:!0});var n=c(S);N=f(n,"P:"),x=f(n,X),n.forEach(i),$=s(o),k=l(o,"SPAN",{class:!0});var d=c(k);F=f(d,"C:"),P=f(d,Z),d.forEach(i),M=s(o),T=l(o,"SPAN",{class:!0});var h=c(T);w=f(h,"F:"),U=f(h,aa),h.forEach(i),o.forEach(i),V=s(a),ta&&ta.l(a),j=s(a),L=l(a,"DIV",{class:!0});var m=c(L);for(let a=0;a<ra.length;a+=1)ra[a].l(m);m.forEach(i),_=s(a),B=l(a,"UL",{class:!0});var u=c(B);Y=l(u,"LI",{class:!0});var g=c(Y);q=l(g,"A",{href:!0,class:!0});var p=c(q);R=f(p,"Choose Food"),p.forEach(i),g.forEach(i),z=s(u),H=l(u,"LI",{class:!0});var b=c(H);K=f(b,"Ate Today"),b.forEach(i),u.forEach(i),this.h()},h(){d(v,"class","svelte-9y6cf9"),d(S,"class","svelte-9y6cf9"),d(k,"class","svelte-9y6cf9"),d(T,"class","svelte-9y6cf9"),d(L,"class","ate-wrapper mt-1 svelte-9y6cf9"),d(q,"href","/food"),d(q,"class","svelte-9y6cf9"),d(Y,"class","first svelte-9y6cf9"),d(H,"class","second svelte-9y6cf9"),d(B,"class","svelte-9y6cf9")},m(a,o){ea&&ea.m(a,o),h(a,e,o),h(a,t,o),m(t,v),m(v,I),m(v,A),m(t,E),m(t,S),m(S,N),m(S,x),m(t,$),m(t,k),m(k,F),m(k,P),m(t,M),m(t,T),m(T,w),m(T,U),h(a,V,o),ta&&ta.m(a,o),h(a,j,o),h(a,L,o);for(let a=0;a<ra.length;a+=1)ra[a].m(L,null);h(a,_,o),h(a,B,o),m(B,Y),m(Y,q),m(q,R),m(B,z),m(B,H),m(H,K),Q=!0},p(a,t){if(t.isGoal?ea?ea.p(a,t):((ea=D(t)).c(),ea.m(e.parentNode,e)):ea&&(ea.d(1),ea=null),Q&&!a.calories||W===(W=Math.round(t.calories)+"")||y(A,W),Q&&!a.protein||X===(X=Math.round(t.protein)+"")||y(x,X),Q&&!a.carbs||Z===(Z=Math.round(t.carbs)+"")||y(P,Z),Q&&!a.fat||aa===(aa=Math.round(t.fat)+"")||y(U,aa),t.foodIAte.length>0?ta?(ta.p(a,t),p(ta,1)):((ta=G(t)).c(),p(ta,1),ta.m(j.parentNode,j)):ta&&(b(),u(ta,1,1,()=>{ta=null}),g()),a.foodIAte||a.handleEdit||a.handleDelete||a.trash){let e;for(oa=t.foodIAte,e=0;e<oa.length;e+=1){const o=O(t,oa,e);ra[e]?(ra[e].p(a,o),p(ra[e],1)):(ra[e]=J(o),ra[e].c(),p(ra[e],1),ra[e].m(L,null))}for(b(),e=oa.length;e<ra.length;e+=1)na(e);g()}},i(a){if(!Q){p(ta);for(let a=0;a<oa.length;a+=1)p(ra[a]);Q=!0}},o(a){u(ta),ra=ra.filter(Boolean);for(let a=0;a<ra.length;a+=1)u(ra[a]);Q=!1},d(a){ea&&ea.d(a),a&&i(e),a&&i(t),a&&i(V),ta&&ta.d(a),a&&i(j),a&&i(L),C(ra,a),a&&i(_),a&&i(B)}}}function w(a){let e,t,o,s,u;return{c(){e=r("p"),t=n("You have no food. "),o=r("a"),s=n("Add food"),u=n(" first."),this.h()},l(a){e=l(a,"P",{});var r=c(e);t=f(r,"You have no food. "),o=l(r,"A",{class:!0,a:!0,href:!0});var n=c(o);s=f(n,"Add food"),n.forEach(i),u=f(r," first."),r.forEach(i),this.h()},h(){d(o,"class","text-blue-500"),d(o,"a",""),d(o,"href","/food/manage-food/add-food")},m(a,r){h(a,e,r),m(e,t),m(e,o),m(o,s),m(e,u)},p:x,i:x,o:x,d(a){a&&i(e)}}}function D(a){let e,t,u,g,p,v,b,A,E,S,N,x=Math.round(a.goal-a.calories)+"";return{c(){e=r("div"),t=r("span"),u=n("Goal:"),g=n(a.goal),p=o(),v=r("span"),b=n("Left:"),E=r("span"),S=n(x),this.h()},l(o){e=l(o,"DIV",{});var r=c(e);t=l(r,"SPAN",{class:!0});var n=c(t);u=f(n,"Goal:"),g=f(n,a.goal),n.forEach(i),p=s(r),v=l(r,"SPAN",{class:!0});var d=c(v);b=f(d,"Left:"),d.forEach(i),E=l(r,"SPAN",{class:!0});var h=c(E);S=f(h,x),h.forEach(i),r.forEach(i),this.h()},h(){d(t,"class","svelte-9y6cf9"),d(v,"class",A=I(a.remaining)+" svelte-9y6cf9"),d(E,"class",N=I(a.remaining)+" svelte-9y6cf9")},m(a,o){h(a,e,o),m(e,t),m(t,u),m(t,g),m(e,p),m(e,v),m(v,b),m(e,E),m(E,S)},p(a,e){a.goal&&y(g,e.goal),a.remaining&&A!==(A=I(e.remaining)+" svelte-9y6cf9")&&d(v,"class",A),(a.goal||a.calories)&&x!==(x=Math.round(e.goal-e.calories)+"")&&y(S,x),a.remaining&&N!==(N=I(e.remaining)+" svelte-9y6cf9")&&d(E,"class",N)},d(a){a&&i(e)}}}function G(a){let e,t,o,s,g;const v=new P({props:{style:"margin-left: 0.5rem; margin-bottom: 0.25rem;",data:M}});return{c(){e=r("div"),t=r("button"),o=n("Clear All"),A(v.$$.fragment),this.h()},l(a){e=l(a,"DIV",{});var r=c(e);t=l(r,"BUTTON",{class:!0});var n=c(t);o=f(n,"Clear All"),E(v.$$.fragment,n),n.forEach(i),r.forEach(i),this.h()},h(){d(t,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3 w-1/2"),g=S(t,"click",a.handleClear)},m(a,r){h(a,e,r),m(e,t),m(t,o),N(v,t,null),s=!0},p:x,i(a){s||(p(v.$$.fragment,a),s=!0)},o(a){u(v.$$.fragment,a),s=!1},d(a){a&&i(e),$(v),g()}}}function J(a){let e,t,g,v,b,I,x,C,O,T=a.name+"";const w=new P({props:{data:M}});function D(...e){return a.click_handler(a,...e)}return{c(){e=r("button"),A(w.$$.fragment),t=o(),g=r("div"),v=n(T),b=o(),I=r("input"),this.h()},l(a){e=l(a,"BUTTON",{class:!0,href:!0});var o=c(e);E(w.$$.fragment,o),o.forEach(i),t=s(a),g=l(a,"DIV",{});var r=c(g);v=f(r,T),r.forEach(i),b=s(a),I=l(a,"INPUT",{class:!0,maxlength:!0,min:!0,max:!0,type:!0,value:!0}),this.h()},h(){d(e,"class","text-red-400 text-left"),d(e,"href","#"),d(I,"class","bg-gray-200 w-6"),d(I,"maxlength","3"),d(I,"min","1"),d(I,"max","999"),d(I,"type","number"),I.value=x=a.count,O=[S(e,"click",k(D)),S(I,"keyup",function(){(function(...e){return a.keyup_handler(a,...e)}).apply(this,arguments)})]},m(a,o){h(a,e,o),N(w,e,null),h(a,t,o),h(a,g,o),m(g,v),h(a,b,o),h(a,I,o),C=!0},p(e,t){a=t,C&&!e.foodIAte||T===(T=a.name+"")||y(v,T),(!C||e.foodIAte&&x!==(x=a.count))&&(I.value=x)},i(a){C||(p(w.$$.fragment,a),C=!0)},o(a){u(w.$$.fragment,a),C=!1},d(a){a&&i(e),$(w),a&&i(t),a&&i(g),a&&i(b),a&&i(I),F(O)}}}function U(a){let e,t,v,I,y,A,E,S,N,x,$,k,F;const C=[w,T],P=[];function M(a,e){return 0===e.food.length?0:1}return t=M(0,a),v=P[t]=C[t](a),{c(){e=o(),v.c(),I=o(),y=r("a"),A=n("Choose Food"),E=o(),S=r("a"),N=n("Update Food"),x=o(),$=r("a"),k=n("Export Food"),this.h()},l(a){e=s(a),v.l(a),I=s(a),y=l(a,"A",{class:!0,href:!0});var t=c(y);A=f(t,"Choose Food"),t.forEach(i),E=s(a),S=l(a,"A",{class:!0,href:!0});var o=c(S);N=f(o,"Update Food"),o.forEach(i),x=s(a),$=l(a,"A",{class:!0,href:!0});var r=c($);k=f(r,"Export Food"),r.forEach(i),this.h()},h(){document.title="Eat",d(y,"class","invisible"),d(y,"href","/food/eat"),d(S,"class","invisible"),d(S,"href","/food/manage-food/update-food"),d($,"class","invisible"),d($,"href","/food/manage-food/download")},m(a,o){h(a,e,o),P[t].m(a,o),h(a,I,o),h(a,y,o),m(y,A),h(a,E,o),h(a,S,o),m(S,N),h(a,x,o),h(a,$,o),m($,k),F=!0},p(a,e){let o=t;(t=M(0,e))===o?P[t].p(a,e):(b(),u(P[o],1,1,()=>{P[o]=null}),g(),(v=P[t])||(v=P[t]=C[t](e)).c(),p(v,1),v.m(I.parentNode,I))},i(a){F||(p(v),F=!0)},o(a){u(v),F=!1},d(a){a&&i(e),P[t].d(a),a&&i(I),a&&i(y),a&&i(E),a&&i(S),a&&i(x),a&&i($)}}}function V(a,e,t){let o=!1,r=!0,n=2e3,s=[],l=[],c=0,f=0,i=0;function d(a){let e=s.filter(function(e,t,o){return e.name!==a.name});t("foodIAte",s=e),localStorage.setItem("ate",JSON.stringify(e)),h()}v(async()=>{o="true"===(o=localStorage.getItem("firstTime")||"true"),t("isGoal",r="true"===localStorage.getItem("isGoal")||!1),t("goal",n=localStorage.getItem("goal")||2e3),t("food",l=JSON.parse(localStorage.getItem("food"))||[]),t("foodIAte",s=JSON.parse(localStorage.getItem("ate"))||[]),o&&0===l.length&&(t("food",l=[{name:"cup milk 2%",protein:5,carbs:6,fat:7},{name:"cup oatmeal",protein:6,carbs:7.3,fat:7.2},{name:"egg",protein:6,carbs:0,fat:7.2},{name:"100g chicken breast",protein:20,carbs:3.2,fat:5.1},{name:"100g brown rice",protein:4,carbs:6.8,fat:4.7},{name:"100g japanese yams",protein:4,carbs:6.8,fat:4.7},{name:"avocado",protein:4,carbs:6.8,fat:4.7},{name:"olive oil",protein:2,carbs:3.8,fat:8},{name:"apple",protein:1,carbs:5.8,fat:3},{name:"cottage cheese",protein:1,carbs:5.8,fat:3},{name:"100g greek yugurt",protein:1,carbs:5.8,fat:3},{name:"1 tbsp peanut butter",protein:1,carbs:5.8,fat:3},{name:"100g salmon",protein:1,carbs:5.8,fat:3},{name:"100g steak",protein:1,carbs:5.8,fat:3},{name:"egg white",protein:1,carbs:5.8,fat:3},{name:"sardins",protein:1,carbs:5.8,fat:3},{name:"tuna can",protein:1,carbs:5.8,fat:3},{name:"tuna fresh",protein:1,carbs:5.8,fat:3},{name:"150g drum sticks",protein:1,carbs:5.8,fat:3},{name:"100g chicken thighs",protein:1,carbs:5.8,fat:3}]),localStorage.setItem("firstTime","false"),localStorage.setItem("food",JSON.stringify(l)),localStorage.setItem("recentFood",JSON.stringify(l))),h()});const h=a=>{t("protein",c=s.reduce(function(a,e){return a+e.protein*e.count},0)),t("carbs",f=s.reduce(function(a,e){return a+e.carbs*e.count},0)),t("fat",i=s.reduce(function(a,e){return a+e.fat*e.count},0))};function m(a,e){let o=s.findIndex(e=>e.name===a.name);console.log("count",e),t("foodIAte",s[o].count=e,s),localStorage.setItem("ate",JSON.stringify(s)),h()}let u,g;return a.$$.update=((a={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(a.protein||a.carbs||a.fat)&&t("calories",g=parseFloat(Number(4*c+4*f+9*i).toFixed(1))),(a.goal||a.calories)&&t("remaining",u=n-g<=0?"remaining":"")}),{isGoal:r,goal:n,foodIAte:s,food:l,protein:c,carbs:f,fat:i,handleClear:function(){localStorage.removeItem("ate"),t("protein",c=0),t("carbs",f=0),t("fat",i=0),t("foodIAte",s=[])},handleDelete:d,handleEdit:m,remaining:u,calories:g,click_handler:({i:a})=>d(s[a]),keyup_handler:({i:a},e)=>m(s[a],e.target.value)}}export default class extends a{constructor(a){super(),e(this,a,V,U,t,{})}}
