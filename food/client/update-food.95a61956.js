import{S as e,i as t,s as a,e as s,t as r,b as o,d as l,f as n,h as c,k as i,l as d,m as f,x as u,a as p,y as h,j as m,q as g,E as v,p as b,N as F,D as y,T as x,c as M,g as N,P as U,Q as I,U as _,o as $,r as S,R as w,V as E,I as D,n as T}from"./index.9cf44aa4.js";import{I as k,t as O}from"./index.e287424e.js";import{v as P}from"./validate.d83e4ffc.js";function J(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function V(e){let t,a;return{c(){t=s("p"),a=r(e.successMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=l(t);a=n(r,e.successMessage),r.forEach(c),this.h()},h(){i(t,"class","success svelte-lsyctb")},m(e,s){d(e,t,s),f(t,a)},p(e,t){e.successMessage&&u(a,t.successMessage)},d(e){e&&c(t)}}}function C(e){let t,a;return{c(){t=s("p"),a=r(e.errorMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=l(t);a=n(r,e.errorMessage),r.forEach(c),this.h()},h(){i(t,"class","error svelte-lsyctb")},m(e,s){d(e,t,s),f(t,a)},p(e,t){e.errorMessage&&u(a,t.errorMessage)},d(e){e&&c(t)}}}function j(e){let t,a,s,r=e.showUpdateForm&&A(e),o=!e.showUpdateForm&&z(e);return{c(){r&&r.c(),t=p(),o&&o.c(),a=h()},l(e){r&&r.l(e),t=m(e),o&&o.l(e),a=h()},m(e,l){r&&r.m(e,l),d(e,t,l),o&&o.m(e,l),d(e,a,l),s=!0},p(e,s){s.showUpdateForm?r?(r.p(e,s),b(r,1)):((r=A(s)).c(),b(r,1),r.m(t.parentNode,t)):r&&(y(),g(r,1,1,()=>{r=null}),v()),s.showUpdateForm?o&&(y(),g(o,1,1,()=>{o=null}),v()):o?(o.p(e,s),b(o,1)):((o=z(s)).c(),b(o,1),o.m(a.parentNode,a))},i(e){s||(b(r),b(o),s=!0)},o(e){g(r),g(o),s=!1},d(e){r&&r.d(e),e&&c(t),o&&o.d(e),e&&c(a)}}}function B(e){let t,a,i,u;return{c(){t=s("p"),a=r("You have no food."),i=s("p"),u=s("p")},l(e){t=o(e,"P",{});var s=l(t);a=n(s,"You have no food."),s.forEach(c),i=o(e,"P",{}),l(i).forEach(c),u=o(e,"P",{}),l(u).forEach(c)},m(e,s){d(e,t,s),f(t,a),d(e,i,s),d(e,u,s)},p:T,i:T,o:T,d(e){e&&c(t),e&&c(i),e&&c(u)}}}function A(e){let t,a,u,h,v,F,y,x,E,D,T,P,J,V,C,j,B,A,z,L,R=!1,Y=!1,q=!1;function H(){R=!0,e.input1_input_handler.call(F)}function Q(){Y=!0,e.input2_input_handler.call(E)}function G(){q=!0,e.input3_input_handler.call(P)}const K=new k({props:{data:O}});return{c(){t=s("form"),a=s("div"),u=s("input"),h=p(),v=s("div"),F=s("input"),y=p(),x=s("div"),E=s("input"),D=p(),T=s("div"),P=s("input"),J=p(),V=s("div"),C=s("button"),j=r("Update"),B=p(),A=s("button"),M(K.$$.fragment),this.h()},l(e){t=o(e,"FORM",{class:!0});var s=l(t);a=o(s,"DIV",{});var r=l(a);u=o(r,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),r.forEach(c),h=m(s),v=o(s,"DIV",{});var i=l(v);F=o(i,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),i.forEach(c),y=m(s),x=o(s,"DIV",{});var d=l(x);E=o(d,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),d.forEach(c),D=m(s),T=o(s,"DIV",{});var f=l(T);P=o(f,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),f.forEach(c),J=m(s),V=o(s,"DIV",{class:!0});var p=l(V);C=o(p,"BUTTON",{class:!0});var g=l(C);j=n(g,"Update"),g.forEach(c),B=m(p),A=o(p,"BUTTON",{class:!0});var b=l(A);N(K.$$.fragment,b),b.forEach(c),p.forEach(c),s.forEach(c),this.h()},h(){i(u,"class"," svelte-lsyctb"),i(u,"type","text"),i(u,"placeholder","Name"),i(u,"maxlength","20"),i(u,"size","20"),i(F,"type","number"),i(F,"placeholder","Protein"),i(F,"min","0"),i(F,"max","999"),i(F,"class","svelte-lsyctb"),i(E,"type","number"),i(E,"placeholder","Carbs"),i(E,"min","0"),i(E,"max","999"),i(E,"class","svelte-lsyctb"),i(P,"type","number"),i(P,"placeholder","Fat"),i(P,"min","0"),i(P,"max","999"),i(P,"class","svelte-lsyctb"),i(C,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3"),i(A,"class","text-red-400 py-1 px-1"),i(V,"class","mt-3"),i(t,"class","svelte-lsyctb"),L=[U(u,"input",e.input0_input_handler),U(F,"input",H),U(F,"keyup",e.validateProtein),U(E,"input",Q),U(E,"keyup",e.validateCarbs),U(P,"input",G),U(P,"keyup",e.validateFat),U(C,"click",I(e.handleUpdate)),U(A,"click",e.handleDelete)]},m(s,r){d(s,t,r),f(t,a),f(a,u),_(u,e.name),f(t,h),f(t,v),f(v,F),_(F,e.protein),f(t,y),f(t,x),f(x,E),_(E,e.carbs),f(t,D),f(t,T),f(T,P),_(P,e.fat),f(t,J),f(t,V),f(V,C),f(C,j),f(V,B),f(V,A),$(K,A,null),z=!0},p(e,t){e.name&&u.value!==t.name&&_(u,t.name),!R&&e.protein&&_(F,t.protein),R=!1,!Y&&e.carbs&&_(E,t.carbs),Y=!1,!q&&e.fat&&_(P,t.fat),q=!1},i(e){z||(b(K.$$.fragment,e),z=!0)},o(e){g(K.$$.fragment,e),z=!1},d(e){e&&c(t),S(K),w(L)}}}function z(e){let t,a,u,h,F,x,I,T,P,V=e.filteredFood,C=[];for(let t=0;t<V.length;t+=1)C[t]=L(J(e,V,t));const j=e=>g(C[e],1,1,()=>{C[e]=null}),B=new k({props:{style:"margin-left: 0.5rem; margin-bottom: 0.25rem;",data:O}});return{c(){t=s("input"),a=p(),u=s("div");for(let e=0;e<C.length;e+=1)C[e].c();h=p(),F=s("div"),x=s("button"),I=r("Delete All"),M(B.$$.fragment),this.h()},l(e){t=o(e,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),a=m(e),u=o(e,"DIV",{class:!0,style:!0});var s=l(u);for(let e=0;e<C.length;e+=1)C[e].l(s);s.forEach(c),h=m(e),F=o(e,"DIV",{class:!0});var r=l(F);x=o(r,"BUTTON",{class:!0});var i=l(x);I=n(i,"Delete All"),N(B.$$.fragment,i),i.forEach(c),r.forEach(c),this.h()},h(){i(t,"class","filter bg-gray-200 w-24 px-2 svelte-lsyctb"),i(t,"type","text"),i(t,"placeholder","Search"),i(t,"maxlength","5"),i(t,"size","3"),i(u,"class","wrapper svelte-lsyctb"),E(u,"margin-top",(e.food.length>=10?0:20)+"px"),i(x,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3"),i(F,"class","flex justify-end pb-10"),P=[U(t,"input",e.input_input_handler),U(t,"input",e.handleFilter),U(x,"click",e.handleDeleteAll)]},m(s,r){d(s,t,r),_(t,e.filter),d(s,a,r),d(s,u,r);for(let e=0;e<C.length;e+=1)C[e].m(u,null);d(s,h,r),d(s,F,r),f(F,x),f(x,I),$(B,x,null),T=!0},p(e,a){if(e.filter&&t.value!==a.filter&&_(t,a.filter),e.handleFoodDelete||e.food||e.trash||e.handleFoodClick||e.filteredFood){let t;for(V=a.filteredFood,t=0;t<V.length;t+=1){const s=J(a,V,t);C[t]?(C[t].p(e,s),b(C[t],1)):(C[t]=L(s),C[t].c(),b(C[t],1),C[t].m(u,null))}for(y(),t=V.length;t<C.length;t+=1)j(t);v()}T&&!e.food||E(u,"margin-top",(a.food.length>=10?0:20)+"px")},i(e){if(!T){for(let e=0;e<V.length;e+=1)b(C[e]);b(B.$$.fragment,e),T=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)g(C[e]);g(B.$$.fragment,e),T=!1},d(e){e&&c(t),e&&c(a),e&&c(u),D(C,e),e&&c(h),e&&c(F),S(B),w(P)}}}function L(e){let t,a,p,h,m,v=e.name+"";function F(...t){return e.click_handler(e,...t)}const y=new k({props:{data:O}});function x(...t){return e.click_handler_1(e,...t)}return{c(){t=s("button"),a=r(v),p=s("button"),M(y.$$.fragment),this.h()},l(e){t=o(e,"BUTTON",{class:!0});var s=l(t);a=n(s,v),s.forEach(c),p=o(e,"BUTTON",{class:!0});var r=l(p);N(y.$$.fragment,r),r.forEach(c),this.h()},h(){i(t,"class","box svelte-lsyctb"),i(p,"class","text-red-400"),m=[U(t,"click",F),U(p,"click",I(x))]},m(e,s){d(e,t,s),f(t,a),d(e,p,s),$(y,p,null),h=!0},p(t,s){e=s,h&&!t.filteredFood||v===(v=e.name+"")||u(a,v)},i(e){h||(b(y.$$.fragment,e),h=!0)},o(e){g(y.$$.fragment,e),h=!1},d(e){e&&c(t),e&&c(p),S(y),w(m)}}}function R(e){let t,a,u,F,x,M,N,U,I,_,$=""!==e.successMessage&&V(e),S=""!==e.errorMessage&&C(e);const w=[B,j],E=[];function D(e,t){return 0===t.food.length?0:1}return N=D(0,e),U=E[N]=w[N](e),{c(){t=p(),a=s("h2"),u=r("Update Food"),F=p(),$&&$.c(),x=p(),S&&S.c(),M=p(),U.c(),I=h(),this.h()},l(e){t=m(e),a=o(e,"H2",{class:!0});var s=l(a);u=n(s,"Update Food"),s.forEach(c),F=m(e),$&&$.l(e),x=m(e),S&&S.l(e),M=m(e),U.l(e),I=h(),this.h()},h(){document.title="Update Food",i(a,"class","text-xl mb-2")},m(e,s){d(e,t,s),d(e,a,s),f(a,u),d(e,F,s),$&&$.m(e,s),d(e,x,s),S&&S.m(e,s),d(e,M,s),E[N].m(e,s),d(e,I,s),_=!0},p(e,t){""!==t.successMessage?$?$.p(e,t):(($=V(t)).c(),$.m(x.parentNode,x)):$&&($.d(1),$=null),""!==t.errorMessage?S?S.p(e,t):((S=C(t)).c(),S.m(M.parentNode,M)):S&&(S.d(1),S=null);let a=N;(N=D(0,t))===a?E[N].p(e,t):(y(),g(E[a],1,1,()=>{E[a]=null}),v(),(U=E[N])||(U=E[N]=w[N](t)).c(),b(U,1),U.m(I.parentNode,I))},i(e){_||(b(U),_=!0)},o(e){g(U),_=!1},d(e){e&&c(t),e&&c(a),e&&c(F),$&&$.d(e),e&&c(x),S&&S.d(e),e&&c(M),E[N].d(e),e&&c(I)}}}function Y(e,t,a){let s="",r="",o="",l="",n=[],c="",i="",d="",f=!1,u="",p=[],h=[];function m(e){a("filteredFood",p=e),a("filter",u=""),a("showUpdateForm",f=!0),a("successMessage",d=""),a("errorMessage",i=""),c=e.name,a("name",s=e.name),a("protein",r=e.protein),a("carbs",o=e.carbs),a("fat",l=e.fat)}F(async()=>{a("food",n=JSON.parse(localStorage.getItem("food")).sort((e,t)=>e.name>t.name)||[]),h=JSON.parse(localStorage.getItem("recentFood"))||[],a("filteredFood",p=n)});function g(e){a("filteredFood",p=n),a("filter",u=""),a("successMessage",d=""),a("errorMessage",i="");let t=n.filter(function(t,a,s){return t.name!==e.name});localStorage.setItem("food",JSON.stringify(t)),a("food",n=t),a("filteredFood",p=t),t=h.filter(function(t,a,s){return t.name!==e.name}),localStorage.setItem("recentFood",JSON.stringify(t)),h=t,a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",l=""),a("successMessage",d="Food was deleted"),a("showUpdateForm",f=!1)}return{name:s,protein:r,carbs:o,fat:l,food:n,errorMessage:i,successMessage:d,showUpdateForm:f,filter:u,filteredFood:p,handleUpdate:function(){a("filteredFood",p=n),a("filter",u="");let e={};if(a("successMessage",d=""),a("errorMessage",i=""),!(e=P({name:s,protein:r,carbs:o,fat:l})).valid)return void a("errorMessage",i=e.message);let t=n.findIndex(e=>e.name===c);a("food",n[t].name=s,n),a("food",n[t].protein=r,n),a("food",n[t].carbs=o,n),a("food",n[t].fat=l,n),localStorage.setItem("food",JSON.stringify(n)),a("successMessage",d="Food was updated"),a("showUpdateForm",f=!1),-1!==(t=h.findIndex(e=>e.name===c))&&(h[t].name=s,h[t].protein=r,h[t].carbs=o,h[t].fat=l,localStorage.setItem("recentFood",JSON.stringify(h)))},handleFoodClick:m,handleDelete:function(){a("filteredFood",p=n),a("filter",u=""),a("successMessage",d=""),a("errorMessage",i="");let e=n.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",n=e),e=h.filter(function(e,t,a){return e.name!==s}),localStorage.setItem("recentFood",JSON.stringify(e)),h=e,a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",l=""),a("successMessage",d="Food was deleted"),a("showUpdateForm",f=!1)},handleDeleteAll:()=>{a("successMessage",d="All food was deleted"),localStorage.removeItem("food"),localStorage.removeItem("recentFood"),a("food",n=[]),a("filteredFood",p=[])},handleFoodDelete:g,handleFilter:function(){""===u&&a("filteredFood",p=n),a("filteredFood",p=n.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())))},validateProtein:function(){let e=String(r);a("protein",r=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(o);a("carbs",o=Number(e.substring(0,5)))},validateFat:function(){let e=String(l);a("fat",l=Number(e.substring(0,5)))},input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){r=x(this.value),a("protein",r)},input2_input_handler:function(){o=x(this.value),a("carbs",o)},input3_input_handler:function(){l=x(this.value),a("fat",l)},input_input_handler:function(){u=this.value,a("filter",u)},click_handler:({i:e})=>m(n[e]),click_handler_1:({i:e})=>g(n[e])}}export default class extends e{constructor(e){super(),t(this,e,Y,R,a,{})}}
