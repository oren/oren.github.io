import{S as e,i as s,s as a,e as t,t as r,b as n,d as l,f as i,h as c,k as o,l as u,m as p,x as d,a as h,j as m,P as f,Q as g,U as b,n as v,R as y,N as M,T as x}from"./index.9cf44aa4.js";import{v as _,f as N}from"./validate.ef36bd26.js";function P(e){let s,a;return{c(){s=t("p"),a=r(e.successMessage),this.h()},l(t){s=n(t,"P",{class:!0});var r=l(s);a=i(r,e.successMessage),r.forEach(c),this.h()},h(){o(s,"class","success svelte-1y9yhr4")},m(e,t){u(e,s,t),p(s,a)},p(e,s){e.successMessage&&d(a,s.successMessage)},d(e){e&&c(s)}}}function S(e){let s,a;return{c(){s=t("p"),a=r(e.errorMessage),this.h()},l(t){s=n(t,"P",{class:!0});var r=l(s);a=i(r,e.errorMessage),r.forEach(c),this.h()},h(){o(s,"class","error svelte-1y9yhr4")},m(e,t){u(e,s,t),p(s,a)},p(e,s){e.errorMessage&&d(a,s.errorMessage)},d(e){e&&c(s)}}}function F(e){let s,a,d,M,x,_,N,F,A,I,T,R,U,k,B,E,O,j,w,C,J,z,D,H,Q,q,G=!1,K=!1,L=!1,V=""!==e.successMessage&&P(e),W=""!==e.errorMessage&&S(e);function X(){G=!0,e.input1_input_handler.call(R)}function Y(){K=!0,e.input2_input_handler.call(E)}function Z(){L=!0,e.input3_input_handler.call(C)}return{c(){s=h(),a=t("h2"),d=r("Add Food"),M=h(),V&&V.c(),x=h(),W&&W.c(),_=h(),N=t("form"),F=t("input"),A=h(),I=t("br"),T=h(),R=t("input"),U=h(),k=t("br"),B=h(),E=t("input"),O=h(),j=t("br"),w=h(),C=t("input"),J=h(),z=t("br"),D=h(),H=t("button"),Q=r("Add"),this.h()},l(e){s=m(e),a=n(e,"H2",{class:!0});var t=l(a);d=i(t,"Add Food"),t.forEach(c),M=m(e),V&&V.l(e),x=m(e),W&&W.l(e),_=m(e),N=n(e,"FORM",{class:!0});var r=l(N);F=n(r,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),A=m(r),I=n(r,"BR",{}),T=m(r),R=n(r,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),U=m(r),k=n(r,"BR",{}),B=m(r),E=n(r,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),O=m(r),j=n(r,"BR",{}),w=m(r),C=n(r,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),J=m(r),z=n(r,"BR",{}),D=m(r),H=n(r,"BUTTON",{class:!0});var o=l(H);Q=i(o,"Add"),o.forEach(c),r.forEach(c),this.h()},h(){document.title="Add Food",o(a,"class","text-xl"),o(F,"type","text"),o(F,"placeholder","Name"),o(F,"maxlength","20"),o(F,"size","20"),o(F,"class","svelte-1y9yhr4"),o(R,"type","number"),o(R,"placeholder","Protein"),o(R,"min","0"),o(R,"max","999"),o(R,"class","svelte-1y9yhr4"),o(E,"type","number"),o(E,"placeholder","Carbs"),o(E,"min","0"),o(E,"max","999"),o(E,"class","svelte-1y9yhr4"),o(C,"type","number"),o(C,"placeholder","Fat"),o(C,"min","0"),o(C,"max","999"),o(C,"class","svelte-1y9yhr4"),o(H,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3"),o(N,"class","svelte-1y9yhr4"),q=[f(F,"input",e.input0_input_handler),f(R,"input",X),f(R,"keyup",e.validateProtein),f(E,"input",Y),f(E,"keyup",e.validateCarbs),f(C,"input",Z),f(C,"keyup",e.validateFat),f(H,"click",g(e.handleAdd))]},m(t,r){u(t,s,r),u(t,a,r),p(a,d),u(t,M,r),V&&V.m(t,r),u(t,x,r),W&&W.m(t,r),u(t,_,r),u(t,N,r),p(N,F),b(F,e.name),p(N,A),p(N,I),p(N,T),p(N,R),b(R,e.protein),p(N,U),p(N,k),p(N,B),p(N,E),b(E,e.carbs),p(N,O),p(N,j),p(N,w),p(N,C),b(C,e.fat),p(N,J),p(N,z),p(N,D),p(N,H),p(H,Q)},p(e,s){""!==s.successMessage?V?V.p(e,s):((V=P(s)).c(),V.m(x.parentNode,x)):V&&(V.d(1),V=null),""!==s.errorMessage?W?W.p(e,s):((W=S(s)).c(),W.m(_.parentNode,_)):W&&(W.d(1),W=null),e.name&&F.value!==s.name&&b(F,s.name),!G&&e.protein&&b(R,s.protein),G=!1,!K&&e.carbs&&b(E,s.carbs),K=!1,!L&&e.fat&&b(C,s.fat),L=!1},i:v,o:v,d(e){e&&c(s),e&&c(a),e&&c(M),V&&V.d(e),e&&c(x),W&&W.d(e),e&&c(_),e&&c(N),y(q)}}}function A(e,s,a){let t="",r="",n="",l="",i=[],c="",o="";return M(async()=>{i=JSON.parse(localStorage.getItem("food"))||[]}),{name:t,protein:r,carbs:n,fat:l,errorMessage:c,successMessage:o,handleAdd:function(){event.preventDefault();let e={};if(a("successMessage",o=""),a("errorMessage",c=""),!(e=_({name:t,protein:r,carbs:n,fat:l})).valid)return a("errorMessage",c=e.message),void console.log("error",c);const s=JSON.parse(localStorage.getItem("food"))||[];-1===N(t,s)?(s.push({name:t,protein:r,carbs:n,fat:l}),localStorage.setItem("food",JSON.stringify(s)),i=s,a("name",t=""),a("protein",r=""),a("carbs",n=""),a("fat",l=""),a("successMessage",o="Food was added")):a("errorMessage",c="Food with this name already exist")},validateProtein:function(){let e=String(r);a("protein",r=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(n);a("carbs",n=Number(e.substring(0,5)))},validateFat:function(){let e=String(l);a("fat",l=Number(e.substring(0,5)))},input0_input_handler:function(){t=this.value,a("name",t)},input1_input_handler:function(){r=x(this.value),a("protein",r)},input2_input_handler:function(){n=x(this.value),a("carbs",n)},input3_input_handler:function(){l=x(this.value),a("fat",l)}}}export default class extends e{constructor(e){super(),s(this,e,A,F,a,{})}}
