import{S as e,i as a,s as t,e as r,t as o,a as s,b as l,d as n,f as c,h as i,j as f,k as d,O as u,l as h,m,x as p,P as g,T as b,U as v,n as k,I as S,N as F}from"./index.52cd5646.js";function E(e,a,t){const r=Object.create(e);return r.id=a[t].id,r.name=a[t].name,r.i=t,r}function I(e){let a,t,g,b,v,k,S,F,E,I,N,j=Math.round(e.goal-e.calories)+"";return{c(){a=r("div"),t=r("span"),g=o("Goal:"),b=o(e.goal),v=s(),k=r("span"),S=o("Left:"),E=r("span"),I=o(j),this.h()},l(r){a=l(r,"DIV",{});var o=n(a);t=l(o,"SPAN",{class:!0});var s=n(t);g=c(s,"Goal:"),b=c(s,e.goal),s.forEach(i),v=f(o),k=l(o,"SPAN",{class:!0});var d=n(k);S=c(d,"Left:"),d.forEach(i),E=l(o,"SPAN",{class:!0});var u=n(E);I=c(u,j),u.forEach(i),o.forEach(i),this.h()},h(){d(t,"class","svelte-ue0jmk"),d(k,"class",F=u(e.remaining)+" svelte-ue0jmk"),d(E,"class",N=u(e.remaining)+" svelte-ue0jmk")},m(e,r){h(e,a,r),m(a,t),m(t,g),m(t,b),m(a,v),m(a,k),m(k,S),m(a,E),m(E,I)},p(e,a){e.goal&&p(b,a.goal),e.remaining&&F!==(F=u(a.remaining)+" svelte-ue0jmk")&&d(k,"class",F),(e.goal||e.calories)&&j!==(j=Math.round(a.goal-a.calories)+"")&&p(I,j),e.remaining&&N!==(N=u(a.remaining)+" svelte-ue0jmk")&&d(E,"class",N)},d(e){e&&i(a)}}}function N(e){let a,t;return{c(){a=r("input"),this.h()},l(e){a=l(e,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),this.h()},h(){d(a,"class","bg-gray-200 px-2 py-1 mb-2 mt-1"),d(a,"type","text"),d(a,"placeholder","Search"),d(a,"maxlength","5"),d(a,"size","3"),t=[g(a,"input",e.input_input_handler),g(a,"input",e.handleFilter)]},m(t,r){h(t,a,r),b(a,e.filter)},p(e,t){e.filter&&a.value!==t.filter&&b(a,t.filter)},d(e){e&&i(a),v(t)}}}function j(e){let a,t,s,f=e.name+"";function u(...a){return e.click_handler(e,...a)}return{c(){a=r("button"),t=o(f),this.h()},l(e){a=l(e,"BUTTON",{class:!0});var r=n(a);t=c(r,f),r.forEach(i),this.h()},h(){d(a,"class","bg-blue-100 p-1"),s=g(a,"click",u)},m(e,r){h(e,a,r),m(a,t)},p(a,r){e=r,a.filteredFood&&f!==(f=e.name+"")&&p(t,f)},d(e){e&&i(a),s()}}}function x(e){let a,t,u,g,b,v,F,x,y,A,P,C,M,T,w,G,L,O,_,J,U,D,V,z,$,B,q,H,K,Q,R=Math.round(e.calories)+"",W=Math.round(e.protein)+"",X=Math.round(e.carbs)+"",Y=Math.round(e.fat)+"",Z=e.isGoal&&I(e),ee=e.food.length>=10&&N(e),ae=e.filteredFood,te=[];for(let a=0;a<ae.length;a+=1)te[a]=j(E(e,ae,a));return{c(){a=s(),Z&&Z.c(),t=s(),u=r("div"),g=r("span"),b=o("Cal:"),v=o(R),F=s(),x=r("span"),y=o("P:"),A=o(W),P=s(),C=r("span"),M=o("C:"),T=o(X),w=s(),G=r("span"),L=o("F:"),O=o(Y),_=s(),ee&&ee.c(),J=s(),U=r("div");for(let e=0;e<te.length;e+=1)te[e].c();D=s(),V=r("ul"),z=r("li"),$=r("a"),B=o("Ate Today"),q=s(),H=r("li"),K=r("a"),Q=o("Choose Food"),this.h()},l(e){a=f(e),Z&&Z.l(e),t=f(e),u=l(e,"DIV",{});var r=n(u);g=l(r,"SPAN",{class:!0});var o=n(g);b=c(o,"Cal:"),v=c(o,R),o.forEach(i),F=f(r),x=l(r,"SPAN",{class:!0});var s=n(x);y=c(s,"P:"),A=c(s,W),s.forEach(i),P=f(r),C=l(r,"SPAN",{class:!0});var d=n(C);M=c(d,"C:"),T=c(d,X),d.forEach(i),w=f(r),G=l(r,"SPAN",{class:!0});var h=n(G);L=c(h,"F:"),O=c(h,Y),h.forEach(i),r.forEach(i),_=f(e),ee&&ee.l(e),J=f(e),U=l(e,"DIV",{class:!0});var m=n(U);for(let e=0;e<te.length;e+=1)te[e].l(m);m.forEach(i),D=f(e),V=l(e,"UL",{class:!0});var p=n(V);z=l(p,"LI",{class:!0});var k=n(z);$=l(k,"A",{class:!0,href:!0});var S=n($);B=c(S,"Ate Today"),S.forEach(i),k.forEach(i),q=f(p),H=l(p,"LI",{class:!0});var E=n(H);K=l(E,"A",{class:!0,href:!0});var I=n(K);Q=c(I,"Choose Food"),I.forEach(i),E.forEach(i),p.forEach(i),this.h()},h(){document.title="Eat",d(g,"class","svelte-ue0jmk"),d(x,"class","svelte-ue0jmk"),d(C,"class","svelte-ue0jmk"),d(G,"class","svelte-ue0jmk"),d(U,"class","wrapper svelte-ue0jmk"),d($,"class","inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4"),d($,"href","/food"),d(z,"class","mr-3"),d(K,"class","inline-block border border-blue-500 rounded py-2 px-4 bg-blue-500 hover:bg-blue-700 text-white"),d(K,"href",""),d(H,"class","mr-3"),d(V,"class","flex mb-3 pills svelte-ue0jmk")},m(e,r){h(e,a,r),Z&&Z.m(e,r),h(e,t,r),h(e,u,r),m(u,g),m(g,b),m(g,v),m(u,F),m(u,x),m(x,y),m(x,A),m(u,P),m(u,C),m(C,M),m(C,T),m(u,w),m(u,G),m(G,L),m(G,O),h(e,_,r),ee&&ee.m(e,r),h(e,J,r),h(e,U,r);for(let e=0;e<te.length;e+=1)te[e].m(U,null);h(e,D,r),h(e,V,r),m(V,z),m(z,$),m($,B),m(V,q),m(V,H),m(H,K),m(K,Q)},p(e,a){if(a.isGoal?Z?Z.p(e,a):((Z=I(a)).c(),Z.m(t.parentNode,t)):Z&&(Z.d(1),Z=null),e.calories&&R!==(R=Math.round(a.calories)+"")&&p(v,R),e.protein&&W!==(W=Math.round(a.protein)+"")&&p(A,W),e.carbs&&X!==(X=Math.round(a.carbs)+"")&&p(T,X),e.fat&&Y!==(Y=Math.round(a.fat)+"")&&p(O,Y),a.food.length>=10?ee?ee.p(e,a):((ee=N(a)).c(),ee.m(J.parentNode,J)):ee&&(ee.d(1),ee=null),e.handleFoodClick||e.filteredFood){let t;for(ae=a.filteredFood,t=0;t<ae.length;t+=1){const r=E(a,ae,t);te[t]?te[t].p(e,r):(te[t]=j(r),te[t].c(),te[t].m(U,null))}for(;t<te.length;t+=1)te[t].d(1);te.length=ae.length}},i:k,o:k,d(e){e&&i(a),Z&&Z.d(e),e&&i(t),e&&i(u),e&&i(_),ee&&ee.d(e),e&&i(J),e&&i(U),S(te,e),e&&i(D),e&&i(V)}}}function y(e,a,t){let r=!1,o="50% 50%",s=!1,l=2e3,n=[],c=[],i=0,f=0,d=0,u="",h=[];function m(e){let a=n.findIndex(a=>a.name===e.name);-1===a?(e.count=1,n=[...n,e]):n[a].count=n[a].count+1,localStorage.setItem("ate",JSON.stringify(n)),p()}F(async()=>{r="true"===(r=localStorage.getItem("firstTime")||"true"),t("isGoal",s=localStorage.getItem("isGoal")||!1),t("goal",l=localStorage.getItem("goal")||2e3),o=localStorage.getItem("columns")||"50% 50%",t("food",c=JSON.parse(localStorage.getItem("food"))||[]),t("filteredFood",h=c),t("filteredFood",h=h.slice(0,15)),n=JSON.parse(localStorage.getItem("ate"))||[],r&&0===c.length&&(t("food",c=[{name:"cup milk 2%",protein:5,carbs:6,fat:7},{name:"cup oatmeal",protein:6,carbs:7.3,fat:7.2},{name:"egg",protein:6,carbs:0,fat:7.2},{name:"100g chicken breast",protein:20,carbs:3.2,fat:5.1},{name:"100g brown rice",protein:4,carbs:6.8,fat:4.7},{name:"100g japanese yams",protein:4,carbs:6.8,fat:4.7},{name:"avocado",protein:4,carbs:6.8,fat:4.7},{name:"olive oil",protein:2,carbs:3.8,fat:8},{name:"apple",protein:1,carbs:5.8,fat:3},{name:"cottage cheese",protein:1,carbs:5.8,fat:3},{name:"100g greek yugurt",protein:1,carbs:5.8,fat:3},{name:"1 tbsp peanut butter",protein:1,carbs:5.8,fat:3},{name:"100g salmon",protein:1,carbs:5.8,fat:3},{name:"100g steak",protein:1,carbs:5.8,fat:3},{name:"egg white",protein:1,carbs:5.8,fat:3},{name:"sardins",protein:1,carbs:5.8,fat:3},{name:"tuna can",protein:1,carbs:5.8,fat:3},{name:"tuna fresh",protein:1,carbs:5.8,fat:3},{name:"150g drum sticks",protein:1,carbs:5.8,fat:3},{name:"100g chicken thighs",protein:1,carbs:5.8,fat:3}]),localStorage.setItem("firstTime","false"),localStorage.setItem("food",JSON.stringify(c)),t("filteredFood",h=c),t("filteredFood",h=h.slice(0,15))),p()});const p=e=>{t("protein",i=n.reduce(function(e,a){return e+a.protein*a.count},0)),t("carbs",f=n.reduce(function(e,a){return e+a.carbs*a.count},0)),t("fat",d=n.reduce(function(e,a){return e+a.fat*a.count},0))};let g,b;return e.$$.update=((e={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(e.protein||e.carbs||e.fat)&&t("calories",b=parseFloat(Number(4*i+4*f+9*d).toFixed(1))),(e.goal||e.calories)&&t("remaining",g=l-b<=0?"remaining":"")}),{isGoal:s,goal:l,food:c,protein:i,carbs:f,fat:d,filter:u,filteredFood:h,handleFilter:function(){""===u&&t("filteredFood",h=c),t("filteredFood",h=c.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())))},handleFoodClick:m,remaining:g,calories:b,input_input_handler:function(){u=this.value,t("filter",u)},click_handler:({i:e})=>m(h[e])}}export default class extends e{constructor(e){super(),a(this,e,y,x,t,{})}}
