import{S as e,i as t,s as a,t as o,d as n,k as r,y as l,f as d,e as s,c as i,h as u,G as c,n as p,a as f,b as h,g as m,l as g,z as b,J as N,H as v,K as _,I as y}from"./index.dabfb2a8.js";function I(e,t,a){const o=Object.create(e);return o.id=t[a].id,o.name=t[a].name,o.i=a,o}function M(e){let t,a;return{c(){t=s("h1"),a=o("Update Food")},l(e){t=i(e,"H1",{});var o=h(t);a=n(o,"Update Food"),o.forEach(d)},m(e,o){r(e,t,o),g(t,a)},d(e){e&&d(t)}}}function F(e){let t,a;return{c(){t=s("h1"),a=o("Add Food")},l(e){t=i(e,"H1",{});var o=h(t);a=n(o,"Add Food"),o.forEach(d)},m(e,o){r(e,t,o),g(t,a)},d(e){e&&d(t)}}}function U(e){let t;return{c(){t=o(e.errorMessage)},l(a){t=n(a,e.errorMessage)},m(e,a){r(e,t,a)},p(e,a){e.errorMessage&&l(t,a.errorMessage)},d(e){e&&d(t)}}}function S(e){let t,a;return{c(){t=s("input"),this.h()},l(e){t=i(e,"INPUT",{type:!0,value:!0}),this.h()},h(){u(t,"type","button"),t.value="delete",a=c(t,"click",e.handleDelete)},m(e,a){r(e,t,a)},p:p,d(e){e&&d(t),a()}}}function k(e){let t,a,l,c,p;return{c(){t=s("h1"),a=o("Food"),l=f(),c=s("p"),p=o("Click food to update"),this.h()},l(e){t=i(e,"H1",{class:!0});var o=h(t);a=n(o,"Food"),o.forEach(d),l=m(e),c=i(e,"P",{});var r=h(c);p=n(r,"Click food to update"),r.forEach(d),this.h()},h(){u(t,"class","food svelte-tbi16r")},m(e,o){r(e,t,o),g(t,a),r(e,l,o),r(e,c,o),g(c,p)},d(e){e&&d(t),e&&d(l),e&&d(c)}}}function P(e){let t,a,u,p=e.name+"";function f(...t){return e.click_handler(e,...t)}return{c(){t=s("button"),a=o(p),this.h()},l(e){t=i(e,"BUTTON",{});var o=h(t);a=n(o,p),o.forEach(d),this.h()},h(){u=c(t,"click",f)},m(e,o){r(e,t,o),g(t,a)},p(t,o){e=o,t.food&&p!==(p=e.name+"")&&l(a,p)},d(e){e&&d(t),u()}}}function x(e){let t,a,o,n,l,y,x,O,T,C,B,E,J,R,A,V,H,D,j,$,z,G,K,q,w,L,Q,W;function X(e,t){return"add"===t.mode?F:M}let Y=X(0,e),Z=Y(e),ee=""!==e.errorMessage&&U(e),te="update"===e.mode&&S(e),ae=0!==e.food.length&&k(),oe=e.food,ne=[];for(let t=0;t<oe.length;t+=1)ne[t]=P(I(e,oe,t));return{c(){t=f(),Z.c(),a=f(),ee&&ee.c(),o=f(),n=s("form"),l=s("input"),y=f(),x=s("br"),O=f(),T=s("input"),C=f(),B=s("br"),E=f(),J=s("input"),R=f(),A=s("br"),V=f(),H=s("input"),D=f(),j=s("br"),$=f(),z=s("br"),G=f(),K=s("input"),q=f(),te&&te.c(),w=f(),ae&&ae.c(),L=f();for(let e=0;e<ne.length;e+=1)ne[e].c();Q=b(),this.h()},l(e){t=m(e),Z.l(e),a=m(e),ee&&ee.l(e),o=m(e),n=i(e,"FORM",{});var r=h(n);l=i(r,"INPUT",{type:!0,placeholder:!0}),y=m(r),x=i(r,"BR",{}),O=m(r),T=i(r,"INPUT",{type:!0,placeholder:!0}),C=m(r),B=i(r,"BR",{}),E=m(r),J=i(r,"INPUT",{type:!0,placeholder:!0}),R=m(r),A=i(r,"BR",{}),V=m(r),H=i(r,"INPUT",{type:!0,placeholder:!0}),D=m(r),j=i(r,"BR",{}),$=m(r),z=i(r,"BR",{}),G=m(r),K=i(r,"INPUT",{type:!0,value:!0}),q=m(r),te&&te.l(r),r.forEach(d),w=m(e),ae&&ae.l(e),L=m(e);for(let t=0;t<ne.length;t+=1)ne[t].l(e);Q=b(),this.h()},h(){document.title="Food",u(l,"type","text"),u(l,"placeholder","Name"),u(T,"type","text"),u(T,"placeholder","Protein"),u(J,"type","text"),u(J,"placeholder","Carbs"),u(H,"type","text"),u(H,"placeholder","Fat"),u(K,"type","button"),K.value=e.buttonValue,W=[c(l,"input",e.input0_input_handler),c(T,"input",e.input1_input_handler),c(J,"input",e.input2_input_handler),c(H,"input",e.input3_input_handler),c(K,"click",e.handleAddUpdate)]},m(d,s){r(d,t,s),Z.m(d,s),r(d,a,s),ee&&ee.m(d,s),r(d,o,s),r(d,n,s),g(n,l),N(l,e.name),g(n,y),g(n,x),g(n,O),g(n,T),N(T,e.protein),g(n,C),g(n,B),g(n,E),g(n,J),N(J,e.carbs),g(n,R),g(n,A),g(n,V),g(n,H),N(H,e.fat),g(n,D),g(n,j),g(n,$),g(n,z),g(n,G),g(n,K),g(n,q),te&&te.m(n,null),r(d,w,s),ae&&ae.m(d,s),r(d,L,s);for(let e=0;e<ne.length;e+=1)ne[e].m(d,s);r(d,Q,s)},p(e,t){if(Y!==(Y=X(0,t))&&(Z.d(1),(Z=Y(t))&&(Z.c(),Z.m(a.parentNode,a))),""!==t.errorMessage?ee?ee.p(e,t):((ee=U(t)).c(),ee.m(o.parentNode,o)):ee&&(ee.d(1),ee=null),e.name&&l.value!==t.name&&N(l,t.name),e.protein&&T.value!==t.protein&&N(T,t.protein),e.carbs&&J.value!==t.carbs&&N(J,t.carbs),e.fat&&H.value!==t.fat&&N(H,t.fat),e.buttonValue&&(K.value=t.buttonValue),"update"===t.mode?te?te.p(e,t):((te=S(t)).c(),te.m(n,null)):te&&(te.d(1),te=null),0!==t.food.length?ae||((ae=k()).c(),ae.m(L.parentNode,L)):ae&&(ae.d(1),ae=null),e.handleFoodClick||e.food){let a;for(oe=t.food,a=0;a<oe.length;a+=1){const o=I(t,oe,a);ne[a]?ne[a].p(e,o):(ne[a]=P(o),ne[a].c(),ne[a].m(Q.parentNode,Q))}for(;a<ne.length;a+=1)ne[a].d(1);ne.length=oe.length}},i:p,o:p,d(e){e&&d(t),Z.d(e),e&&d(a),ee&&ee.d(e),e&&d(o),e&&d(n),te&&te.d(),e&&d(w),ae&&ae.d(e),e&&d(L),v(ne,e),e&&d(Q),_(W)}}}function O(e,t,a){let o="",n="",r="",l="",d=[],s="add",i="",u="";function c(e){i=e.name,a("name",o=e.name),a("protein",n=e.protein),a("carbs",r=e.carbs),a("fat",l=e.fat),a("mode",s="update")}y(async()=>{a("food",d=JSON.parse(localStorage.getItem("food"))||[])});let p;return e.$$.update=((e={mode:1})=>{e.mode&&a("buttonValue",p="add"===s?"Add":"Update")}),{name:o,protein:n,carbs:r,fat:l,food:d,mode:s,errorMessage:u,handleAddUpdate:function(){if(a("errorMessage",u=""),!(""===o?(a("errorMessage",u="Name is missing"),0):""===n?(a("errorMessage",u="Protein is missing"),0):Number.isInteger(Number(n))?""===r?(a("errorMessage",u="Carbs is missing"),0):Number.isInteger(Number(r))?""===l?(a("errorMessage",u="Fat is missing"),0):Number.isInteger(Number(l))||(a("errorMessage",u="Fat should be a number"),0):(a("errorMessage",u="Carbs should be a number"),0):(a("errorMessage",u="Protein should be a number"),0)))return;if("add"===s){const e=JSON.parse(localStorage.getItem("food"))||[];return e.push({name:o,protein:n,carbs:r,fat:l}),localStorage.setItem("food",JSON.stringify(e)),a("food",d=e),void event.preventDefault()}let e=d.findIndex(e=>e.name===i);console.log(e),console.log(i),a("food",d[e].name=o,d),a("food",d[e].protein=n,d),a("food",d[e].carbs=r,d),a("food",d[e].fat=l,d),localStorage.setItem("food",JSON.stringify(d))},handleFoodClick:c,handleDelete:function(){let e=d.filter(function(e,t,a){return e.name!==o});localStorage.setItem("food",JSON.stringify(e)),a("food",d=e),a("mode",s="add"),a("name",o=""),a("protein",n=""),a("carbs",r=""),a("fat",l="")},buttonValue:p,input0_input_handler:function(){o=this.value,a("name",o)},input1_input_handler:function(){n=this.value,a("protein",n)},input2_input_handler:function(){r=this.value,a("carbs",r)},input3_input_handler:function(){l=this.value,a("fat",l)},click_handler:({i:e})=>c(d[e])}}export default class extends e{constructor(e){super(),t(this,e,O,x,a,{})}}
