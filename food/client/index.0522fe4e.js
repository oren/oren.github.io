import{S as a,i as e,s as t,a as o,e as r,t as s,j as n,b as c,d as l,f as i,h as f,k as h,l as d,m,q as u,E as p,p as g,N as b,D as v,O as I,x as A,P as E,n as S,c as N,g as x,Q as C,o as F,r as P,I as k}from"./index.52cd5646.js";import{I as M,t as $}from"./index.48ddcbd2.js";function D(a,e,t){const o=Object.create(a);return o.id=e[t].id,o.name=e[t].name,o.count=e[t].count,o.i=t,o}function y(a){let e,t,b,I,E,S,N,x,C,F,P,M,$,y,O,V,j,L,U,J,B,Y,_,q,Q,z,H,K,R,W=Math.round(a.calories)+"",X=Math.round(a.protein)+"",Z=Math.round(a.carbs)+"",aa=Math.round(a.fat)+"",ea=a.isGoal&&T(a),ta=a.foodIAte.length>0&&G(a),oa=a.foodIAte,ra=[];for(let e=0;e<oa.length;e+=1)ra[e]=w(D(a,oa,e));const sa=a=>u(ra[a],1,1,()=>{ra[a]=null});return{c(){ea&&ea.c(),e=o(),t=r("div"),b=r("span"),I=s("Cal:"),E=s(W),S=o(),N=r("span"),x=s("P:"),C=s(X),F=o(),P=r("span"),M=s("C:"),$=s(Z),y=o(),O=r("span"),V=s("F:"),j=s(aa),L=o(),ta&&ta.c(),U=o(),J=r("div");for(let a=0;a<ra.length;a+=1)ra[a].c();B=o(),Y=r("ul"),_=r("li"),q=s("Ate Today"),Q=o(),z=r("li"),H=r("a"),K=s("Choose Food"),this.h()},l(a){ea&&ea.l(a),e=n(a),t=c(a,"DIV",{});var o=l(t);b=c(o,"SPAN",{class:!0});var r=l(b);I=i(r,"Cal:"),E=i(r,W),r.forEach(f),S=n(o),N=c(o,"SPAN",{class:!0});var s=l(N);x=i(s,"P:"),C=i(s,X),s.forEach(f),F=n(o),P=c(o,"SPAN",{class:!0});var h=l(P);M=i(h,"C:"),$=i(h,Z),h.forEach(f),y=n(o),O=c(o,"SPAN",{class:!0});var d=l(O);V=i(d,"F:"),j=i(d,aa),d.forEach(f),o.forEach(f),L=n(a),ta&&ta.l(a),U=n(a),J=c(a,"DIV",{class:!0});var m=l(J);for(let a=0;a<ra.length;a+=1)ra[a].l(m);m.forEach(f),B=n(a),Y=c(a,"UL",{class:!0});var u=l(Y);_=c(u,"LI",{class:!0});var p=l(_);q=i(p,"Ate Today"),p.forEach(f),Q=n(u),z=c(u,"LI",{class:!0});var g=l(z);H=c(g,"A",{href:!0,class:!0});var v=l(H);K=i(v,"Choose Food"),v.forEach(f),g.forEach(f),u.forEach(f),this.h()},h(){h(b,"class","svelte-1ebt1c8"),h(N,"class","svelte-1ebt1c8"),h(P,"class","svelte-1ebt1c8"),h(O,"class","svelte-1ebt1c8"),h(J,"class","ate-wrapper mt-1 svelte-1ebt1c8"),h(_,"class","first svelte-1ebt1c8"),h(H,"href","/food/eat"),h(H,"class","svelte-1ebt1c8"),h(z,"class","second svelte-1ebt1c8"),h(Y,"class","svelte-1ebt1c8")},m(a,o){ea&&ea.m(a,o),d(a,e,o),d(a,t,o),m(t,b),m(b,I),m(b,E),m(t,S),m(t,N),m(N,x),m(N,C),m(t,F),m(t,P),m(P,M),m(P,$),m(t,y),m(t,O),m(O,V),m(O,j),d(a,L,o),ta&&ta.m(a,o),d(a,U,o),d(a,J,o);for(let a=0;a<ra.length;a+=1)ra[a].m(J,null);d(a,B,o),d(a,Y,o),m(Y,_),m(_,q),m(Y,Q),m(Y,z),m(z,H),m(H,K),R=!0},p(a,t){if(t.isGoal?ea?ea.p(a,t):((ea=T(t)).c(),ea.m(e.parentNode,e)):ea&&(ea.d(1),ea=null),R&&!a.calories||W===(W=Math.round(t.calories)+"")||A(E,W),R&&!a.protein||X===(X=Math.round(t.protein)+"")||A(C,X),R&&!a.carbs||Z===(Z=Math.round(t.carbs)+"")||A($,Z),R&&!a.fat||aa===(aa=Math.round(t.fat)+"")||A(j,aa),t.foodIAte.length>0?ta?ta.p(a,t):((ta=G(t)).c(),ta.m(U.parentNode,U)):ta&&(ta.d(1),ta=null),a.foodIAte||a.handleDelete||a.trash){let e;for(oa=t.foodIAte,e=0;e<oa.length;e+=1){const o=D(t,oa,e);ra[e]?(ra[e].p(a,o),g(ra[e],1)):(ra[e]=w(o),ra[e].c(),g(ra[e],1),ra[e].m(J,null))}for(v(),e=oa.length;e<ra.length;e+=1)sa(e);p()}},i(a){if(!R){for(let a=0;a<oa.length;a+=1)g(ra[a]);R=!0}},o(a){ra=ra.filter(Boolean);for(let a=0;a<ra.length;a+=1)u(ra[a]);R=!1},d(a){ea&&ea.d(a),a&&f(e),a&&f(t),a&&f(L),ta&&ta.d(a),a&&f(U),a&&f(J),k(ra,a),a&&f(B),a&&f(Y)}}}function O(a){let e,t,u,p,g,b,v;return{c(){e=r("p"),t=s("You have no food."),u=o(),p=r("p"),g=r("a"),b=s("Add some food first"),v=s("."),this.h()},l(a){e=c(a,"P",{});var o=l(e);t=i(o,"You have no food."),o.forEach(f),u=n(a),p=c(a,"P",{});var r=l(p);g=c(r,"A",{href:!0});var s=l(g);b=i(s,"Add some food first"),s.forEach(f),v=i(r,"."),r.forEach(f),this.h()},h(){h(g,"href","/food/manage-food/add-food")},m(a,o){d(a,e,o),m(e,t),d(a,u,o),d(a,p,o),m(p,g),m(g,b),m(p,v)},p:S,i:S,o:S,d(a){a&&f(e),a&&f(u),a&&f(p)}}}function T(a){let e,t,u,p,g,b,v,E,S,N,x,C=Math.round(a.goal-a.calories)+"";return{c(){e=r("div"),t=r("span"),u=s("Goal:"),p=s(a.goal),g=o(),b=r("span"),v=s("Left:"),S=r("span"),N=s(C),this.h()},l(o){e=c(o,"DIV",{});var r=l(e);t=c(r,"SPAN",{class:!0});var s=l(t);u=i(s,"Goal:"),p=i(s,a.goal),s.forEach(f),g=n(r),b=c(r,"SPAN",{class:!0});var h=l(b);v=i(h,"Left:"),h.forEach(f),S=c(r,"SPAN",{class:!0});var d=l(S);N=i(d,C),d.forEach(f),r.forEach(f),this.h()},h(){h(t,"class","svelte-1ebt1c8"),h(b,"class",E=I(a.remaining)+" svelte-1ebt1c8"),h(S,"class",x=I(a.remaining)+" svelte-1ebt1c8")},m(a,o){d(a,e,o),m(e,t),m(t,u),m(t,p),m(e,g),m(e,b),m(b,v),m(e,S),m(S,N)},p(a,e){a.goal&&A(p,e.goal),a.remaining&&E!==(E=I(e.remaining)+" svelte-1ebt1c8")&&h(b,"class",E),(a.goal||a.calories)&&C!==(C=Math.round(e.goal-e.calories)+"")&&A(N,C),a.remaining&&x!==(x=I(e.remaining)+" svelte-1ebt1c8")&&h(S,"class",x)},d(a){a&&f(e)}}}function G(a){let e,t,o,n;return{c(){e=r("div"),t=r("button"),o=s("Clear All"),this.h()},l(a){e=c(a,"DIV",{});var r=l(e);t=c(r,"BUTTON",{class:!0});var s=l(t);o=i(s,"Clear All"),s.forEach(f),r.forEach(f),this.h()},h(){h(t,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3 w-1/2"),n=E(t,"click",a.handleClear)},m(a,r){d(a,e,r),m(e,t),m(t,o)},p:S,d(a){a&&f(e),n()}}}function w(a){let e,t,o,n,p,b,v,I=a.name+"",S=a.count+"";const k=new M({props:{data:$}});function D(...e){return a.click_handler(a,...e)}return{c(){e=r("button"),N(k.$$.fragment),t=r("div"),o=s(I),n=r("div"),p=s(S),this.h()},l(a){e=c(a,"BUTTON",{class:!0,href:!0});var r=l(e);x(k.$$.fragment,r),r.forEach(f),t=c(a,"DIV",{});var s=l(t);o=i(s,I),s.forEach(f),n=c(a,"DIV",{});var h=l(n);p=i(h,S),h.forEach(f),this.h()},h(){h(e,"class","text-red-400"),h(e,"href","#"),v=E(e,"click",C(D))},m(a,r){d(a,e,r),F(k,e,null),d(a,t,r),m(t,o),d(a,n,r),m(n,p),b=!0},p(e,t){a=t,b&&!e.foodIAte||I===(I=a.name+"")||A(o,I),b&&!e.foodIAte||S===(S=a.count+"")||A(p,S)},i(a){b||(g(k.$$.fragment,a),b=!0)},o(a){u(k.$$.fragment,a),b=!1},d(a){a&&f(e),P(k),a&&f(t),a&&f(n),v()}}}function V(a){let e,t,b,I,A,E,S,N,x,C,F,P,k;const M=[O,y],$=[];function D(a,e){return 0===e.food.length?0:1}return t=D(0,a),b=$[t]=M[t](a),{c(){e=o(),b.c(),I=o(),A=r("a"),E=s("Choose Food"),S=o(),N=r("a"),x=s("Update Food"),C=o(),F=r("a"),P=s("Export Food"),this.h()},l(a){e=n(a),b.l(a),I=n(a),A=c(a,"A",{class:!0,href:!0});var t=l(A);E=i(t,"Choose Food"),t.forEach(f),S=n(a),N=c(a,"A",{class:!0,href:!0});var o=l(N);x=i(o,"Update Food"),o.forEach(f),C=n(a),F=c(a,"A",{class:!0,href:!0});var r=l(F);P=i(r,"Export Food"),r.forEach(f),this.h()},h(){document.title="Eat",h(A,"class","invisible"),h(A,"href","/food/eat"),h(N,"class","invisible"),h(N,"href","/food/update-food"),h(F,"class","invisible"),h(F,"href","/food/export")},m(a,o){d(a,e,o),$[t].m(a,o),d(a,I,o),d(a,A,o),m(A,E),d(a,S,o),d(a,N,o),m(N,x),d(a,C,o),d(a,F,o),m(F,P),k=!0},p(a,e){let o=t;(t=D(0,e))===o?$[t].p(a,e):(v(),u($[o],1,1,()=>{$[o]=null}),p(),(b=$[t])||(b=$[t]=M[t](e)).c(),g(b,1),b.m(I.parentNode,I))},i(a){k||(g(b),k=!0)},o(a){u(b),k=!1},d(a){a&&f(e),$[t].d(a),a&&f(I),a&&f(A),a&&f(S),a&&f(N),a&&f(C),a&&f(F)}}}function j(a,e,t){let o=!1,r="50% 50%",s=!1,n=2e3,c=[],l=[],i=0,f=0,h=0,d=[];function m(a){let e=c.filter(function(e,t,o){return e.name!==a.name});t("foodIAte",c=e),localStorage.setItem("ate",JSON.stringify(e)),u()}b(async()=>{o="true"===(o=localStorage.getItem("firstTime")||"true"),t("isGoal",s=localStorage.getItem("isGoal")||!1),t("goal",n=localStorage.getItem("goal")||2e3),r=localStorage.getItem("columns")||"50% 50%",t("food",l=JSON.parse(localStorage.getItem("food"))||[]),d=(d=l).slice(0,15),t("foodIAte",c=JSON.parse(localStorage.getItem("ate"))||[]),o&&0===l.length&&(t("food",l=[{name:"cup milk 2%",protein:5,carbs:6,fat:7},{name:"cup oatmeal",protein:6,carbs:7.3,fat:7.2},{name:"egg",protein:6,carbs:0,fat:7.2},{name:"100g chicken breast",protein:20,carbs:3.2,fat:5.1},{name:"100g brown rice",protein:4,carbs:6.8,fat:4.7},{name:"100g japanese yams",protein:4,carbs:6.8,fat:4.7},{name:"avocado",protein:4,carbs:6.8,fat:4.7},{name:"olive oil",protein:2,carbs:3.8,fat:8},{name:"apple",protein:1,carbs:5.8,fat:3},{name:"cottage cheese",protein:1,carbs:5.8,fat:3},{name:"100g greek yugurt",protein:1,carbs:5.8,fat:3},{name:"1 tbsp peanut butter",protein:1,carbs:5.8,fat:3},{name:"100g salmon",protein:1,carbs:5.8,fat:3},{name:"100g steak",protein:1,carbs:5.8,fat:3},{name:"egg white",protein:1,carbs:5.8,fat:3},{name:"sardins",protein:1,carbs:5.8,fat:3},{name:"tuna can",protein:1,carbs:5.8,fat:3},{name:"tuna fresh",protein:1,carbs:5.8,fat:3},{name:"150g drum sticks",protein:1,carbs:5.8,fat:3},{name:"100g chicken thighs",protein:1,carbs:5.8,fat:3}]),localStorage.setItem("firstTime","false"),localStorage.setItem("food",JSON.stringify(l)),d=(d=l).slice(0,15)),u()});const u=a=>{t("protein",i=c.reduce(function(a,e){return a+e.protein*e.count},0)),t("carbs",f=c.reduce(function(a,e){return a+e.carbs*e.count},0)),t("fat",h=c.reduce(function(a,e){return a+e.fat*e.count},0))};let p,g;return a.$$.update=((a={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(a.protein||a.carbs||a.fat)&&t("calories",g=parseFloat(Number(4*i+4*f+9*h).toFixed(1))),(a.goal||a.calories)&&t("remaining",p=n-g<=0?"remaining":"")}),{isGoal:s,goal:n,foodIAte:c,food:l,protein:i,carbs:f,fat:h,handleClear:function(){localStorage.removeItem("ate"),t("protein",i=0),t("carbs",f=0),t("fat",h=0),t("foodIAte",c=[])},handleDelete:m,remaining:p,calories:g,click_handler:({i:a})=>m(c[a])}}export default class extends a{constructor(a){super(),e(this,a,j,V,t,{})}}
