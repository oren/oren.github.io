import{S as e,i as s,s as t,e as a,t as n,c as r,b as o,d as l,f as i,h as c,k as u,l as d,y as h,a as p,z as f,g as m,n as g,I as b,J as v,G as x,K as k,L as M,H as N}from"./index.805fe9f6.js";function y(e,s,t){const a=Object.create(e);return a.id=s[t].id,a.name=s[t].name,a.i=t,a}function _(e){let s,t;return{c(){s=a("p"),t=n(e.successMessage),this.h()},l(a){s=r(a,"P",{class:!0});var n=o(s);t=l(n,e.successMessage),n.forEach(i),this.h()},h(){c(s,"class","success svelte-40kkxx")},m(e,a){u(e,s,a),d(s,t)},p(e,s){e.successMessage&&h(t,s.successMessage)},d(e){e&&i(s)}}}function I(e){let s,t;return{c(){s=a("p"),t=n(e.errorMessage),this.h()},l(a){s=r(a,"P",{class:!0});var n=o(s);t=l(n,e.errorMessage),n.forEach(i),this.h()},h(){c(s,"class","error svelte-40kkxx")},m(e,a){u(e,s,a),d(s,t)},p(e,s){e.errorMessage&&h(t,s.errorMessage)},d(e){e&&i(s)}}}function P(e){let s,t,h,f,g,b,v,_,I,P,F,C,E,T,O,w,z,J=!1,A=!1,D=!1;function j(){J=!0,e.input1_input_handler.call(f)}function B(){A=!0,e.input2_input_handler.call(b)}function H(){D=!0,e.input3_input_handler.call(_)}let R="update"===e.mode&&U(e),Y=e.food,G=[];for(let s=0;s<Y.length;s+=1)G[s]=S(y(e,Y,s));return{c(){s=a("form"),t=a("input"),h=p(),f=a("input"),g=p(),b=a("input"),v=p(),_=a("input"),I=p(),P=a("br"),F=p(),R&&R.c(),C=p(),E=a("p"),T=n("Click on the food you want to update:"),O=p(),w=a("div");for(let e=0;e<G.length;e+=1)G[e].c();this.h()},l(e){s=r(e,"FORM",{});var a=o(s);t=r(a,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),h=m(a),f=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),g=m(a),b=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),v=m(a),_=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),I=m(a),P=r(a,"BR",{}),F=m(a),R&&R.l(a),a.forEach(i),C=m(e),E=r(e,"P",{class:!0});var n=o(E);T=l(n,"Click on the food you want to update:"),n.forEach(i),O=m(e),w=r(e,"DIV",{class:!0});var c=o(w);for(let e=0;e<G.length;e+=1)G[e].l(c);c.forEach(i),this.h()},h(){c(t,"type","text"),c(t,"placeholder","Name"),c(t,"maxlength","20"),c(t,"size","20"),c(t,"class","svelte-40kkxx"),c(f,"type","number"),c(f,"placeholder","Protein"),c(f,"min","0"),c(f,"max","999"),c(f,"class","svelte-40kkxx"),c(b,"type","number"),c(b,"placeholder","Carbs"),c(b,"min","0"),c(b,"max","999"),c(b,"class","svelte-40kkxx"),c(_,"type","number"),c(_,"placeholder","Fat"),c(_,"min","0"),c(_,"max","999"),c(_,"class","svelte-40kkxx"),c(E,"class","food svelte-40kkxx"),c(w,"class","wrapper svelte-40kkxx"),z=[x(t,"input",e.input0_input_handler),x(f,"input",j),x(f,"keyup",e.validateProtein),x(b,"input",B),x(b,"keyup",e.validateCarbs),x(_,"input",H),x(_,"keyup",e.validateFat)]},m(a,n){u(a,s,n),d(s,t),M(t,e.name),d(s,h),d(s,f),M(f,e.protein),d(s,g),d(s,b),M(b,e.carbs),d(s,v),d(s,_),M(_,e.fat),d(s,I),d(s,P),d(s,F),R&&R.m(s,null),u(a,C,n),u(a,E,n),d(E,T),u(a,O,n),u(a,w,n);for(let e=0;e<G.length;e+=1)G[e].m(w,null)},p(e,a){if(e.name&&t.value!==a.name&&M(t,a.name),!J&&e.protein&&M(f,a.protein),J=!1,!A&&e.carbs&&M(b,a.carbs),A=!1,!D&&e.fat&&M(_,a.fat),D=!1,"update"===a.mode?R?R.p(e,a):((R=U(a)).c(),R.m(s,null)):R&&(R.d(1),R=null),e.handleFoodClick||e.food){let s;for(Y=a.food,s=0;s<Y.length;s+=1){const t=y(a,Y,s);G[s]?G[s].p(e,t):(G[s]=S(t),G[s].c(),G[s].m(w,null))}for(;s<G.length;s+=1)G[s].d(1);G.length=Y.length}},d(e){e&&i(s),R&&R.d(),e&&i(C),e&&i(E),e&&i(O),e&&i(w),N(G,e),k(z)}}}function F(e){let s,t,h,p,f;return{c(){s=a("p"),t=n("You have no food. "),h=a("a"),p=n("Add some food first"),f=n("."),this.h()},l(e){s=r(e,"P",{});var a=o(s);t=l(a,"You have no food. "),h=r(a,"A",{href:!0});var n=o(h);p=l(n,"Add some food first"),n.forEach(i),f=l(a,"."),a.forEach(i),this.h()},h(){c(h,"href","/food/manage-food/add-food")},m(e,a){u(e,s,a),d(s,t),d(s,h),d(h,p),d(s,f)},p:g,d(e){e&&i(s)}}}function U(e){let s,t,n,o;return{c(){s=a("input"),t=p(),n=a("input"),this.h()},l(e){s=r(e,"INPUT",{type:!0,value:!0,maxlength:!0,size:!0,class:!0}),t=m(e),n=r(e,"INPUT",{type:!0,value:!0,class:!0}),this.h()},h(){c(s,"type","button"),s.value="Update",c(s,"maxlength","2"),c(s,"size","2"),c(s,"class","svelte-40kkxx"),c(n,"type","button"),n.value="delete",c(n,"class","svelte-40kkxx"),o=[x(s,"click",e.handleUpdate),x(n,"click",e.handleDelete)]},m(e,a){u(e,s,a),u(e,t,a),u(e,n,a)},p:g,d(e){e&&i(s),e&&i(t),e&&i(n),k(o)}}}function S(e){let s,t,p,f=e.name+"";function m(...s){return e.click_handler(e,...s)}return{c(){s=a("button"),t=n(f),this.h()},l(e){s=r(e,"BUTTON",{class:!0});var a=o(s);t=l(a,f),a.forEach(i),this.h()},h(){c(s,"class","box svelte-40kkxx"),p=x(s,"click",m)},m(e,a){u(e,s,a),d(s,t)},p(s,a){e=a,s.food&&f!==(f=e.name+"")&&h(t,f)},d(e){e&&i(s),p()}}}function C(e){let s,t,c,h,b,v,x,k=""!==e.successMessage&&_(e),M=""!==e.errorMessage&&I(e);function N(e,s){return 0===s.food.length?F:P}let y=N(0,e),U=y(e);return{c(){s=p(),t=a("h2"),c=n("Update Food"),h=p(),k&&k.c(),b=p(),M&&M.c(),v=p(),U.c(),x=f(),this.h()},l(e){s=m(e),t=r(e,"H2",{});var a=o(t);c=l(a,"Update Food"),a.forEach(i),h=m(e),k&&k.l(e),b=m(e),M&&M.l(e),v=m(e),U.l(e),x=f(),this.h()},h(){document.title="Food"},m(e,a){u(e,s,a),u(e,t,a),d(t,c),u(e,h,a),k&&k.m(e,a),u(e,b,a),M&&M.m(e,a),u(e,v,a),U.m(e,a),u(e,x,a)},p(e,s){""!==s.successMessage?k?k.p(e,s):((k=_(s)).c(),k.m(b.parentNode,b)):k&&(k.d(1),k=null),""!==s.errorMessage?M?M.p(e,s):((M=I(s)).c(),M.m(v.parentNode,v)):M&&(M.d(1),M=null),y===(y=N(0,s))&&U?U.p(e,s):(U.d(1),(U=y(s))&&(U.c(),U.m(x.parentNode,x)))},i:g,o:g,d(e){e&&i(s),e&&i(t),e&&i(h),k&&k.d(e),e&&i(b),M&&M.d(e),e&&i(v),U.d(e),e&&i(x)}}}function E(e,s,t){let a="",n="",r="",o="",l=[],i="add",c="",u="",d="";function h(e){t("successMessage",d=""),t("errorMessage",u=""),c=e.name,t("name",a=e.name),t("protein",n=e.protein),t("carbs",r=e.carbs),t("fat",o=e.fat),t("mode",i="update")}b(async()=>{t("food",l=JSON.parse(localStorage.getItem("food"))||[])});return{name:a,protein:n,carbs:r,fat:o,food:l,mode:i,errorMessage:u,successMessage:d,handleUpdate:function(){if(t("successMessage",d=""),t("errorMessage",u=""),t("errorMessage",u=""),!(""===a?(t("errorMessage",u="Name is missing"),0):""===n?(t("errorMessage",u="Protein is missing"),0):Number.isInteger(Number(n))?""===r?(t("errorMessage",u="Carbs is missing"),0):Number.isInteger(Number(r))?""===o?(t("errorMessage",u="Fat is missing"),0):Number.isInteger(Number(o))||(t("errorMessage",u="Fat should be a number"),0):(t("errorMessage",u="Carbs should be a number"),0):(t("errorMessage",u="Protein should be a number"),0)))return;let e=l.findIndex(e=>e.name===c);console.log(e),console.log(c),t("food",l[e].name=a,l),t("food",l[e].protein=n,l),t("food",l[e].carbs=r,l),t("food",l[e].fat=o,l),localStorage.setItem("food",JSON.stringify(l)),t("successMessage",d="Food was updated")},handleFoodClick:h,handleDelete:function(){t("successMessage",d=""),t("errorMessage",u="");let e=l.filter(function(e,s,t){return e.name!==a});localStorage.setItem("food",JSON.stringify(e)),t("food",l=e),t("mode",i="add"),t("name",a=""),t("protein",n=""),t("carbs",r=""),t("fat",o=""),t("successMessage",d="Food was deleted")},validateProtein:function(){let e=String(n);t("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(r);t("carbs",r=Number(e.substring(0,5)))},validateFat:function(){let e=String(o);t("fat",o=Number(e.substring(0,5)))},input0_input_handler:function(){a=this.value,t("name",a)},input1_input_handler:function(){n=v(this.value),t("protein",n)},input2_input_handler:function(){r=v(this.value),t("carbs",r)},input3_input_handler:function(){o=v(this.value),t("fat",o)},click_handler:({i:e})=>h(l[e])}}export default class extends e{constructor(e){super(),s(this,e,E,C,t,{})}}
