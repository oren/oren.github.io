import{S as e,i as a,s as o,a as t,z as l,g as s,k as r,n,f as c,G as i,e as d,t as f,c as h,b as m,d as g,h as u,j as p,l as v,y as A,H as I,I as b}from"./index.5b407ef8.js";function N(e,a,o){const t=Object.create(e);return t.id=a[o].id,t.name=a[o].name,t.i=o,t}function F(e,a,o){const t=Object.create(e);return t.id=a[o].id,t.name=a[o].name,t.count=a[o].count,t.i=o,t}function E(e){let a,o,l,n,i,p,E,S,P,y,G,k,O,j,D,T,V,H,J,B,R,U,Y,$,_,z,K,L,M,Q,W=e.isGoal&&w(e),X=0===e.calories&&q(),Z=e.foodIAte,ee=[];for(let a=0;a<Z.length;a+=1)ee[a]=C(F(e,Z,a));let ae=e.food,oe=[];for(let a=0;a<ae.length;a+=1)oe[a]=x(N(e,ae,a));return{c(){W&&W.c(),a=t(),o=d("div"),l=d("span"),n=f("Calories: "),i=f(e.calories),p=t(),E=d("span"),S=f("Protein:"),P=f(e.protein),y=t(),G=d("span"),k=f("Carbs:"),O=f(e.carbs),j=t(),D=d("span"),T=f("Fat:"),V=f(e.fat),H=t(),J=d("h2"),B=f("I Ate:"),R=d("button"),U=f("Clear"),Y=t(),X&&X.c(),$=t();for(let e=0;e<ee.length;e+=1)ee[e].c();_=t(),z=d("h2"),K=f("Add Food"),L=t(),M=d("div");for(let e=0;e<oe.length;e+=1)oe[e].c();this.h()},l(t){W&&W.l(t),a=s(t),o=h(t,"DIV",{class:!0});var r=m(o);l=h(r,"SPAN",{class:!0});var d=m(l);n=g(d,"Calories: "),i=g(d,e.calories),d.forEach(c),p=s(r),E=h(r,"SPAN",{class:!0});var f=m(E);S=g(f,"Protein:"),P=g(f,e.protein),f.forEach(c),y=s(r),G=h(r,"SPAN",{class:!0});var u=m(G);k=g(u,"Carbs:"),O=g(u,e.carbs),u.forEach(c),j=s(r),D=h(r,"SPAN",{class:!0});var v=m(D);T=g(v,"Fat:"),V=g(v,e.fat),v.forEach(c),r.forEach(c),H=s(t),J=h(t,"H2",{class:!0});var A=m(J);B=g(A,"I Ate:"),R=h(A,"BUTTON",{class:!0});var I=m(R);U=g(I,"Clear"),I.forEach(c),A.forEach(c),Y=s(t),X&&X.l(t),$=s(t);for(let e=0;e<ee.length;e+=1)ee[e].l(t);_=s(t),z=h(t,"H2",{class:!0});var b=m(z);K=g(b,"Add Food"),b.forEach(c),L=s(t),M=h(t,"DIV",{class:!0});var N=m(M);for(let e=0;e<oe.length;e+=1)oe[e].l(N);N.forEach(c),this.h()},h(){u(l,"class","svelte-1whmqeg"),u(E,"class","svelte-1whmqeg"),u(G,"class","svelte-1whmqeg"),u(D,"class","svelte-1whmqeg"),u(o,"class","total svelte-1whmqeg"),u(R,"class","clear svelte-1whmqeg"),u(J,"class","today svelte-1whmqeg"),u(z,"class","add svelte-1whmqeg"),u(M,"class","wrapper svelte-1whmqeg"),Q=I(R,"click",e.handleClear)},m(e,t){W&&W.m(e,t),r(e,a,t),r(e,o,t),v(o,l),v(l,n),v(l,i),v(o,p),v(o,E),v(E,S),v(E,P),v(o,y),v(o,G),v(G,k),v(G,O),v(o,j),v(o,D),v(D,T),v(D,V),r(e,H,t),r(e,J,t),v(J,B),v(J,R),v(R,U),r(e,Y,t),X&&X.m(e,t),r(e,$,t);for(let a=0;a<ee.length;a+=1)ee[a].m(e,t);r(e,_,t),r(e,z,t),v(z,K),r(e,L,t),r(e,M,t);for(let e=0;e<oe.length;e+=1)oe[e].m(M,null)},p(e,o){if(o.isGoal?W?W.p(e,o):((W=w(o)).c(),W.m(a.parentNode,a)):W&&(W.d(1),W=null),e.calories&&A(i,o.calories),e.protein&&A(P,o.protein),e.carbs&&A(O,o.carbs),e.fat&&A(V,o.fat),0===o.calories?X||((X=q()).c(),X.m($.parentNode,$)):X&&(X.d(1),X=null),e.foodIAte){let a;for(Z=o.foodIAte,a=0;a<Z.length;a+=1){const t=F(o,Z,a);ee[a]?ee[a].p(e,t):(ee[a]=C(t),ee[a].c(),ee[a].m(_.parentNode,_))}for(;a<ee.length;a+=1)ee[a].d(1);ee.length=Z.length}if(e.handleFoodClick||e.food){let a;for(ae=o.food,a=0;a<ae.length;a+=1){const t=N(o,ae,a);oe[a]?oe[a].p(e,t):(oe[a]=x(t),oe[a].c(),oe[a].m(M,null))}for(;a<oe.length;a+=1)oe[a].d(1);oe.length=ae.length}},d(e){W&&W.d(e),e&&c(a),e&&c(o),e&&c(H),e&&c(J),e&&c(Y),X&&X.d(e),e&&c($),b(ee,e),e&&c(_),e&&c(z),e&&c(L),e&&c(M),b(oe,e),Q()}}}function S(e){let a,o,l,i,p,A,I;return{c(){a=d("p"),o=f("You have no food."),l=t(),i=d("p"),p=d("a"),A=f("Add some food first"),I=f("."),this.h()},l(e){a=h(e,"P",{});var t=m(a);o=g(t,"You have no food."),t.forEach(c),l=s(e),i=h(e,"P",{});var r=m(i);p=h(r,"A",{href:!0});var n=m(p);A=g(n,"Add some food first"),n.forEach(c),I=g(r,"."),r.forEach(c),this.h()},h(){u(p,"href","/food/manage-food/add-food")},m(e,t){r(e,a,t),v(a,o),r(e,l,t),r(e,i,t),v(i,p),v(p,A),v(i,I)},p:n,d(e){e&&c(a),e&&c(l),e&&c(i)}}}function w(e){let a,o,l,n,i,I,b,N,F,E,S=parseFloat(e.goal-e.calories).toFixed(1)+"";return{c(){a=d("div"),o=d("span"),l=f("Calories Goal: "),n=f(e.goal),i=t(),I=d("span"),b=f("Remaining:"),N=d("span"),F=f(S),this.h()},l(t){a=h(t,"DIV",{class:!0});var r=m(a);o=h(r,"SPAN",{class:!0});var d=m(o);l=g(d,"Calories Goal: "),n=g(d,e.goal),d.forEach(c),i=s(r),I=h(r,"SPAN",{class:!0});var f=m(I);b=g(f,"Remaining:"),f.forEach(c),N=h(r,"SPAN",{class:!0});var u=m(N);F=g(u,S),u.forEach(c),r.forEach(c),this.h()},h(){u(o,"class","svelte-1whmqeg"),u(I,"class","svelte-1whmqeg"),u(N,"class",E=p(e.remaining)+" svelte-1whmqeg"),u(a,"class","goal svelte-1whmqeg")},m(e,t){r(e,a,t),v(a,o),v(o,l),v(o,n),v(a,i),v(a,I),v(I,b),v(a,N),v(N,F)},p(e,a){e.goal&&A(n,a.goal),(e.goal||e.calories)&&S!==(S=parseFloat(a.goal-a.calories).toFixed(1)+"")&&A(F,S),e.remaining&&E!==(E=p(a.remaining)+" svelte-1whmqeg")&&u(N,"class",E)},d(e){e&&c(a)}}}function q(e){let a;return{c(){a=f("Nothing yet... Feed your muscles!")},l(e){a=g(e,"Nothing yet... Feed your muscles!")},m(e,o){r(e,a,o)},d(e){e&&c(a)}}}function C(e){let a,o,l,n,i=e.count+"",u=e.name+"";return{c(){a=d("div"),o=f(i),l=t(),n=f(u)},l(e){a=h(e,"DIV",{});var t=m(a);o=g(t,i),l=s(t),n=g(t,u),t.forEach(c)},m(e,t){r(e,a,t),v(a,o),v(a,l),v(a,n)},p(e,a){e.foodIAte&&i!==(i=a.count+"")&&A(o,i),e.foodIAte&&u!==(u=a.name+"")&&A(n,u)},d(e){e&&c(a)}}}function x(e){let a,o,t,l=e.name+"";function s(...a){return e.click_handler(e,...a)}return{c(){a=d("button"),o=f(l),this.h()},l(e){a=h(e,"BUTTON",{class:!0});var t=m(a);o=g(t,l),t.forEach(c),this.h()},h(){u(a,"class","box svelte-1whmqeg"),t=I(a,"click",s)},m(e,t){r(e,a,t),v(a,o)},p(a,t){e=t,a.food&&l!==(l=e.name+"")&&A(o,l)},d(e){e&&c(a),t()}}}function P(e){let a,o;function i(e,a){return 0===a.food.length?S:E}let d=i(0,e),f=d(e);return{c(){a=t(),f.c(),o=l(),this.h()},l(e){a=s(e),f.l(e),o=l(),this.h()},h(){document.title="Eat"},m(e,t){r(e,a,t),f.m(e,t),r(e,o,t)},p(e,a){d===(d=i(0,a))&&f?f.p(e,a):(f.d(1),(f=d(a))&&(f.c(),f.m(o.parentNode,o)))},i:n,o:n,d(e){e&&c(a),f.d(e),e&&c(o)}}}function y(e,a,o){let t=!1,l=2e3,s=[],r=[],n=0,c=0,d=0;function f(e){let a=s.findIndex(a=>a.name===e.name);-1===a?(e.count=1,o("foodIAte",s=[...s,e])):o("foodIAte",s[a].count=s[a].count+1,s),localStorage.setItem("ate",JSON.stringify(s)),h()}i(async()=>{o("isGoal",t=localStorage.getItem("isGoal")||!1),o("goal",l=localStorage.getItem("goal")||2e3),o("food",r=JSON.parse(localStorage.getItem("food"))||[]),o("foodIAte",s=JSON.parse(localStorage.getItem("ate"))||[]),h()});const h=e=>{o("protein",n=parseFloat(Number(s.reduce(function(e,a){return e+a.protein*a.count},0)).toFixed(1))),o("carbs",c=parseFloat(Number(s.reduce(function(e,a){return e+a.carbs*a.count},0)).toFixed(1))),o("fat",d=parseFloat(Number(s.reduce(function(e,a){return e+a.fat*a.count},0)).toFixed(1)))};let m,g;return e.$$.update=((e={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(e.protein||e.carbs||e.fat)&&o("calories",g=parseFloat(Number(4*n+4*c+9*d).toFixed(1))),(e.goal||e.calories)&&o("remaining",m=l-g<=0?"remaining":"")}),{isGoal:t,goal:l,foodIAte:s,food:r,protein:n,carbs:c,fat:d,handleFoodClick:f,handleClear:function(e){localStorage.removeItem("ate"),o("protein",n=0),o("carbs",c=0),o("fat",d=0),o("foodIAte",s=[])},remaining:m,calories:g,click_handler:({i:e})=>f(r[e])}}export default class extends e{constructor(e){super(),a(this,e,y,P,o,{})}}
