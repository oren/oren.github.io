import{S as e,i as t,s as a,e as r,t as o,b as s,d as n,f as l,h as i,k as c,l as d,m as f,x as u,a as p,y as m,j as h,q as g,E as v,p as b,N as y,D as F,T as x,c as M,g as N,P as T,Q as I,U as _,o as k,r as $,R as S,V as E,I as U,n as D}from"./index.9cf44aa4.js";import{I as O,t as P}from"./index.e287424e.js";import{v as w}from"./validate.d83e4ffc.js";function J(e,t,a){const r=Object.create(e);return r.id=t[a].id,r.name=t[a].name,r.i=a,r}function V(e){let t,a;return{c(){t=r("p"),a=o(e.successMessage),this.h()},l(r){t=s(r,"P",{class:!0});var o=n(t);a=l(o,e.successMessage),o.forEach(i),this.h()},h(){c(t,"class","success svelte-18r9ak2")},m(e,r){d(e,t,r),f(t,a)},p(e,t){e.successMessage&&u(a,t.successMessage)},d(e){e&&i(t)}}}function C(e){let t,a;return{c(){t=r("p"),a=o(e.errorMessage),this.h()},l(r){t=s(r,"P",{class:!0});var o=n(t);a=l(o,e.errorMessage),o.forEach(i),this.h()},h(){c(t,"class","error svelte-18r9ak2")},m(e,r){d(e,t,r),f(t,a)},p(e,t){e.errorMessage&&u(a,t.errorMessage)},d(e){e&&i(t)}}}function B(e){let t,a,r,o,s="updatingFood"===e.formType&&A(e),n="food"===e.formType&&z(e),l="updatingMeal"===e.formType&&R();return{c(){s&&s.c(),t=p(),n&&n.c(),a=p(),l&&l.c(),r=m()},l(e){s&&s.l(e),t=h(e),n&&n.l(e),a=h(e),l&&l.l(e),r=m()},m(e,i){s&&s.m(e,i),d(e,t,i),n&&n.m(e,i),d(e,a,i),l&&l.m(e,i),d(e,r,i),o=!0},p(e,o){"updatingFood"===o.formType?s?(s.p(e,o),b(s,1)):((s=A(o)).c(),b(s,1),s.m(t.parentNode,t)):s&&(F(),g(s,1,1,()=>{s=null}),v()),"food"===o.formType?n?(n.p(e,o),b(n,1)):((n=z(o)).c(),b(n,1),n.m(a.parentNode,a)):n&&(F(),g(n,1,1,()=>{n=null}),v()),"updatingMeal"===o.formType?l||((l=R()).c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i(e){o||(b(s),b(n),o=!0)},o(e){g(s),g(n),o=!1},d(e){s&&s.d(e),e&&i(t),n&&n.d(e),e&&i(a),l&&l.d(e),e&&i(r)}}}function j(e){let t,a,c,u;return{c(){t=r("p"),a=o("You have no food."),c=r("p"),u=r("p")},l(e){t=s(e,"P",{});var r=n(t);a=l(r,"You have no food."),r.forEach(i),c=s(e,"P",{}),n(c).forEach(i),u=s(e,"P",{}),n(u).forEach(i)},m(e,r){d(e,t,r),f(t,a),d(e,c,r),d(e,u,r)},p:D,i:D,o:D,d(e){e&&i(t),e&&i(c),e&&i(u)}}}function A(e){let t,a,u,m,v,y,F,x,E,U,D,w,J,V,C,B,j,A,z,L,R=!1,Y=!1,q=!1;function H(){R=!0,e.input1_input_handler.call(y)}function Q(){Y=!0,e.input2_input_handler.call(E)}function G(){q=!0,e.input3_input_handler.call(w)}const K=new O({props:{data:P}});return{c(){t=r("form"),a=r("div"),u=r("input"),m=p(),v=r("div"),y=r("input"),F=p(),x=r("div"),E=r("input"),U=p(),D=r("div"),w=r("input"),J=p(),V=r("div"),C=r("button"),B=o("Update"),j=p(),A=r("button"),M(K.$$.fragment),this.h()},l(e){t=s(e,"FORM",{class:!0});var r=n(t);a=s(r,"DIV",{});var o=n(a);u=s(o,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),o.forEach(i),m=h(r),v=s(r,"DIV",{});var c=n(v);y=s(c,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),c.forEach(i),F=h(r),x=s(r,"DIV",{});var d=n(x);E=s(d,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),d.forEach(i),U=h(r),D=s(r,"DIV",{});var f=n(D);w=s(f,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),f.forEach(i),J=h(r),V=s(r,"DIV",{class:!0});var p=n(V);C=s(p,"BUTTON",{class:!0});var g=n(C);B=l(g,"Update"),g.forEach(i),j=h(p),A=s(p,"BUTTON",{class:!0});var b=n(A);N(K.$$.fragment,b),b.forEach(i),p.forEach(i),r.forEach(i),this.h()},h(){c(u,"class"," svelte-18r9ak2"),c(u,"type","text"),c(u,"placeholder","Name"),c(u,"maxlength","20"),c(u,"size","20"),c(y,"type","number"),c(y,"placeholder","Protein"),c(y,"min","0"),c(y,"max","999"),c(y,"class","svelte-18r9ak2"),c(E,"type","number"),c(E,"placeholder","Carbs"),c(E,"min","0"),c(E,"max","999"),c(E,"class","svelte-18r9ak2"),c(w,"type","number"),c(w,"placeholder","Fat"),c(w,"min","0"),c(w,"max","999"),c(w,"class","svelte-18r9ak2"),c(C,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3"),c(A,"class","text-red-400 py-1 px-1"),c(V,"class","mt-3"),c(t,"class","svelte-18r9ak2"),L=[T(u,"input",e.input0_input_handler),T(y,"input",H),T(y,"keyup",e.validateProtein),T(E,"input",Q),T(E,"keyup",e.validateCarbs),T(w,"input",G),T(w,"keyup",e.validateFat),T(C,"click",I(e.handleUpdate)),T(A,"click",e.handleDelete)]},m(r,o){d(r,t,o),f(t,a),f(a,u),_(u,e.name),f(t,m),f(t,v),f(v,y),_(y,e.protein),f(t,F),f(t,x),f(x,E),_(E,e.carbs),f(t,U),f(t,D),f(D,w),_(w,e.fat),f(t,J),f(t,V),f(V,C),f(C,B),f(V,j),f(V,A),k(K,A,null),z=!0},p(e,t){e.name&&u.value!==t.name&&_(u,t.name),!R&&e.protein&&_(y,t.protein),R=!1,!Y&&e.carbs&&_(E,t.carbs),Y=!1,!q&&e.fat&&_(w,t.fat),q=!1},i(e){z||(b(K.$$.fragment,e),z=!0)},o(e){g(K.$$.fragment,e),z=!1},d(e){e&&i(t),$(K),S(L)}}}function z(e){let t,a,u,m,y,x,I,D,w,V=e.filteredFood,C=[];for(let t=0;t<V.length;t+=1)C[t]=L(J(e,V,t));const B=e=>g(C[e],1,1,()=>{C[e]=null}),j=new O({props:{style:"margin-left: 0.5rem; margin-bottom: 0.25rem;",data:P}});return{c(){t=r("input"),a=p(),u=r("div");for(let e=0;e<C.length;e+=1)C[e].c();m=p(),y=r("div"),x=r("button"),I=o("Delete All"),M(j.$$.fragment),this.h()},l(e){t=s(e,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),a=h(e),u=s(e,"DIV",{class:!0,style:!0});var r=n(u);for(let e=0;e<C.length;e+=1)C[e].l(r);r.forEach(i),m=h(e),y=s(e,"DIV",{class:!0});var o=n(y);x=s(o,"BUTTON",{class:!0});var c=n(x);I=l(c,"Delete All"),N(j.$$.fragment,c),c.forEach(i),o.forEach(i),this.h()},h(){c(t,"class","filter bg-gray-200 w-24 px-2 svelte-18r9ak2"),c(t,"type","text"),c(t,"placeholder","Search"),c(t,"maxlength","5"),c(t,"size","3"),c(u,"class","wrapper svelte-18r9ak2"),E(u,"margin-top",(e.food.length>=10?0:20)+"px"),c(x,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3"),c(y,"class","pb-10"),w=[T(t,"input",e.input_input_handler),T(t,"input",e.handleFilter),T(x,"click",e.handleDeleteAll)]},m(r,o){d(r,t,o),_(t,e.filter),d(r,a,o),d(r,u,o);for(let e=0;e<C.length;e+=1)C[e].m(u,null);d(r,m,o),d(r,y,o),f(y,x),f(x,I),k(j,x,null),D=!0},p(e,a){if(e.filter&&t.value!==a.filter&&_(t,a.filter),e.handleFoodClick||e.food||e.filteredFood||e.handleFoodDelete||e.trash){let t;for(V=a.filteredFood,t=0;t<V.length;t+=1){const r=J(a,V,t);C[t]?(C[t].p(e,r),b(C[t],1)):(C[t]=L(r),C[t].c(),b(C[t],1),C[t].m(u,null))}for(F(),t=V.length;t<C.length;t+=1)B(t);v()}D&&!e.food||E(u,"margin-top",(a.food.length>=10?0:20)+"px")},i(e){if(!D){for(let e=0;e<V.length;e+=1)b(C[e]);b(j.$$.fragment,e),D=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)g(C[e]);g(j.$$.fragment,e),D=!1},d(e){e&&i(t),e&&i(a),e&&i(u),U(C,e),e&&i(m),e&&i(y),$(j),S(w)}}}function L(e){let t,a,p,m,h,v=e.name+"";const y=new O({props:{data:P}});function F(...t){return e.click_handler(e,...t)}function x(...t){return e.click_handler_1(e,...t)}return{c(){t=r("button"),M(y.$$.fragment),a=r("button"),p=o(v),this.h()},l(e){t=s(e,"BUTTON",{class:!0});var r=n(t);N(y.$$.fragment,r),r.forEach(i),a=s(e,"BUTTON",{class:!0});var o=n(a);p=l(o,v),o.forEach(i),this.h()},h(){c(t,"class","text-red-400"),c(a,"class","box svelte-18r9ak2"),h=[T(t,"click",I(F)),T(a,"click",x)]},m(e,r){d(e,t,r),k(y,t,null),d(e,a,r),f(a,p),m=!0},p(t,a){e=a,m&&!t.filteredFood||v===(v=e.name+"")||u(p,v)},i(e){m||(b(y.$$.fragment,e),m=!0)},o(e){g(y.$$.fragment,e),m=!1},d(e){e&&i(t),$(y),e&&i(a),S(h)}}}function R(e){let t,a;return{c(){t=r("p"),a=o("form for meal")},l(e){t=s(e,"P",{});var r=n(t);a=l(r,"form for meal"),r.forEach(i)},m(e,r){d(e,t,r),f(t,a)},d(e){e&&i(t)}}}function Y(e){let t,a,u,y,x,M,N,T,I,_,k=""!==e.successMessage&&V(e),$=""!==e.errorMessage&&C(e);const S=[j,B],E=[];function U(e,t){return 0===t.food.length?0:1}return N=U(0,e),T=E[N]=S[N](e),{c(){t=p(),a=r("h2"),u=o("Update Food"),y=p(),k&&k.c(),x=p(),$&&$.c(),M=p(),T.c(),I=m(),this.h()},l(e){t=h(e),a=s(e,"H2",{class:!0});var r=n(a);u=l(r,"Update Food"),r.forEach(i),y=h(e),k&&k.l(e),x=h(e),$&&$.l(e),M=h(e),T.l(e),I=m(),this.h()},h(){document.title="Update Food",c(a,"class","text-xl mb-2")},m(e,r){d(e,t,r),d(e,a,r),f(a,u),d(e,y,r),k&&k.m(e,r),d(e,x,r),$&&$.m(e,r),d(e,M,r),E[N].m(e,r),d(e,I,r),_=!0},p(e,t){""!==t.successMessage?k?k.p(e,t):((k=V(t)).c(),k.m(x.parentNode,x)):k&&(k.d(1),k=null),""!==t.errorMessage?$?$.p(e,t):(($=C(t)).c(),$.m(M.parentNode,M)):$&&($.d(1),$=null);let a=N;(N=U(0,t))===a?E[N].p(e,t):(F(),g(E[a],1,1,()=>{E[a]=null}),v(),(T=E[N])||(T=E[N]=S[N](t)).c(),b(T,1),T.m(I.parentNode,I))},i(e){_||(b(T),_=!0)},o(e){g(T),_=!1},d(e){e&&i(t),e&&i(a),e&&i(y),k&&k.d(e),e&&i(x),$&&$.d(e),e&&i(M),E[N].d(e),e&&i(I)}}}function q(e,t,a){let r="",o="",s="",n="",l=[],i="",c="",d="",f="food",u="",p=[],m=[];function h(e){a("filteredFood",p=e),a("filter",u=""),e.food?a("formType",f="updatingMeal"):a("formType",f="updatingFood"),a("successMessage",d=""),a("errorMessage",c=""),i=e.name,a("name",r=e.name),a("protein",o=e.protein),a("carbs",s=e.carbs),a("fat",n=e.fat)}y(async()=>{a("food",l=JSON.parse(localStorage.getItem("food")).sort((e,t)=>e.name>t.name)||[]),m=JSON.parse(localStorage.getItem("recentFood"))||[],a("filteredFood",p=l)});function g(e){a("filteredFood",p=l),a("filter",u=""),a("successMessage",d=""),a("errorMessage",c="");let t=l.filter(function(t,a,r){return t.name!==e.name});localStorage.setItem("food",JSON.stringify(t)),a("food",l=t),a("filteredFood",p=t),t=m.filter(function(t,a,r){return t.name!==e.name}),localStorage.setItem("recentFood",JSON.stringify(t)),m=t,a("name",r=""),a("protein",o=""),a("carbs",s=""),a("fat",n=""),a("successMessage",d="Food was deleted"),a("formType",f="food")}return{name:r,protein:o,carbs:s,fat:n,food:l,errorMessage:c,successMessage:d,formType:f,filter:u,filteredFood:p,handleUpdate:function(){a("filteredFood",p=l),a("filter",u="");let e={};if(a("successMessage",d=""),a("errorMessage",c=""),!(e=w({name:r,protein:o,carbs:s,fat:n})).valid)return void a("errorMessage",c=e.message);let t=l.findIndex(e=>e.name===i);a("food",l[t].name=r,l),a("food",l[t].protein=o,l),a("food",l[t].carbs=s,l),a("food",l[t].fat=n,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",d="Food was updated"),a("formType",f="food"),-1!==(t=m.findIndex(e=>e.name===i))&&(m[t].name=r,m[t].protein=o,m[t].carbs=s,m[t].fat=n,localStorage.setItem("recentFood",JSON.stringify(m)))},handleFoodClick:h,handleDelete:function(){a("filteredFood",p=l),a("filter",u=""),a("successMessage",d=""),a("errorMessage",c="");let e=l.filter(function(e,t,a){return e.name!==r});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),e=m.filter(function(e,t,a){return e.name!==r}),localStorage.setItem("recentFood",JSON.stringify(e)),m=e,a("name",r=""),a("protein",o=""),a("carbs",s=""),a("fat",n=""),a("successMessage",d="Food was deleted"),a("formType",f="food")},handleDeleteAll:()=>{a("successMessage",d="All food was deleted"),localStorage.removeItem("food"),localStorage.removeItem("recentFood"),a("food",l=[]),a("filteredFood",p=[])},handleFoodDelete:g,handleFilter:function(){""===u&&a("filteredFood",p=l),a("filteredFood",p=l.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())))},validateProtein:function(){let e=String(o);a("protein",o=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(s);a("carbs",s=Number(e.substring(0,5)))},validateFat:function(){let e=String(n);a("fat",n=Number(e.substring(0,5)))},input0_input_handler:function(){r=this.value,a("name",r)},input1_input_handler:function(){o=x(this.value),a("protein",o)},input2_input_handler:function(){s=x(this.value),a("carbs",s)},input3_input_handler:function(){n=x(this.value),a("fat",n)},input_input_handler:function(){u=this.value,a("filter",u)},click_handler:({i:e})=>g(l[e]),click_handler_1:({i:e})=>h(l[e])}}export default class extends e{constructor(e){super(),t(this,e,q,Y,a,{})}}
