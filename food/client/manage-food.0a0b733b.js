import{S as t,i as e,s as a,e as n,c as o,h as l,G as d,k as r,n as i,f as u,t as c,b as p,d as f,l as s,y as h,a as m,z as b,g as v,J as g,H as _,K as y,I as N}from"./index.dabfb2a8.js";function I(t,e,a){const n=Object.create(t);return n.id=e[a].id,n.name=e[a].name,n.i=a,n}function U(t){let e,a;return{c(){e=n("h1"),a=c("Update Food")},l(t){e=o(t,"H1",{});var n=p(e);a=f(n,"Update Food"),n.forEach(u)},m(t,n){r(t,e,n),s(e,a)},d(t){t&&u(e)}}}function F(t){let e,a;return{c(){e=n("h1"),a=c("Add Food")},l(t){e=o(t,"H1",{});var n=p(e);a=f(n,"Add Food"),n.forEach(u)},m(t,n){r(t,e,n),s(e,a)},d(t){t&&u(e)}}}function S(t){let e,a;return{c(){e=n("input"),this.h()},l(t){e=o(t,"INPUT",{type:!0,value:!0}),this.h()},h(){l(e,"type","button"),e.value="delete",a=d(e,"click",t.handleDelete)},m(t,a){r(t,e,a)},p:i,d(t){t&&u(e),a()}}}function k(t){let e,a,l,i=t.name+"";function m(...e){return t.click_handler(t,...e)}return{c(){e=n("button"),a=c(i),this.h()},l(t){e=o(t,"BUTTON",{});var n=p(e);a=f(n,i),n.forEach(u),this.h()},h(){l=d(e,"click",m)},m(t,n){r(t,e,n),s(e,a)},p(e,n){t=n,e.food&&i!==(i=t.name+"")&&h(a,i)},d(t){t&&u(e),l()}}}function x(t){let e,a,h,N,x,O,P,T,B,E,J,R,A,C,V,H,D,j,$,z,G,K,M,q,w,L,Q,W,X,Y,Z,tt;function et(t,e){return"add"===e.mode?F:U}let at=et(0,t),nt=at(t),ot="update"===t.mode&&S(t),lt=t.food,dt=[];for(let e=0;e<lt.length;e+=1)dt[e]=k(I(t,lt,e));return{c(){e=m(),nt.c(),a=m(),h=n("form"),N=n("input"),x=m(),O=n("br"),P=m(),T=n("input"),B=m(),E=n("br"),J=m(),R=n("input"),A=m(),C=n("br"),V=m(),H=n("input"),D=m(),j=n("br"),$=m(),z=n("br"),G=m(),K=n("input"),M=m(),ot&&ot.c(),q=m(),w=n("h1"),L=c("Food"),Q=m(),W=n("p"),X=c("Click food to update"),Y=m();for(let t=0;t<dt.length;t+=1)dt[t].c();Z=b(),this.h()},l(t){e=v(t),nt.l(t),a=v(t),h=o(t,"FORM",{});var n=p(h);N=o(n,"INPUT",{type:!0,placeholder:!0}),x=v(n),O=o(n,"BR",{}),P=v(n),T=o(n,"INPUT",{type:!0,placeholder:!0}),B=v(n),E=o(n,"BR",{}),J=v(n),R=o(n,"INPUT",{type:!0,placeholder:!0}),A=v(n),C=o(n,"BR",{}),V=v(n),H=o(n,"INPUT",{type:!0,placeholder:!0}),D=v(n),j=o(n,"BR",{}),$=v(n),z=o(n,"BR",{}),G=v(n),K=o(n,"INPUT",{type:!0,value:!0}),M=v(n),ot&&ot.l(n),n.forEach(u),q=v(t),w=o(t,"H1",{class:!0});var l=p(w);L=f(l,"Food"),l.forEach(u),Q=v(t),W=o(t,"P",{});var d=p(W);X=f(d,"Click food to update"),d.forEach(u),Y=v(t);for(let e=0;e<dt.length;e+=1)dt[e].l(t);Z=b(),this.h()},h(){document.title="Food",l(N,"type","text"),l(N,"placeholder","Name"),l(T,"type","text"),l(T,"placeholder","Protein"),l(R,"type","text"),l(R,"placeholder","Carbs"),l(H,"type","text"),l(H,"placeholder","Fat"),l(K,"type","button"),K.value=t.buttonValue,l(w,"class","food svelte-tbi16r"),tt=[d(N,"input",t.input0_input_handler),d(T,"input",t.input1_input_handler),d(R,"input",t.input2_input_handler),d(H,"input",t.input3_input_handler),d(K,"click",t.handleAddUpdate)]},m(n,o){r(n,e,o),nt.m(n,o),r(n,a,o),r(n,h,o),s(h,N),g(N,t.name),s(h,x),s(h,O),s(h,P),s(h,T),g(T,t.protein),s(h,B),s(h,E),s(h,J),s(h,R),g(R,t.carbs),s(h,A),s(h,C),s(h,V),s(h,H),g(H,t.fat),s(h,D),s(h,j),s(h,$),s(h,z),s(h,G),s(h,K),s(h,M),ot&&ot.m(h,null),r(n,q,o),r(n,w,o),s(w,L),r(n,Q,o),r(n,W,o),s(W,X),r(n,Y,o);for(let t=0;t<dt.length;t+=1)dt[t].m(n,o);r(n,Z,o)},p(t,e){if(at!==(at=et(0,e))&&(nt.d(1),(nt=at(e))&&(nt.c(),nt.m(a.parentNode,a))),t.name&&N.value!==e.name&&g(N,e.name),t.protein&&T.value!==e.protein&&g(T,e.protein),t.carbs&&R.value!==e.carbs&&g(R,e.carbs),t.fat&&H.value!==e.fat&&g(H,e.fat),t.buttonValue&&(K.value=e.buttonValue),"update"===e.mode?ot?ot.p(t,e):((ot=S(e)).c(),ot.m(h,null)):ot&&(ot.d(1),ot=null),t.handleFoodClick||t.food){let a;for(lt=e.food,a=0;a<lt.length;a+=1){const n=I(e,lt,a);dt[a]?dt[a].p(t,n):(dt[a]=k(n),dt[a].c(),dt[a].m(Z.parentNode,Z))}for(;a<dt.length;a+=1)dt[a].d(1);dt.length=lt.length}},i:i,o:i,d(t){t&&u(e),nt.d(t),t&&u(a),t&&u(h),ot&&ot.d(),t&&u(q),t&&u(w),t&&u(Q),t&&u(W),t&&u(Y),_(dt,t),t&&u(Z),y(tt)}}}function O(t,e,a){let n="",o="",l="",d="",r=[],i="add",u="";function c(t){u=t.name,a("name",n=t.name),a("protein",o=t.protein),a("carbs",l=t.carbs),a("fat",d=t.fat),a("mode",i="update")}N(async()=>{a("food",r=JSON.parse(localStorage.getItem("food"))||[])});let p;return t.$$.update=((t={mode:1})=>{t.mode&&a("buttonValue",p="add"===i?"Add":"Update")}),{name:n,protein:o,carbs:l,fat:d,food:r,mode:i,handleAddUpdate:function(){if("add"===i){const t=JSON.parse(localStorage.getItem("food"))||[];return t.push({name:n,protein:o,carbs:l,fat:d}),localStorage.setItem("food",JSON.stringify(t)),a("food",r=t),void event.preventDefault()}let t=r.findIndex(t=>t.name===u);console.log(t),console.log(u),a("food",r[t].name=n,r),a("food",r[t].protein=o,r),a("food",r[t].carbs=l,r),a("food",r[t].fat=d,r),localStorage.setItem("food",JSON.stringify(r))},handleFoodClick:c,handleDelete:function(){let t=r.filter(function(t,e,a){return t.name!==n});localStorage.setItem("food",JSON.stringify(t)),a("food",r=t),a("mode",i="add"),a("name",n=""),a("protein",o=""),a("carbs",l=""),a("fat",d="")},buttonValue:p,input0_input_handler:function(){n=this.value,a("name",n)},input1_input_handler:function(){o=this.value,a("protein",o)},input2_input_handler:function(){l=this.value,a("carbs",l)},input3_input_handler:function(){d=this.value,a("fat",d)},click_handler:({i:t})=>c(r[t])}}export default class extends t{constructor(t){super(),e(this,t,O,x,a,{})}}
