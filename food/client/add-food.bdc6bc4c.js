import{S as e,i as s,s as a,e as t,t as r,b as n,d as l,f as c,h as o,k as i,l as u,m as d,x as p,a as m,j as h,P as f,Q as g,U as b,n as v,R as M,N as x,T as N}from"./index.9cf44aa4.js";import{v as _,f as y}from"./validate.d83e4ffc.js";import{a as S}from"./recentFood.fd6a6ea9.js";function F(e){let s,a;return{c(){s=t("p"),a=r(e.successMessage),this.h()},l(t){s=n(t,"P",{class:!0});var r=l(s);a=c(r,e.successMessage),r.forEach(o),this.h()},h(){i(s,"class","success svelte-1bcdlg5")},m(e,t){u(e,s,t),d(s,a)},p(e,s){e.successMessage&&p(a,s.successMessage)},d(e){e&&o(s)}}}function P(e){let s,a;return{c(){s=t("p"),a=r(e.errorMessage),this.h()},l(t){s=n(t,"P",{class:!0});var r=l(s);a=c(r,e.errorMessage),r.forEach(o),this.h()},h(){i(s,"class","error svelte-1bcdlg5")},m(e,t){u(e,s,t),d(s,a)},p(e,s){e.errorMessage&&p(a,s.errorMessage)},d(e){e&&o(s)}}}function I(e){let s,a,p,x,N,_,y,S,I,A,T,O,R,U,k,B,E,j,J,w,C,z,D,H,Q,q,G=!1,K=!1,L=!1,V=""!==e.successMessage&&F(e),W=""!==e.errorMessage&&P(e);function X(){G=!0,e.input1_input_handler.call(O)}function Y(){K=!0,e.input2_input_handler.call(B)}function Z(){L=!0,e.input3_input_handler.call(w)}return{c(){s=m(),a=t("h2"),p=r("Add Food"),x=m(),V&&V.c(),N=m(),W&&W.c(),_=m(),y=t("form"),S=t("input"),I=m(),A=t("br"),T=m(),O=t("input"),R=m(),U=t("br"),k=m(),B=t("input"),E=m(),j=t("br"),J=m(),w=t("input"),C=m(),z=t("br"),D=m(),H=t("button"),Q=r("Add"),this.h()},l(e){s=h(e),a=n(e,"H2",{class:!0});var t=l(a);p=c(t,"Add Food"),t.forEach(o),x=h(e),V&&V.l(e),N=h(e),W&&W.l(e),_=h(e),y=n(e,"FORM",{class:!0});var r=l(y);S=n(r,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),I=h(r),A=n(r,"BR",{}),T=h(r),O=n(r,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),R=h(r),U=n(r,"BR",{}),k=h(r),B=n(r,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),E=h(r),j=n(r,"BR",{}),J=h(r),w=n(r,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),C=h(r),z=n(r,"BR",{}),D=h(r),H=n(r,"BUTTON",{class:!0});var i=l(H);Q=c(i,"Add"),i.forEach(o),r.forEach(o),this.h()},h(){document.title="Add Food",i(a,"class","text-xl mb-2"),i(S,"type","text"),i(S,"placeholder","Name"),i(S,"maxlength","20"),i(S,"size","20"),i(S,"class","svelte-1bcdlg5"),i(O,"type","number"),i(O,"placeholder","Protein"),i(O,"min","0"),i(O,"max","999"),i(O,"class","svelte-1bcdlg5"),i(B,"type","number"),i(B,"placeholder","Carbs"),i(B,"min","0"),i(B,"max","999"),i(B,"class","svelte-1bcdlg5"),i(w,"type","number"),i(w,"placeholder","Fat"),i(w,"min","0"),i(w,"max","999"),i(w,"class","svelte-1bcdlg5"),i(H,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3"),i(y,"class","svelte-1bcdlg5"),q=[f(S,"input",e.input0_input_handler),f(O,"input",X),f(O,"keyup",e.validateProtein),f(B,"input",Y),f(B,"keyup",e.validateCarbs),f(w,"input",Z),f(w,"keyup",e.validateFat),f(H,"click",g(e.handleAdd))]},m(t,r){u(t,s,r),u(t,a,r),d(a,p),u(t,x,r),V&&V.m(t,r),u(t,N,r),W&&W.m(t,r),u(t,_,r),u(t,y,r),d(y,S),b(S,e.name),d(y,I),d(y,A),d(y,T),d(y,O),b(O,e.protein),d(y,R),d(y,U),d(y,k),d(y,B),b(B,e.carbs),d(y,E),d(y,j),d(y,J),d(y,w),b(w,e.fat),d(y,C),d(y,z),d(y,D),d(y,H),d(H,Q)},p(e,s){""!==s.successMessage?V?V.p(e,s):((V=F(s)).c(),V.m(N.parentNode,N)):V&&(V.d(1),V=null),""!==s.errorMessage?W?W.p(e,s):((W=P(s)).c(),W.m(_.parentNode,_)):W&&(W.d(1),W=null),e.name&&S.value!==s.name&&b(S,s.name),!G&&e.protein&&b(O,s.protein),G=!1,!K&&e.carbs&&b(B,s.carbs),K=!1,!L&&e.fat&&b(w,s.fat),L=!1},i:v,o:v,d(e){e&&o(s),e&&o(a),e&&o(x),V&&V.d(e),e&&o(N),W&&W.d(e),e&&o(_),e&&o(y),M(q)}}}function A(e,s,a){let t="",r="",n="",l="",c=[],o=[],i="",u="";return x(async()=>{c=JSON.parse(localStorage.getItem("food"))||[],o=JSON.parse(localStorage.getItem("recentFood")||"[]").sort((e,s)=>e.name>s.name)||[]}),{name:t,protein:r,carbs:n,fat:l,errorMessage:i,successMessage:u,handleAdd:function(){event.preventDefault();let e={};if(a("successMessage",u=""),a("errorMessage",i=""),!(e=_({name:t,protein:r,carbs:n,fat:l})).valid)return a("errorMessage",i=e.message),void console.log("error",i);const s=JSON.parse(localStorage.getItem("food"))||[];if(-1!==y(t,s))return void a("errorMessage",i="Food with this name already exist");const d={name:t,protein:r,carbs:n,fat:l};s.push(d),localStorage.setItem("food",JSON.stringify(s)),S(d,o),c=s,a("name",t=""),a("protein",r=""),a("carbs",n=""),a("fat",l=""),a("successMessage",u="Food was added")},validateProtein:function(){let e=String(r);a("protein",r=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(n);a("carbs",n=Number(e.substring(0,5)))},validateFat:function(){let e=String(l);a("fat",l=Number(e.substring(0,5)))},input0_input_handler:function(){t=this.value,a("name",t)},input1_input_handler:function(){r=N(this.value),a("protein",r)},input2_input_handler:function(){n=N(this.value),a("carbs",n)},input3_input_handler:function(){l=N(this.value),a("fat",l)}}}export default class extends e{constructor(e){super(),s(this,e,A,I,a,{})}}
