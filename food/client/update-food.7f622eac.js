import{S as e,i as s,s as a,e as t,t as r,c as n,b as o,d as l,f as i,h as c,k as u,l as d,y as h,a as p,z as f,g as m,n as g,I as b,J as v,G as x,K as k,L as M,H as N}from"./index.805fe9f6.js";function y(e,s,a){const t=Object.create(e);return t.id=s[a].id,t.name=s[a].name,t.i=a,t}function _(e){let s,a;return{c(){s=t("p"),a=r(e.successMessage),this.h()},l(t){s=n(t,"P",{class:!0});var r=o(s);a=l(r,e.successMessage),r.forEach(i),this.h()},h(){c(s,"class","success svelte-40kkxx")},m(e,t){u(e,s,t),d(s,a)},p(e,s){e.successMessage&&h(a,s.successMessage)},d(e){e&&i(s)}}}function P(e){let s,a;return{c(){s=t("p"),a=r(e.errorMessage),this.h()},l(t){s=n(t,"P",{class:!0});var r=o(s);a=l(r,e.errorMessage),r.forEach(i),this.h()},h(){c(s,"class","error svelte-40kkxx")},m(e,t){u(e,s,t),d(s,a)},p(e,s){e.errorMessage&&h(a,s.errorMessage)},d(e){e&&i(s)}}}function I(e){let s,a,h,f,g,b,v,_,P,I,F,E,T,C,O,z,B,R,J,w,A,D,j,H=!1,Y=!1,G=!1;function K(){H=!0,e.input1_input_handler.call(b)}function L(){Y=!0,e.input2_input_handler.call(I)}function V(){G=!0,e.input3_input_handler.call(C)}let q="update"===e.mode&&U(e),Q=e.food,W=[];for(let s=0;s<Q.length;s+=1)W[s]=S(y(e,Q,s));return{c(){s=t("form"),a=t("input"),h=p(),f=t("br"),g=p(),b=t("input"),v=p(),_=t("br"),P=p(),I=t("input"),F=p(),E=t("br"),T=p(),C=t("input"),O=p(),z=t("br"),B=p(),q&&q.c(),R=p(),J=t("p"),w=r("Pick food to update:"),A=p(),D=t("div");for(let e=0;e<W.length;e+=1)W[e].c();this.h()},l(e){s=n(e,"FORM",{});var t=o(s);a=n(t,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),h=m(t),f=n(t,"BR",{}),g=m(t),b=n(t,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),v=m(t),_=n(t,"BR",{}),P=m(t),I=n(t,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),F=m(t),E=n(t,"BR",{}),T=m(t),C=n(t,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),O=m(t),z=n(t,"BR",{}),B=m(t),q&&q.l(t),t.forEach(i),R=m(e),J=n(e,"P",{class:!0});var r=o(J);w=l(r,"Pick food to update:"),r.forEach(i),A=m(e),D=n(e,"DIV",{class:!0});var c=o(D);for(let e=0;e<W.length;e+=1)W[e].l(c);c.forEach(i),this.h()},h(){c(a,"type","text"),c(a,"placeholder","Name"),c(a,"maxlength","20"),c(a,"size","20"),c(a,"class","svelte-40kkxx"),c(b,"type","number"),c(b,"placeholder","Protein"),c(b,"min","0"),c(b,"max","999"),c(b,"class","svelte-40kkxx"),c(I,"type","number"),c(I,"placeholder","Carbs"),c(I,"min","0"),c(I,"max","999"),c(I,"class","svelte-40kkxx"),c(C,"type","number"),c(C,"placeholder","Fat"),c(C,"min","0"),c(C,"max","999"),c(C,"class","svelte-40kkxx"),c(J,"class","food svelte-40kkxx"),c(D,"class","wrapper svelte-40kkxx"),j=[x(a,"input",e.input0_input_handler),x(b,"input",K),x(b,"keyup",e.validateProtein),x(I,"input",L),x(I,"keyup",e.validateCarbs),x(C,"input",V),x(C,"keyup",e.validateFat)]},m(t,r){u(t,s,r),d(s,a),M(a,e.name),d(s,h),d(s,f),d(s,g),d(s,b),M(b,e.protein),d(s,v),d(s,_),d(s,P),d(s,I),M(I,e.carbs),d(s,F),d(s,E),d(s,T),d(s,C),M(C,e.fat),d(s,O),d(s,z),d(s,B),q&&q.m(s,null),u(t,R,r),u(t,J,r),d(J,w),u(t,A,r),u(t,D,r);for(let e=0;e<W.length;e+=1)W[e].m(D,null)},p(e,t){if(e.name&&a.value!==t.name&&M(a,t.name),!H&&e.protein&&M(b,t.protein),H=!1,!Y&&e.carbs&&M(I,t.carbs),Y=!1,!G&&e.fat&&M(C,t.fat),G=!1,"update"===t.mode?q?q.p(e,t):((q=U(t)).c(),q.m(s,null)):q&&(q.d(1),q=null),e.handleFoodClick||e.food){let s;for(Q=t.food,s=0;s<Q.length;s+=1){const a=y(t,Q,s);W[s]?W[s].p(e,a):(W[s]=S(a),W[s].c(),W[s].m(D,null))}for(;s<W.length;s+=1)W[s].d(1);W.length=Q.length}},d(e){e&&i(s),q&&q.d(),e&&i(R),e&&i(J),e&&i(A),e&&i(D),N(W,e),k(j)}}}function F(e){let s,a,h,p,f;return{c(){s=t("p"),a=r("You have no food. "),h=t("a"),p=r("Add some food first"),f=r("."),this.h()},l(e){s=n(e,"P",{});var t=o(s);a=l(t,"You have no food. "),h=n(t,"A",{href:!0});var r=o(h);p=l(r,"Add some food first"),r.forEach(i),f=l(t,"."),t.forEach(i),this.h()},h(){c(h,"href","/food/manage-food/add-food")},m(e,t){u(e,s,t),d(s,a),d(s,h),d(h,p),d(s,f)},p:g,d(e){e&&i(s)}}}function U(e){let s,a,r,o;return{c(){s=t("input"),a=p(),r=t("input"),this.h()},l(e){s=n(e,"INPUT",{type:!0,value:!0,maxlength:!0,size:!0,class:!0}),a=m(e),r=n(e,"INPUT",{type:!0,value:!0,class:!0}),this.h()},h(){c(s,"type","button"),s.value="Update",c(s,"maxlength","2"),c(s,"size","2"),c(s,"class","svelte-40kkxx"),c(r,"type","button"),r.value="delete",c(r,"class","svelte-40kkxx"),o=[x(s,"click",e.handleUpdate),x(r,"click",e.handleDelete)]},m(e,t){u(e,s,t),u(e,a,t),u(e,r,t)},p:g,d(e){e&&i(s),e&&i(a),e&&i(r),k(o)}}}function S(e){let s,a,p,f=e.name+"";function m(...s){return e.click_handler(e,...s)}return{c(){s=t("button"),a=r(f),this.h()},l(e){s=n(e,"BUTTON",{class:!0});var t=o(s);a=l(t,f),t.forEach(i),this.h()},h(){c(s,"class","box svelte-40kkxx"),p=x(s,"click",m)},m(e,t){u(e,s,t),d(s,a)},p(s,t){e=t,s.food&&f!==(f=e.name+"")&&h(a,f)},d(e){e&&i(s),p()}}}function E(e){let s,a,c,h,b,v,x,k=""!==e.successMessage&&_(e),M=""!==e.errorMessage&&P(e);function N(e,s){return 0===s.food.length?F:I}let y=N(0,e),U=y(e);return{c(){s=p(),a=t("h2"),c=r("Update Food"),h=p(),k&&k.c(),b=p(),M&&M.c(),v=p(),U.c(),x=f(),this.h()},l(e){s=m(e),a=n(e,"H2",{});var t=o(a);c=l(t,"Update Food"),t.forEach(i),h=m(e),k&&k.l(e),b=m(e),M&&M.l(e),v=m(e),U.l(e),x=f(),this.h()},h(){document.title="Food"},m(e,t){u(e,s,t),u(e,a,t),d(a,c),u(e,h,t),k&&k.m(e,t),u(e,b,t),M&&M.m(e,t),u(e,v,t),U.m(e,t),u(e,x,t)},p(e,s){""!==s.successMessage?k?k.p(e,s):((k=_(s)).c(),k.m(b.parentNode,b)):k&&(k.d(1),k=null),""!==s.errorMessage?M?M.p(e,s):((M=P(s)).c(),M.m(v.parentNode,v)):M&&(M.d(1),M=null),y===(y=N(0,s))&&U?U.p(e,s):(U.d(1),(U=y(s))&&(U.c(),U.m(x.parentNode,x)))},i:g,o:g,d(e){e&&i(s),e&&i(a),e&&i(h),k&&k.d(e),e&&i(b),M&&M.d(e),e&&i(v),U.d(e),e&&i(x)}}}function T(e,s,a){let t="",r="",n="",o="",l=[],i="add",c="",u="",d="";function h(e){a("successMessage",d=""),a("errorMessage",u=""),c=e.name,a("name",t=e.name),a("protein",r=e.protein),a("carbs",n=e.carbs),a("fat",o=e.fat),a("mode",i="update")}b(async()=>{a("food",l=JSON.parse(localStorage.getItem("food"))||[])});return{name:t,protein:r,carbs:n,fat:o,food:l,mode:i,errorMessage:u,successMessage:d,handleUpdate:function(){if(a("successMessage",d=""),a("errorMessage",u=""),a("errorMessage",u=""),!(""===t?(a("errorMessage",u="Name is missing"),0):""===r?(a("errorMessage",u="Protein is missing"),0):Number.isInteger(Number(r))?""===n?(a("errorMessage",u="Carbs is missing"),0):Number.isInteger(Number(n))?""===o?(a("errorMessage",u="Fat is missing"),0):Number.isInteger(Number(o))||(a("errorMessage",u="Fat should be a number"),0):(a("errorMessage",u="Carbs should be a number"),0):(a("errorMessage",u="Protein should be a number"),0)))return;let e=l.findIndex(e=>e.name===c);console.log(e),console.log(c),a("food",l[e].name=t,l),a("food",l[e].protein=r,l),a("food",l[e].carbs=n,l),a("food",l[e].fat=o,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",d="Food was updated")},handleFoodClick:h,handleDelete:function(){a("successMessage",d=""),a("errorMessage",u="");let e=l.filter(function(e,s,a){return e.name!==t});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("mode",i="add"),a("name",t=""),a("protein",r=""),a("carbs",n=""),a("fat",o=""),a("successMessage",d="Food was deleted")},validateProtein:function(){let e=String(r);a("protein",r=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(n);a("carbs",n=Number(e.substring(0,5)))},validateFat:function(){let e=String(o);a("fat",o=Number(e.substring(0,5)))},input0_input_handler:function(){t=this.value,a("name",t)},input1_input_handler:function(){r=v(this.value),a("protein",r)},input2_input_handler:function(){n=v(this.value),a("carbs",n)},input3_input_handler:function(){o=v(this.value),a("fat",o)},click_handler:({i:e})=>h(l[e])}}export default class extends e{constructor(e){super(),s(this,e,T,E,a,{})}}
