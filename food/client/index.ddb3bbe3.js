import{S as a,i as e,s as t,a as o,e as r,t as s,j as n,b as l,d as c,f,h as i,k as h,l as d,m,q as u,E as g,p,N as v,D as b,O as I,x,P as A,n as E,c as S,g as N,Q as $,o as k,r as P,R as F,I as C}from"./index.9cf44aa4.js";import{I as O,t as y,p as M}from"./index.e287424e.js";function T(a,e,t){const o=Object.create(a);return o.id=e[t].id,o.name=e[t].name,o.count=e[t].count,o.i=t,o}function D(a){let e,t,v,I,A,E,S,N,$,k,P,F,O,y,M,D,w,V,_,j,L,B,Y,q,Q,R,z,H,K,W=Math.round(a.calories)+"",X=Math.round(a.protein)+"",Z=Math.round(a.carbs)+"",aa=Math.round(a.fat)+"",ea=a.isGoal&&G(a),ta=a.foodIAte.length>0&&J(a),oa=a.foodIAte,ra=[];for(let e=0;e<oa.length;e+=1)ra[e]=U(T(a,oa,e));const sa=a=>u(ra[a],1,1,()=>{ra[a]=null});return{c(){ea&&ea.c(),e=o(),t=r("div"),v=r("span"),I=s("Cal:"),A=s(W),E=o(),S=r("span"),N=s("P:"),$=s(X),k=o(),P=r("span"),F=s("C:"),O=s(Z),y=o(),M=r("span"),D=s("F:"),w=s(aa),V=o(),ta&&ta.c(),_=o(),j=r("div");for(let a=0;a<ra.length;a+=1)ra[a].c();L=o(),B=r("ul"),Y=r("li"),q=s("Ate Today"),Q=o(),R=r("li"),z=r("a"),H=s("Choose Food"),this.h()},l(a){ea&&ea.l(a),e=n(a),t=l(a,"DIV",{});var o=c(t);v=l(o,"SPAN",{class:!0});var r=c(v);I=f(r,"Cal:"),A=f(r,W),r.forEach(i),E=n(o),S=l(o,"SPAN",{class:!0});var s=c(S);N=f(s,"P:"),$=f(s,X),s.forEach(i),k=n(o),P=l(o,"SPAN",{class:!0});var h=c(P);F=f(h,"C:"),O=f(h,Z),h.forEach(i),y=n(o),M=l(o,"SPAN",{class:!0});var d=c(M);D=f(d,"F:"),w=f(d,aa),d.forEach(i),o.forEach(i),V=n(a),ta&&ta.l(a),_=n(a),j=l(a,"DIV",{class:!0});var m=c(j);for(let a=0;a<ra.length;a+=1)ra[a].l(m);m.forEach(i),L=n(a),B=l(a,"UL",{class:!0});var u=c(B);Y=l(u,"LI",{class:!0});var g=c(Y);q=f(g,"Ate Today"),g.forEach(i),Q=n(u),R=l(u,"LI",{class:!0});var p=c(R);z=l(p,"A",{href:!0,class:!0});var b=c(z);H=f(b,"Choose Food"),b.forEach(i),p.forEach(i),u.forEach(i),this.h()},h(){h(v,"class","svelte-tx32fh"),h(S,"class","svelte-tx32fh"),h(P,"class","svelte-tx32fh"),h(M,"class","svelte-tx32fh"),h(j,"class","ate-wrapper mt-1 svelte-tx32fh"),h(Y,"class","first svelte-tx32fh"),h(z,"href","/food/eat"),h(z,"class","svelte-tx32fh"),h(R,"class","second svelte-tx32fh"),h(B,"class","svelte-tx32fh")},m(a,o){ea&&ea.m(a,o),d(a,e,o),d(a,t,o),m(t,v),m(v,I),m(v,A),m(t,E),m(t,S),m(S,N),m(S,$),m(t,k),m(t,P),m(P,F),m(P,O),m(t,y),m(t,M),m(M,D),m(M,w),d(a,V,o),ta&&ta.m(a,o),d(a,_,o),d(a,j,o);for(let a=0;a<ra.length;a+=1)ra[a].m(j,null);d(a,L,o),d(a,B,o),m(B,Y),m(Y,q),m(B,Q),m(B,R),m(R,z),m(z,H),K=!0},p(a,t){if(t.isGoal?ea?ea.p(a,t):((ea=G(t)).c(),ea.m(e.parentNode,e)):ea&&(ea.d(1),ea=null),K&&!a.calories||W===(W=Math.round(t.calories)+"")||x(A,W),K&&!a.protein||X===(X=Math.round(t.protein)+"")||x($,X),K&&!a.carbs||Z===(Z=Math.round(t.carbs)+"")||x(O,Z),K&&!a.fat||aa===(aa=Math.round(t.fat)+"")||x(w,aa),t.foodIAte.length>0?ta?ta.p(a,t):((ta=J(t)).c(),ta.m(_.parentNode,_)):ta&&(ta.d(1),ta=null),a.handlePlus||a.foodIAte||a.plus||a.handleDelete||a.trash){let e;for(oa=t.foodIAte,e=0;e<oa.length;e+=1){const o=T(t,oa,e);ra[e]?(ra[e].p(a,o),p(ra[e],1)):(ra[e]=U(o),ra[e].c(),p(ra[e],1),ra[e].m(j,null))}for(b(),e=oa.length;e<ra.length;e+=1)sa(e);g()}},i(a){if(!K){for(let a=0;a<oa.length;a+=1)p(ra[a]);K=!0}},o(a){ra=ra.filter(Boolean);for(let a=0;a<ra.length;a+=1)u(ra[a]);K=!1},d(a){ea&&ea.d(a),a&&i(e),a&&i(t),a&&i(V),ta&&ta.d(a),a&&i(_),a&&i(j),C(ra,a),a&&i(L),a&&i(B)}}}function w(a){let e,t,u,g,p,v,b;return{c(){e=r("p"),t=s("You have no food."),u=o(),g=r("p"),p=r("a"),v=s("Add some food first"),b=s("."),this.h()},l(a){e=l(a,"P",{});var o=c(e);t=f(o,"You have no food."),o.forEach(i),u=n(a),g=l(a,"P",{});var r=c(g);p=l(r,"A",{href:!0});var s=c(p);v=f(s,"Add some food first"),s.forEach(i),b=f(r,"."),r.forEach(i),this.h()},h(){h(p,"href","/food/manage-food/add-food")},m(a,o){d(a,e,o),m(e,t),d(a,u,o),d(a,g,o),m(g,p),m(p,v),m(g,b)},p:E,i:E,o:E,d(a){a&&i(e),a&&i(u),a&&i(g)}}}function G(a){let e,t,u,g,p,v,b,A,E,S,N,$=Math.round(a.goal-a.calories)+"";return{c(){e=r("div"),t=r("span"),u=s("Goal:"),g=s(a.goal),p=o(),v=r("span"),b=s("Left:"),E=r("span"),S=s($),this.h()},l(o){e=l(o,"DIV",{});var r=c(e);t=l(r,"SPAN",{class:!0});var s=c(t);u=f(s,"Goal:"),g=f(s,a.goal),s.forEach(i),p=n(r),v=l(r,"SPAN",{class:!0});var h=c(v);b=f(h,"Left:"),h.forEach(i),E=l(r,"SPAN",{class:!0});var d=c(E);S=f(d,$),d.forEach(i),r.forEach(i),this.h()},h(){h(t,"class","svelte-tx32fh"),h(v,"class",A=I(a.remaining)+" svelte-tx32fh"),h(E,"class",N=I(a.remaining)+" svelte-tx32fh")},m(a,o){d(a,e,o),m(e,t),m(t,u),m(t,g),m(e,p),m(e,v),m(v,b),m(e,E),m(E,S)},p(a,e){a.goal&&x(g,e.goal),a.remaining&&A!==(A=I(e.remaining)+" svelte-tx32fh")&&h(v,"class",A),(a.goal||a.calories)&&$!==($=Math.round(e.goal-e.calories)+"")&&x(S,$),a.remaining&&N!==(N=I(e.remaining)+" svelte-tx32fh")&&h(E,"class",N)},d(a){a&&i(e)}}}function J(a){let e,t,o,n;return{c(){e=r("div"),t=r("button"),o=s("Clear All"),this.h()},l(a){e=l(a,"DIV",{});var r=c(e);t=l(r,"BUTTON",{class:!0});var s=c(t);o=f(s,"Clear All"),s.forEach(i),r.forEach(i),this.h()},h(){h(t,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3 w-1/2"),n=A(t,"click",a.handleClear)},m(a,r){d(a,e,r),m(e,t),m(t,o)},p:E,d(a){a&&i(e),n()}}}function U(a){let e,t,g,v,b,I,E,C,T,D,w,G=a.name+"",J=a.count+"";const U=new O({props:{data:y}});function V(...e){return a.click_handler(a,...e)}const _=new O({props:{data:M}});function j(...e){return a.click_handler_1(a,...e)}return{c(){e=r("button"),S(U.$$.fragment),t=o(),g=r("div"),v=s(G),b=o(),I=r("div"),E=s(J),C=o(),T=r("button"),S(_.$$.fragment),this.h()},l(a){e=l(a,"BUTTON",{class:!0,href:!0});var o=c(e);N(U.$$.fragment,o),o.forEach(i),t=n(a),g=l(a,"DIV",{});var r=c(g);v=f(r,G),r.forEach(i),b=n(a),I=l(a,"DIV",{class:!0});var s=c(I);E=f(s,J),s.forEach(i),C=n(a),T=l(a,"BUTTON",{class:!0,href:!0});var h=c(T);N(_.$$.fragment,h),h.forEach(i),this.h()},h(){h(e,"class","text-red-400 text-left"),h(e,"href","#"),h(I,"class","text-right"),h(T,"class","text-right"),h(T,"href","#"),w=[A(e,"click",$(V)),A(T,"click",$(j))]},m(a,o){d(a,e,o),k(U,e,null),d(a,t,o),d(a,g,o),m(g,v),d(a,b,o),d(a,I,o),m(I,E),d(a,C,o),d(a,T,o),k(_,T,null),D=!0},p(e,t){a=t,D&&!e.foodIAte||G===(G=a.name+"")||x(v,G),D&&!e.foodIAte||J===(J=a.count+"")||x(E,J)},i(a){D||(p(U.$$.fragment,a),p(_.$$.fragment,a),D=!0)},o(a){u(U.$$.fragment,a),u(_.$$.fragment,a),D=!1},d(a){a&&i(e),P(U),a&&i(t),a&&i(g),a&&i(b),a&&i(I),a&&i(C),a&&i(T),P(_),F(w)}}}function V(a){let e,t,v,I,x,A,E,S,N,$,k,P,F;const C=[w,D],O=[];function y(a,e){return 0===e.food.length?0:1}return t=y(0,a),v=O[t]=C[t](a),{c(){e=o(),v.c(),I=o(),x=r("a"),A=s("Choose Food"),E=o(),S=r("a"),N=s("Update Food"),$=o(),k=r("a"),P=s("Export Food"),this.h()},l(a){e=n(a),v.l(a),I=n(a),x=l(a,"A",{class:!0,href:!0});var t=c(x);A=f(t,"Choose Food"),t.forEach(i),E=n(a),S=l(a,"A",{class:!0,href:!0});var o=c(S);N=f(o,"Update Food"),o.forEach(i),$=n(a),k=l(a,"A",{class:!0,href:!0});var r=c(k);P=f(r,"Export Food"),r.forEach(i),this.h()},h(){document.title="Eat",h(x,"class","invisible"),h(x,"href","/food/eat"),h(S,"class","invisible"),h(S,"href","/food/manage-food/update-food"),h(k,"class","invisible"),h(k,"href","/food/manage-food/export")},m(a,o){d(a,e,o),O[t].m(a,o),d(a,I,o),d(a,x,o),m(x,A),d(a,E,o),d(a,S,o),m(S,N),d(a,$,o),d(a,k,o),m(k,P),F=!0},p(a,e){let o=t;(t=y(0,e))===o?O[t].p(a,e):(b(),u(O[o],1,1,()=>{O[o]=null}),g(),(v=O[t])||(v=O[t]=C[t](e)).c(),p(v,1),v.m(I.parentNode,I))},i(a){F||(p(v),F=!0)},o(a){u(v),F=!1},d(a){a&&i(e),O[t].d(a),a&&i(I),a&&i(x),a&&i(E),a&&i(S),a&&i($),a&&i(k)}}}function _(a,e,t){let o=!1,r=!1,s=2e3,n=[],l=[],c=0,f=0,i=0;function h(a){let e=n.filter(function(e,t,o){return e.name!==a.name});t("foodIAte",n=e),localStorage.setItem("ate",JSON.stringify(e)),m()}function d(a){let e=n.findIndex(e=>e.name===a.name);t("foodIAte",n[e].count=n[e].count+1,n),localStorage.setItem("ate",JSON.stringify(n)),m()}v(async()=>{o="true"===(o=localStorage.getItem("firstTime")||"true"),t("isGoal",r=localStorage.getItem("isGoal")||!1),t("goal",s=localStorage.getItem("goal")||2e3),t("food",l=JSON.parse(localStorage.getItem("food"))||[]),t("foodIAte",n=JSON.parse(localStorage.getItem("ate"))||[]),o&&0===l.length&&(t("food",l=[{name:"cup milk 2%",protein:5,carbs:6,fat:7},{name:"cup oatmeal",protein:6,carbs:7.3,fat:7.2},{name:"egg",protein:6,carbs:0,fat:7.2},{name:"100g chicken breast",protein:20,carbs:3.2,fat:5.1},{name:"100g brown rice",protein:4,carbs:6.8,fat:4.7},{name:"100g japanese yams",protein:4,carbs:6.8,fat:4.7},{name:"avocado",protein:4,carbs:6.8,fat:4.7},{name:"olive oil",protein:2,carbs:3.8,fat:8},{name:"apple",protein:1,carbs:5.8,fat:3},{name:"cottage cheese",protein:1,carbs:5.8,fat:3},{name:"100g greek yugurt",protein:1,carbs:5.8,fat:3},{name:"1 tbsp peanut butter",protein:1,carbs:5.8,fat:3},{name:"100g salmon",protein:1,carbs:5.8,fat:3},{name:"100g steak",protein:1,carbs:5.8,fat:3},{name:"egg white",protein:1,carbs:5.8,fat:3},{name:"sardins",protein:1,carbs:5.8,fat:3},{name:"tuna can",protein:1,carbs:5.8,fat:3},{name:"tuna fresh",protein:1,carbs:5.8,fat:3},{name:"150g drum sticks",protein:1,carbs:5.8,fat:3},{name:"100g chicken thighs",protein:1,carbs:5.8,fat:3}]),localStorage.setItem("firstTime","false"),localStorage.setItem("food",JSON.stringify(l)),localStorage.setItem("recentFood",JSON.stringify(l))),m()});const m=a=>{t("protein",c=n.reduce(function(a,e){return a+e.protein*e.count},0)),t("carbs",f=n.reduce(function(a,e){return a+e.carbs*e.count},0)),t("fat",i=n.reduce(function(a,e){return a+e.fat*e.count},0))};let u,g;return a.$$.update=((a={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(a.protein||a.carbs||a.fat)&&t("calories",g=parseFloat(Number(4*c+4*f+9*i).toFixed(1))),(a.goal||a.calories)&&t("remaining",u=s-g<=0?"remaining":"")}),{isGoal:r,goal:s,foodIAte:n,food:l,protein:c,carbs:f,fat:i,handleClear:function(){localStorage.removeItem("ate"),t("protein",c=0),t("carbs",f=0),t("fat",i=0),t("foodIAte",n=[])},handleDelete:h,handlePlus:d,remaining:u,calories:g,click_handler:({i:a})=>h(n[a]),click_handler_1:({i:a})=>d(n[a])}}export default class extends a{constructor(a){super(),e(this,a,_,V,t,{})}}
