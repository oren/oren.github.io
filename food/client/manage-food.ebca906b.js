import{S as e,i as t,s as a,e as s,t as n,c as r,b as o,d as l,f as i,h as c,k as d,l as u,y as m,G as p,n as h,a as f,g,z as b,J as v,H as M,K as N,I as y,L as F}from"./index.0ee9dc5e.js";function _(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function I(e){let t,a;return{c(){t=s("h1"),a=n("Update Food")},l(e){t=r(e,"H1",{});var s=o(t);a=l(s,"Update Food"),s.forEach(i)},m(e,s){d(e,t,s),u(t,a)},d(e){e&&i(t)}}}function x(e){let t,a;return{c(){t=s("h1"),a=n("Add Food")},l(e){t=r(e,"H1",{});var s=o(t);a=l(s,"Add Food"),s.forEach(i)},m(e,s){d(e,t,s),u(t,a)},d(e){e&&i(t)}}}function P(e){let t,a;return{c(){t=s("p"),a=n(e.successMessage),this.h()},l(s){t=r(s,"P",{class:!0});var n=o(t);a=l(n,e.successMessage),n.forEach(i),this.h()},h(){c(t,"class","success svelte-j7qmaw")},m(e,s){d(e,t,s),u(t,a)},p(e,t){e.successMessage&&m(a,t.successMessage)},d(e){e&&i(t)}}}function S(e){let t,a;return{c(){t=s("p"),a=n(e.errorMessage),this.h()},l(s){t=r(s,"P",{class:!0});var n=o(t);a=l(n,e.errorMessage),n.forEach(i),this.h()},h(){c(t,"class","error svelte-j7qmaw")},m(e,s){d(e,t,s),u(t,a)},p(e,t){e.errorMessage&&m(a,t.errorMessage)},d(e){e&&i(t)}}}function k(e){let t,a,o;return{c(){t=s("input"),a=n(" />"),this.h()},l(e){t=r(e,"INPUT",{type:!0,value:!0}),a=l(e," />"),this.h()},h(){c(t,"type","button"),t.value="delete",o=p(t,"click",e.handleDelete)},m(e,s){d(e,t,s),d(e,a,s)},p:h,d(e){e&&i(t),e&&i(a),o()}}}function U(e){let t,a,m,p,h;return{c(){t=s("h1"),a=n("Food"),m=f(),p=s("p"),h=n("Click food to update"),this.h()},l(e){t=r(e,"H1",{class:!0});var s=o(t);a=l(s,"Food"),s.forEach(i),m=g(e),p=r(e,"P",{});var n=o(p);h=l(n,"Click food to update"),n.forEach(i),this.h()},h(){c(t,"class","food svelte-j7qmaw")},m(e,s){d(e,t,s),u(t,a),d(e,m,s),d(e,p,s),u(p,h)},d(e){e&&i(t),e&&i(m),e&&i(p)}}}function w(e){let t,a,c,h=e.name+"";function f(...t){return e.click_handler(e,...t)}return{c(){t=s("button"),a=n(h),this.h()},l(e){t=r(e,"BUTTON",{});var s=o(t);a=l(s,h),s.forEach(i),this.h()},h(){c=p(t,"click",f)},m(e,s){d(e,t,s),u(t,a)},p(t,s){e=s,t.food&&h!==(h=e.name+"")&&m(a,h)},d(e){e&&i(t),c()}}}function C(e){let t,a,n,l,m,y,F,C,j,E,O,T,q,J,z,A,V,H,B,D,R,$,G,K=!1,L=!1,Q=!1;function W(e,t){return"add"===t.mode?x:I}let X=W(0,e),Y=X(e),Z=""!==e.successMessage&&P(e),ee=""!==e.errorMessage&&S(e);function te(){K=!0,e.input1_input_handler.call(C)}function ae(){L=!0,e.input2_input_handler.call(E)}function se(){Q=!0,e.input3_input_handler.call(T)}let ne="update"===e.mode&&k(e),re=0!==e.food.length&&U(),oe=e.food,le=[];for(let t=0;t<oe.length;t+=1)le[t]=w(_(e,oe,t));return{c(){t=f(),Y.c(),a=f(),Z&&Z.c(),n=f(),ee&&ee.c(),l=f(),m=s("form"),y=s("input"),F=f(),C=s("input"),j=f(),E=s("input"),O=f(),T=s("input"),q=f(),J=s("br"),z=f(),A=s("br"),V=f(),H=s("input"),B=f(),ne&&ne.c(),D=f(),re&&re.c(),R=f();for(let e=0;e<le.length;e+=1)le[e].c();$=b(),this.h()},l(e){t=g(e),Y.l(e),a=g(e),Z&&Z.l(e),n=g(e),ee&&ee.l(e),l=g(e),m=r(e,"FORM",{});var s=o(m);y=r(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0}),F=g(s),C=r(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),j=g(s),E=r(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),O=g(s),T=r(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),q=g(s),J=r(s,"BR",{}),z=g(s),A=r(s,"BR",{}),V=g(s),H=r(s,"INPUT",{type:!0,value:!0,maxlength:!0,size:!0}),B=g(s),ne&&ne.l(s),s.forEach(i),D=g(e),re&&re.l(e),R=g(e);for(let t=0;t<le.length;t+=1)le[t].l(e);$=b(),this.h()},h(){document.title="Food",c(y,"type","text"),c(y,"placeholder","Name"),c(y,"maxlength","20"),c(y,"size","20"),c(C,"type","number"),c(C,"placeholder","Protein"),c(C,"min","0"),c(C,"max","999"),c(C,"class","svelte-j7qmaw"),c(E,"type","number"),c(E,"placeholder","Carbs"),c(E,"min","0"),c(E,"max","999"),c(E,"class","svelte-j7qmaw"),c(T,"type","number"),c(T,"placeholder","Fat"),c(T,"min","0"),c(T,"max","999"),c(T,"class","svelte-j7qmaw"),c(H,"type","button"),H.value=e.buttonValue,c(H,"maxlength","2"),c(H,"size","2"),G=[p(y,"input",e.input0_input_handler),p(C,"input",te),p(C,"keyup",e.validateProtein),p(E,"input",ae),p(E,"keyup",e.validateCarbs),p(T,"input",se),p(T,"keyup",e.validateFat),p(H,"click",e.handleAddUpdate)]},m(s,r){d(s,t,r),Y.m(s,r),d(s,a,r),Z&&Z.m(s,r),d(s,n,r),ee&&ee.m(s,r),d(s,l,r),d(s,m,r),u(m,y),v(y,e.name),u(m,F),u(m,C),v(C,e.protein),u(m,j),u(m,E),v(E,e.carbs),u(m,O),u(m,T),v(T,e.fat),u(m,q),u(m,J),u(m,z),u(m,A),u(m,V),u(m,H),u(m,B),ne&&ne.m(m,null),d(s,D,r),re&&re.m(s,r),d(s,R,r);for(let e=0;e<le.length;e+=1)le[e].m(s,r);d(s,$,r)},p(e,t){if(X!==(X=W(0,t))&&(Y.d(1),(Y=X(t))&&(Y.c(),Y.m(a.parentNode,a))),""!==t.successMessage?Z?Z.p(e,t):((Z=P(t)).c(),Z.m(n.parentNode,n)):Z&&(Z.d(1),Z=null),""!==t.errorMessage?ee?ee.p(e,t):((ee=S(t)).c(),ee.m(l.parentNode,l)):ee&&(ee.d(1),ee=null),e.name&&y.value!==t.name&&v(y,t.name),!K&&e.protein&&v(C,t.protein),K=!1,!L&&e.carbs&&v(E,t.carbs),L=!1,!Q&&e.fat&&v(T,t.fat),Q=!1,e.buttonValue&&(H.value=t.buttonValue),"update"===t.mode?ne?ne.p(e,t):((ne=k(t)).c(),ne.m(m,null)):ne&&(ne.d(1),ne=null),0!==t.food.length?re||((re=U()).c(),re.m(R.parentNode,R)):re&&(re.d(1),re=null),e.handleFoodClick||e.food){let a;for(oe=t.food,a=0;a<oe.length;a+=1){const s=_(t,oe,a);le[a]?le[a].p(e,s):(le[a]=w(s),le[a].c(),le[a].m($.parentNode,$))}for(;a<le.length;a+=1)le[a].d(1);le.length=oe.length}},i:h,o:h,d(e){e&&i(t),Y.d(e),e&&i(a),Z&&Z.d(e),e&&i(n),ee&&ee.d(e),e&&i(l),e&&i(m),ne&&ne.d(),e&&i(D),re&&re.d(e),e&&i(R),M(le,e),e&&i($),N(G)}}}function j(e,t,a){let s="",n="",r="",o="",l=[],i="add",c="",d="",u="";function m(e){a("successMessage",u=""),a("errorMessage",d=""),c=e.name,a("name",s=e.name),a("protein",n=e.protein),a("carbs",r=e.carbs),a("fat",o=e.fat),a("mode",i="update")}y(async()=>{a("food",l=JSON.parse(localStorage.getItem("food"))||[])});let p;return e.$$.update=((e={mode:1})=>{e.mode&&a("buttonValue",p="add"===i?"Add":"Update")}),{name:s,protein:n,carbs:r,fat:o,food:l,mode:i,errorMessage:d,successMessage:u,handleAddUpdate:function(){if(a("successMessage",u=""),a("errorMessage",d=""),a("errorMessage",d=""),!(""===s?(a("errorMessage",d="Name is missing"),0):""===n?(a("errorMessage",d="Protein is missing"),0):Number.isInteger(Number(n))?""===r?(a("errorMessage",d="Carbs is missing"),0):Number.isInteger(Number(r))?""===o?(a("errorMessage",d="Fat is missing"),0):Number.isInteger(Number(o))||(a("errorMessage",d="Fat should be a number"),0):(a("errorMessage",d="Carbs should be a number"),0):(a("errorMessage",d="Protein should be a number"),0)))return;if("add"===i){const e=JSON.parse(localStorage.getItem("food"))||[];return e.push({name:s,protein:n,carbs:r,fat:o}),localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("name",s=""),a("protein",n=""),a("carbs",r=""),a("fat",o=""),a("successMessage",u="Food was added"),void event.preventDefault()}let e=l.findIndex(e=>e.name===c);console.log(e),console.log(c),a("food",l[e].name=s,l),a("food",l[e].protein=n,l),a("food",l[e].carbs=r,l),a("food",l[e].fat=o,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",u="Food was updated")},handleFoodClick:m,handleDelete:function(){a("successMessage",u=""),a("errorMessage",d="");let e=l.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("mode",i="add"),a("name",s=""),a("protein",n=""),a("carbs",r=""),a("fat",o=""),a("successMessage",u="Food was deleted")},validateProtein:function(){let e=String(n);a("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(r);a("carbs",r=Number(e.substring(0,5)))},validateFat:function(){let e=String(o);a("fat",o=Number(e.substring(0,5)))},buttonValue:p,input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){n=F(this.value),a("protein",n)},input2_input_handler:function(){r=F(this.value),a("carbs",r)},input3_input_handler:function(){o=F(this.value),a("fat",o)},click_handler:({i:e})=>m(l[e])}}export default class extends e{constructor(e){super(),t(this,e,j,C,a,{})}}
