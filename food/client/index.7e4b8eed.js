import{S as a,i as e,s as t,a as o,y as r,j as s,l as n,q as c,E as l,p as i,h as f,N as h,D as d,e as m,t as u,b as g,d as p,f as b,k as v,O as I,m as A,x as E,P as S,n as N,c as P,g as k,Q as C,o as M,r as $,I as x}from"./index.52cd5646.js";import{I as y,t as D}from"./index.48ddcbd2.js";function O(a,e,t){const o=Object.create(a);return o.id=e[t].id,o.name=e[t].name,o.count=e[t].count,o.i=t,o}function T(a){let e,t,r,h,I,S,N,P,k,C,M,$,y,D,T,G,j,L,J,B,U,Y,_,q,Q,z,H,K,R,W=Math.round(a.calories)+"",X=Math.round(a.protein)+"",Z=Math.round(a.carbs)+"",aa=Math.round(a.fat)+"",ea=a.isGoal&&w(a),ta=a.foodIAte.length>0&&F(a),oa=a.foodIAte,ra=[];for(let e=0;e<oa.length;e+=1)ra[e]=V(O(a,oa,e));const sa=a=>c(ra[a],1,1,()=>{ra[a]=null});return{c(){ea&&ea.c(),e=o(),t=m("div"),r=m("span"),h=u("Cal:"),I=u(W),S=o(),N=m("span"),P=u("P:"),k=u(X),C=o(),M=m("span"),$=u("C:"),y=u(Z),D=o(),T=m("span"),G=u("F:"),j=u(aa),L=o(),ta&&ta.c(),J=o(),B=m("div");for(let a=0;a<ra.length;a+=1)ra[a].c();U=o(),Y=m("ul"),_=m("li"),q=u("Ate Today"),Q=o(),z=m("li"),H=m("a"),K=u("Choose Food"),this.h()},l(a){ea&&ea.l(a),e=s(a),t=g(a,"DIV",{});var o=p(t);r=g(o,"SPAN",{class:!0});var n=p(r);h=b(n,"Cal:"),I=b(n,W),n.forEach(f),S=s(o),N=g(o,"SPAN",{class:!0});var c=p(N);P=b(c,"P:"),k=b(c,X),c.forEach(f),C=s(o),M=g(o,"SPAN",{class:!0});var l=p(M);$=b(l,"C:"),y=b(l,Z),l.forEach(f),D=s(o),T=g(o,"SPAN",{class:!0});var i=p(T);G=b(i,"F:"),j=b(i,aa),i.forEach(f),o.forEach(f),L=s(a),ta&&ta.l(a),J=s(a),B=g(a,"DIV",{class:!0});var d=p(B);for(let a=0;a<ra.length;a+=1)ra[a].l(d);d.forEach(f),U=s(a),Y=g(a,"UL",{class:!0});var m=p(Y);_=g(m,"LI",{class:!0});var u=p(_);q=b(u,"Ate Today"),u.forEach(f),Q=s(m),z=g(m,"LI",{class:!0});var v=p(z);H=g(v,"A",{href:!0,class:!0});var A=p(H);K=b(A,"Choose Food"),A.forEach(f),v.forEach(f),m.forEach(f),this.h()},h(){v(r,"class","svelte-1ebt1c8"),v(N,"class","svelte-1ebt1c8"),v(M,"class","svelte-1ebt1c8"),v(T,"class","svelte-1ebt1c8"),v(B,"class","ate-wrapper mt-1 svelte-1ebt1c8"),v(_,"class","first svelte-1ebt1c8"),v(H,"href","/food/eat"),v(H,"class","svelte-1ebt1c8"),v(z,"class","second svelte-1ebt1c8"),v(Y,"class","svelte-1ebt1c8")},m(a,o){ea&&ea.m(a,o),n(a,e,o),n(a,t,o),A(t,r),A(r,h),A(r,I),A(t,S),A(t,N),A(N,P),A(N,k),A(t,C),A(t,M),A(M,$),A(M,y),A(t,D),A(t,T),A(T,G),A(T,j),n(a,L,o),ta&&ta.m(a,o),n(a,J,o),n(a,B,o);for(let a=0;a<ra.length;a+=1)ra[a].m(B,null);n(a,U,o),n(a,Y,o),A(Y,_),A(_,q),A(Y,Q),A(Y,z),A(z,H),A(H,K),R=!0},p(a,t){if(t.isGoal?ea?ea.p(a,t):((ea=w(t)).c(),ea.m(e.parentNode,e)):ea&&(ea.d(1),ea=null),R&&!a.calories||W===(W=Math.round(t.calories)+"")||E(I,W),R&&!a.protein||X===(X=Math.round(t.protein)+"")||E(k,X),R&&!a.carbs||Z===(Z=Math.round(t.carbs)+"")||E(y,Z),R&&!a.fat||aa===(aa=Math.round(t.fat)+"")||E(j,aa),t.foodIAte.length>0?ta?ta.p(a,t):((ta=F(t)).c(),ta.m(J.parentNode,J)):ta&&(ta.d(1),ta=null),a.foodIAte||a.handleDelete||a.trash){let e;for(oa=t.foodIAte,e=0;e<oa.length;e+=1){const o=O(t,oa,e);ra[e]?(ra[e].p(a,o),i(ra[e],1)):(ra[e]=V(o),ra[e].c(),i(ra[e],1),ra[e].m(B,null))}for(d(),e=oa.length;e<ra.length;e+=1)sa(e);l()}},i(a){if(!R){for(let a=0;a<oa.length;a+=1)i(ra[a]);R=!0}},o(a){ra=ra.filter(Boolean);for(let a=0;a<ra.length;a+=1)c(ra[a]);R=!1},d(a){ea&&ea.d(a),a&&f(e),a&&f(t),a&&f(L),ta&&ta.d(a),a&&f(J),a&&f(B),x(ra,a),a&&f(U),a&&f(Y)}}}function G(a){let e,t,r,c,l,i,h;return{c(){e=m("p"),t=u("You have no food."),r=o(),c=m("p"),l=m("a"),i=u("Add some food first"),h=u("."),this.h()},l(a){e=g(a,"P",{});var o=p(e);t=b(o,"You have no food."),o.forEach(f),r=s(a),c=g(a,"P",{});var n=p(c);l=g(n,"A",{href:!0});var d=p(l);i=b(d,"Add some food first"),d.forEach(f),h=b(n,"."),n.forEach(f),this.h()},h(){v(l,"href","/food/manage-food/add-food")},m(a,o){n(a,e,o),A(e,t),n(a,r,o),n(a,c,o),A(c,l),A(l,i),A(c,h)},p:N,i:N,o:N,d(a){a&&f(e),a&&f(r),a&&f(c)}}}function w(a){let e,t,r,c,l,i,h,d,S,N,P,k=Math.round(a.goal-a.calories)+"";return{c(){e=m("div"),t=m("span"),r=u("Goal:"),c=u(a.goal),l=o(),i=m("span"),h=u("Left:"),S=m("span"),N=u(k),this.h()},l(o){e=g(o,"DIV",{});var n=p(e);t=g(n,"SPAN",{class:!0});var d=p(t);r=b(d,"Goal:"),c=b(d,a.goal),d.forEach(f),l=s(n),i=g(n,"SPAN",{class:!0});var m=p(i);h=b(m,"Left:"),m.forEach(f),S=g(n,"SPAN",{class:!0});var u=p(S);N=b(u,k),u.forEach(f),n.forEach(f),this.h()},h(){v(t,"class","svelte-1ebt1c8"),v(i,"class",d=I(a.remaining)+" svelte-1ebt1c8"),v(S,"class",P=I(a.remaining)+" svelte-1ebt1c8")},m(a,o){n(a,e,o),A(e,t),A(t,r),A(t,c),A(e,l),A(e,i),A(i,h),A(e,S),A(S,N)},p(a,e){a.goal&&E(c,e.goal),a.remaining&&d!==(d=I(e.remaining)+" svelte-1ebt1c8")&&v(i,"class",d),(a.goal||a.calories)&&k!==(k=Math.round(e.goal-e.calories)+"")&&E(N,k),a.remaining&&P!==(P=I(e.remaining)+" svelte-1ebt1c8")&&v(S,"class",P)},d(a){a&&f(e)}}}function F(a){let e,t,o,r;return{c(){e=m("div"),t=m("button"),o=u("Clear All"),this.h()},l(a){e=g(a,"DIV",{});var r=p(e);t=g(r,"BUTTON",{class:!0});var s=p(t);o=b(s,"Clear All"),s.forEach(f),r.forEach(f),this.h()},h(){v(t,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3 w-1/2"),r=S(t,"click",a.handleClear)},m(a,r){n(a,e,r),A(e,t),A(t,o)},p:N,d(a){a&&f(e),r()}}}function V(a){let e,t,o,r,s,l,h,d=a.name+"",I=a.count+"";const N=new y({props:{data:D}});function x(...e){return a.click_handler(a,...e)}return{c(){e=m("button"),P(N.$$.fragment),t=m("div"),o=u(d),r=m("div"),s=u(I),this.h()},l(a){e=g(a,"BUTTON",{class:!0,href:!0});var n=p(e);k(N.$$.fragment,n),n.forEach(f),t=g(a,"DIV",{});var c=p(t);o=b(c,d),c.forEach(f),r=g(a,"DIV",{});var l=p(r);s=b(l,I),l.forEach(f),this.h()},h(){v(e,"class","text-red-400"),v(e,"href","#"),h=S(e,"click",C(x))},m(a,c){n(a,e,c),M(N,e,null),n(a,t,c),A(t,o),n(a,r,c),A(r,s),l=!0},p(e,t){a=t,l&&!e.foodIAte||d===(d=a.name+"")||E(o,d),l&&!e.foodIAte||I===(I=a.count+"")||E(s,I)},i(a){l||(i(N.$$.fragment,a),l=!0)},o(a){c(N.$$.fragment,a),l=!1},d(a){a&&f(e),$(N),a&&f(t),a&&f(r),h()}}}function j(a){let e,t,h,m,u;const g=[G,T],p=[];function b(a,e){return 0===e.food.length?0:1}return t=b(0,a),h=p[t]=g[t](a),{c(){e=o(),h.c(),m=r(),this.h()},l(a){e=s(a),h.l(a),m=r(),this.h()},h(){document.title="Eat"},m(a,o){n(a,e,o),p[t].m(a,o),n(a,m,o),u=!0},p(a,e){let o=t;(t=b(0,e))===o?p[t].p(a,e):(d(),c(p[o],1,1,()=>{p[o]=null}),l(),(h=p[t])||(h=p[t]=g[t](e)).c(),i(h,1),h.m(m.parentNode,m))},i(a){u||(i(h),u=!0)},o(a){c(h),u=!1},d(a){a&&f(e),p[t].d(a),a&&f(m)}}}function L(a,e,t){let o=!1,r="50% 50%",s=!1,n=2e3,c=[],l=[],i=0,f=0,d=0,m=[];function u(a){let e=c.filter(function(e,t,o){return e.name!==a.name});t("foodIAte",c=e),localStorage.setItem("ate",JSON.stringify(e)),g()}h(async()=>{o="true"===(o=localStorage.getItem("firstTime")||"true"),t("isGoal",s=localStorage.getItem("isGoal")||!1),t("goal",n=localStorage.getItem("goal")||2e3),r=localStorage.getItem("columns")||"50% 50%",t("food",l=JSON.parse(localStorage.getItem("food"))||[]),m=(m=l).slice(0,15),t("foodIAte",c=JSON.parse(localStorage.getItem("ate"))||[]),o&&0===l.length&&(t("food",l=[{name:"cup milk 2%",protein:5,carbs:6,fat:7},{name:"cup oatmeal",protein:6,carbs:7.3,fat:7.2},{name:"egg",protein:6,carbs:0,fat:7.2},{name:"100g chicken breast",protein:20,carbs:3.2,fat:5.1},{name:"100g brown rice",protein:4,carbs:6.8,fat:4.7},{name:"100g japanese yams",protein:4,carbs:6.8,fat:4.7},{name:"avocado",protein:4,carbs:6.8,fat:4.7},{name:"olive oil",protein:2,carbs:3.8,fat:8},{name:"apple",protein:1,carbs:5.8,fat:3},{name:"cottage cheese",protein:1,carbs:5.8,fat:3},{name:"100g greek yugurt",protein:1,carbs:5.8,fat:3},{name:"1 tbsp peanut butter",protein:1,carbs:5.8,fat:3},{name:"100g salmon",protein:1,carbs:5.8,fat:3},{name:"100g steak",protein:1,carbs:5.8,fat:3},{name:"egg white",protein:1,carbs:5.8,fat:3},{name:"sardins",protein:1,carbs:5.8,fat:3},{name:"tuna can",protein:1,carbs:5.8,fat:3},{name:"tuna fresh",protein:1,carbs:5.8,fat:3},{name:"150g drum sticks",protein:1,carbs:5.8,fat:3},{name:"100g chicken thighs",protein:1,carbs:5.8,fat:3}]),localStorage.setItem("firstTime","false"),localStorage.setItem("food",JSON.stringify(l)),m=(m=l).slice(0,15)),g()});const g=a=>{t("protein",i=c.reduce(function(a,e){return a+e.protein*e.count},0)),t("carbs",f=c.reduce(function(a,e){return a+e.carbs*e.count},0)),t("fat",d=c.reduce(function(a,e){return a+e.fat*e.count},0))};let p,b;return a.$$.update=((a={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(a.protein||a.carbs||a.fat)&&t("calories",b=parseFloat(Number(4*i+4*f+9*d).toFixed(1))),(a.goal||a.calories)&&t("remaining",p=n-b<=0?"remaining":"")}),{isGoal:s,goal:n,foodIAte:c,food:l,protein:i,carbs:f,fat:d,handleClear:function(){localStorage.removeItem("ate"),t("protein",i=0),t("carbs",f=0),t("fat",d=0),t("foodIAte",c=[])},handleDelete:u,remaining:p,calories:b,click_handler:({i:a})=>u(c[a])}}export default class extends a{constructor(a){super(),e(this,a,L,j,t,{})}}
