import{S as e,i as a,s as t,e as o,t as l,a as n,c as r,b as s,d as c,f as i,g as f,h as d,j as h,k as u,l as g,y as m,G as p,n as v,z as I,H as A,I as N}from"./index.0ee9dc5e.js";function b(e,a,t){const o=Object.create(e);return o.id=a[t].id,o.name=a[t].name,o.i=t,o}function E(e,a,t){const o=Object.create(e);return o.id=a[t].id,o.name=a[t].name,o.count=a[t].count,o.i=t,o}function S(e){let a,t,p,v,I,A,N,b,E,S,C=e.goal-e.calories+"";return{c(){a=o("div"),t=o("span"),p=l("Calories Goal: "),v=l(e.goal),I=n(),A=o("span"),N=l("Remaining:"),b=o("span"),E=l(C),this.h()},l(o){a=r(o,"DIV",{class:!0});var l=s(a);t=r(l,"SPAN",{class:!0});var n=s(t);p=c(n,"Calories Goal: "),v=c(n,e.goal),n.forEach(i),I=f(l),A=r(l,"SPAN",{class:!0});var d=s(A);N=c(d,"Remaining:"),d.forEach(i),b=r(l,"SPAN",{class:!0});var h=s(b);E=c(h,C),h.forEach(i),l.forEach(i),this.h()},h(){d(t,"class","svelte-ni4745"),d(A,"class","svelte-ni4745"),d(b,"class",S=h(e.remaining)+" svelte-ni4745"),d(a,"class","goal svelte-ni4745")},m(e,o){u(e,a,o),g(a,t),g(t,p),g(t,v),g(a,I),g(a,A),g(A,N),g(a,b),g(b,E)},p(e,a){e.goal&&m(v,a.goal),(e.goal||e.calories)&&C!==(C=a.goal-a.calories+"")&&m(E,C),e.remaining&&S!==(S=h(a.remaining)+" svelte-ni4745")&&d(b,"class",S)},d(e){e&&i(a)}}}function C(e){let a,t,n,f;return{c(){a=o("div"),t=o("button"),n=l("Clear"),this.h()},l(e){a=r(e,"DIV",{});var o=s(a);t=r(o,"BUTTON",{});var l=s(t);n=c(l,"Clear"),l.forEach(i),o.forEach(i),this.h()},h(){f=p(t,"click",e.handleClear)},m(e,o){u(e,a,o),g(a,t),g(t,n)},p:v,d(e){e&&i(a),f()}}}function y(e){let a;return{c(){a=l("Nothing yet... Feed your muscles!")},l(e){a=c(e,"Nothing yet... Feed your muscles!")},m(e,t){u(e,a,t)},d(e){e&&i(a)}}}function P(e){let a,t,d,h,p,v=e.count+"",I=e.name+"";return{c(){a=o("li"),t=l(v),d=n(),h=l(I),p=n()},l(e){a=r(e,"LI",{});var o=s(a);t=c(o,v),d=f(o),h=c(o,I),p=f(o),o.forEach(i)},m(e,o){u(e,a,o),g(a,t),g(a,d),g(a,h),g(a,p)},p(e,a){e.foodIAte&&v!==(v=a.count+"")&&m(t,v),e.foodIAte&&I!==(I=a.name+"")&&m(h,I)},d(e){e&&i(a)}}}function F(e){let a,t,n,f=e.name+"";function d(...a){return e.click_handler(e,...a)}return{c(){a=o("button"),t=l(f),this.h()},l(e){a=r(e,"BUTTON",{});var o=s(a);t=c(o,f),o.forEach(i),this.h()},h(){n=p(a,"click",d)},m(e,o){u(e,a,o),g(a,t)},p(a,o){e=o,a.food&&f!==(f=e.name+"")&&m(t,f)},d(e){e&&i(a),n()}}}function G(e){let a,t,h,p,N,G,k,O,T,j,x,D,H,J,U,V,B,L,R,$,_,z,q,w,K,M,Q,W,X,Y,Z=e.isGoal&&S(e),ee=0!==e.calories&&C(e),ae=0===e.calories&&y(),te=e.foodIAte,oe=[];for(let a=0;a<te.length;a+=1)oe[a]=P(E(e,te,a));let le=e.food,ne=[];for(let a=0;a<le.length;a+=1)ne[a]=F(b(e,le,a));return{c(){a=n(),Z&&Z.c(),t=n(),h=o("div"),p=o("span"),N=l("Calories: "),G=l(e.calories),k=n(),O=o("span"),T=l("Protein:"),j=l(e.protein),x=n(),D=o("span"),H=l("Carbs:"),J=l(e.carbs),U=n(),V=o("span"),B=l("Fat:"),L=l(e.fat),R=n(),$=o("h1"),_=l("Today I Ate"),z=n(),ee&&ee.c(),q=n(),ae&&ae.c(),w=n(),K=o("ul");for(let e=0;e<oe.length;e+=1)oe[e].c();M=n(),Q=o("h1"),W=l("Add Food"),X=n();for(let e=0;e<ne.length;e+=1)ne[e].c();Y=I(),this.h()},l(o){a=f(o),Z&&Z.l(o),t=f(o),h=r(o,"DIV",{class:!0});var l=s(h);p=r(l,"SPAN",{class:!0});var n=s(p);N=c(n,"Calories: "),G=c(n,e.calories),n.forEach(i),k=f(l),O=r(l,"SPAN",{class:!0});var d=s(O);T=c(d,"Protein:"),j=c(d,e.protein),d.forEach(i),x=f(l),D=r(l,"SPAN",{class:!0});var u=s(D);H=c(u,"Carbs:"),J=c(u,e.carbs),u.forEach(i),U=f(l),V=r(l,"SPAN",{class:!0});var g=s(V);B=c(g,"Fat:"),L=c(g,e.fat),g.forEach(i),l.forEach(i),R=f(o),$=r(o,"H1",{class:!0});var m=s($);_=c(m,"Today I Ate"),m.forEach(i),z=f(o),ee&&ee.l(o),q=f(o),ae&&ae.l(o),w=f(o),K=r(o,"UL",{class:!0});var v=s(K);for(let e=0;e<oe.length;e+=1)oe[e].l(v);v.forEach(i),M=f(o),Q=r(o,"H1",{});var A=s(Q);W=c(A,"Add Food"),A.forEach(i),X=f(o);for(let e=0;e<ne.length;e+=1)ne[e].l(o);Y=I(),this.h()},h(){document.title="Eat",d(p,"class","svelte-ni4745"),d(O,"class","svelte-ni4745"),d(D,"class","svelte-ni4745"),d(V,"class","svelte-ni4745"),d(h,"class","total svelte-ni4745"),d($,"class","today svelte-ni4745"),d(K,"class","svelte-ni4745")},m(e,o){u(e,a,o),Z&&Z.m(e,o),u(e,t,o),u(e,h,o),g(h,p),g(p,N),g(p,G),g(h,k),g(h,O),g(O,T),g(O,j),g(h,x),g(h,D),g(D,H),g(D,J),g(h,U),g(h,V),g(V,B),g(V,L),u(e,R,o),u(e,$,o),g($,_),u(e,z,o),ee&&ee.m(e,o),u(e,q,o),ae&&ae.m(e,o),u(e,w,o),u(e,K,o);for(let e=0;e<oe.length;e+=1)oe[e].m(K,null);u(e,M,o),u(e,Q,o),g(Q,W),u(e,X,o);for(let a=0;a<ne.length;a+=1)ne[a].m(e,o);u(e,Y,o)},p(e,a){if(a.isGoal?Z?Z.p(e,a):((Z=S(a)).c(),Z.m(t.parentNode,t)):Z&&(Z.d(1),Z=null),e.calories&&m(G,a.calories),e.protein&&m(j,a.protein),e.carbs&&m(J,a.carbs),e.fat&&m(L,a.fat),0!==a.calories?ee?ee.p(e,a):((ee=C(a)).c(),ee.m(q.parentNode,q)):ee&&(ee.d(1),ee=null),0===a.calories?ae||((ae=y()).c(),ae.m(w.parentNode,w)):ae&&(ae.d(1),ae=null),e.foodIAte){let t;for(te=a.foodIAte,t=0;t<te.length;t+=1){const o=E(a,te,t);oe[t]?oe[t].p(e,o):(oe[t]=P(o),oe[t].c(),oe[t].m(K,null))}for(;t<oe.length;t+=1)oe[t].d(1);oe.length=te.length}if(e.handleFoodClick||e.food){let t;for(le=a.food,t=0;t<le.length;t+=1){const o=b(a,le,t);ne[t]?ne[t].p(e,o):(ne[t]=F(o),ne[t].c(),ne[t].m(Y.parentNode,Y))}for(;t<ne.length;t+=1)ne[t].d(1);ne.length=le.length}},i:v,o:v,d(e){e&&i(a),Z&&Z.d(e),e&&i(t),e&&i(h),e&&i(R),e&&i($),e&&i(z),ee&&ee.d(e),e&&i(q),ae&&ae.d(e),e&&i(w),e&&i(K),A(oe,e),e&&i(M),e&&i(Q),e&&i(X),A(ne,e),e&&i(Y)}}}function k(e,a,t){let o=!1,l=2e3,n=[],r=[],s=0,c=0,i=0;function f(e){let a=n.findIndex(a=>a.name===e.name);-1===a?(e.count=1,t("foodIAte",n=[...n,e])):t("foodIAte",n[a].count=n[a].count+1,n),localStorage.setItem("ate",JSON.stringify(n)),d()}N(async()=>{t("isGoal",o=localStorage.getItem("isGoal")||!1),t("goal",l=localStorage.getItem("goal")||2e3),t("food",r=JSON.parse(localStorage.getItem("food"))||[]),t("foodIAte",n=JSON.parse(localStorage.getItem("ate"))||[]),d()});const d=e=>{t("protein",s=Number(n.reduce(function(e,a){return e+a.protein*a.count},0))),t("carbs",c=Number(n.reduce(function(e,a){return e+a.carbs*a.count},0))),t("fat",i=Number(n.reduce(function(e,a){return e+a.fat*a.count},0)))};let h,u;return e.$$.update=((e={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(e.protein||e.carbs||e.fat)&&t("calories",u=4*s+4*c+9*i),(e.goal||e.calories)&&t("remaining",h=l-u<=0?"remaining":"")}),{isGoal:o,goal:l,foodIAte:n,food:r,protein:s,carbs:c,fat:i,handleFoodClick:f,handleClear:function(e){localStorage.removeItem("ate"),t("protein",s=0),t("carbs",c=0),t("fat",i=0),t("foodIAte",n=[])},remaining:h,calories:u,click_handler:({i:e})=>f(r[e])}}export default class extends e{constructor(e){super(),a(this,e,k,G,t,{})}}
