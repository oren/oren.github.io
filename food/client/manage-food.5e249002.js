import{S as e,i as t,s as a,e as s,t as o,c as n,b as r,d as l,f as d,h as u,k as c,l as i,y as p,G as h,n as f,a as m,g,z as b,J as M,H as v,K as N,I as y}from"./index.dabfb2a8.js";function _(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function x(e){let t,a;return{c(){t=s("h1"),a=o("Update Food")},l(e){t=n(e,"H1",{});var s=r(t);a=l(s,"Update Food"),s.forEach(d)},m(e,s){c(e,t,s),i(t,a)},d(e){e&&d(t)}}}function F(e){let t,a;return{c(){t=s("h1"),a=o("Add Food")},l(e){t=n(e,"H1",{});var s=r(t);a=l(s,"Add Food"),s.forEach(d)},m(e,s){c(e,t,s),i(t,a)},d(e){e&&d(t)}}}function I(e){let t,a;return{c(){t=s("p"),a=o(e.successMessage),this.h()},l(s){t=n(s,"P",{class:!0});var o=r(t);a=l(o,e.successMessage),o.forEach(d),this.h()},h(){u(t,"class","success svelte-uwv1ey")},m(e,s){c(e,t,s),i(t,a)},p(e,t){e.successMessage&&p(a,t.successMessage)},d(e){e&&d(t)}}}function P(e){let t,a;return{c(){t=s("p"),a=o(e.errorMessage),this.h()},l(s){t=n(s,"P",{class:!0});var o=r(t);a=l(o,e.errorMessage),o.forEach(d),this.h()},h(){u(t,"class","error svelte-uwv1ey")},m(e,s){c(e,t,s),i(t,a)},p(e,t){e.errorMessage&&p(a,t.errorMessage)},d(e){e&&d(t)}}}function U(e){let t,a;return{c(){t=s("input"),this.h()},l(e){t=n(e,"INPUT",{type:!0,value:!0}),this.h()},h(){u(t,"type","button"),t.value="delete",a=h(t,"click",e.handleDelete)},m(e,a){c(e,t,a)},p:f,d(e){e&&d(t),a()}}}function S(e){let t,a,p,h,f;return{c(){t=s("h1"),a=o("Food"),p=m(),h=s("p"),f=o("Click food to update"),this.h()},l(e){t=n(e,"H1",{class:!0});var s=r(t);a=l(s,"Food"),s.forEach(d),p=g(e),h=n(e,"P",{});var o=r(h);f=l(o,"Click food to update"),o.forEach(d),this.h()},h(){u(t,"class","food svelte-uwv1ey")},m(e,s){c(e,t,s),i(t,a),c(e,p,s),c(e,h,s),i(h,f)},d(e){e&&d(t),e&&d(p),e&&d(h)}}}function k(e){let t,a,u,f=e.name+"";function m(...t){return e.click_handler(e,...t)}return{c(){t=s("button"),a=o(f),this.h()},l(e){t=n(e,"BUTTON",{});var s=r(t);a=l(s,f),s.forEach(d),this.h()},h(){u=h(t,"click",m)},m(e,s){c(e,t,s),i(t,a)},p(t,s){e=s,t.food&&f!==(f=e.name+"")&&p(a,f)},d(e){e&&d(t),u()}}}function z(e){let t,a,o,l,p,y,z,E,O,T,C,w,J,A,V,H,D,j,$;function B(e,t){return"add"===t.mode?F:x}let G=B(0,e),K=G(e),R=""!==e.successMessage&&I(e),q=""!==e.errorMessage&&P(e),L="update"===e.mode&&U(e),Q=0!==e.food.length&&S(),W=e.food,X=[];for(let t=0;t<W.length;t+=1)X[t]=k(_(e,W,t));return{c(){t=m(),K.c(),a=m(),R&&R.c(),o=m(),q&&q.c(),l=m(),p=s("form"),y=s("input"),z=m(),E=s("input"),O=m(),T=s("input"),C=m(),w=s("input"),J=m(),A=s("input"),V=m(),L&&L.c(),H=m(),Q&&Q.c(),D=m();for(let e=0;e<X.length;e+=1)X[e].c();j=b(),this.h()},l(e){t=g(e),K.l(e),a=g(e),R&&R.l(e),o=g(e),q&&q.l(e),l=g(e),p=n(e,"FORM",{});var s=r(p);y=n(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0}),z=g(s),E=n(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0}),O=g(s),T=n(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0}),C=g(s),w=n(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0}),J=g(s),A=n(s,"INPUT",{type:!0,value:!0}),V=g(s),L&&L.l(s),s.forEach(d),H=g(e),Q&&Q.l(e),D=g(e);for(let t=0;t<X.length;t+=1)X[t].l(e);j=b(),this.h()},h(){document.title="Food",u(y,"type","text"),u(y,"placeholder","Name"),u(y,"maxlength","20"),u(y,"size","20"),u(E,"type","text"),u(E,"placeholder","Protein"),u(E,"maxlength","2"),u(E,"size","4"),u(T,"type","text"),u(T,"placeholder","Carbs"),u(T,"maxlength","4"),u(T,"size","4"),u(w,"type","text"),u(w,"placeholder","Fat"),u(w,"maxlength","4"),u(w,"size","4"),u(A,"type","button"),A.value=e.buttonValue,$=[h(y,"input",e.input0_input_handler),h(E,"input",e.input1_input_handler),h(T,"input",e.input2_input_handler),h(w,"input",e.input3_input_handler),h(A,"click",e.handleAddUpdate)]},m(s,n){c(s,t,n),K.m(s,n),c(s,a,n),R&&R.m(s,n),c(s,o,n),q&&q.m(s,n),c(s,l,n),c(s,p,n),i(p,y),M(y,e.name),i(p,z),i(p,E),M(E,e.protein),i(p,O),i(p,T),M(T,e.carbs),i(p,C),i(p,w),M(w,e.fat),i(p,J),i(p,A),i(p,V),L&&L.m(p,null),c(s,H,n),Q&&Q.m(s,n),c(s,D,n);for(let e=0;e<X.length;e+=1)X[e].m(s,n);c(s,j,n)},p(e,t){if(G!==(G=B(0,t))&&(K.d(1),(K=G(t))&&(K.c(),K.m(a.parentNode,a))),""!==t.successMessage?R?R.p(e,t):((R=I(t)).c(),R.m(o.parentNode,o)):R&&(R.d(1),R=null),""!==t.errorMessage?q?q.p(e,t):((q=P(t)).c(),q.m(l.parentNode,l)):q&&(q.d(1),q=null),e.name&&y.value!==t.name&&M(y,t.name),e.protein&&E.value!==t.protein&&M(E,t.protein),e.carbs&&T.value!==t.carbs&&M(T,t.carbs),e.fat&&w.value!==t.fat&&M(w,t.fat),e.buttonValue&&(A.value=t.buttonValue),"update"===t.mode?L?L.p(e,t):((L=U(t)).c(),L.m(p,null)):L&&(L.d(1),L=null),0!==t.food.length?Q||((Q=S()).c(),Q.m(D.parentNode,D)):Q&&(Q.d(1),Q=null),e.handleFoodClick||e.food){let a;for(W=t.food,a=0;a<W.length;a+=1){const s=_(t,W,a);X[a]?X[a].p(e,s):(X[a]=k(s),X[a].c(),X[a].m(j.parentNode,j))}for(;a<X.length;a+=1)X[a].d(1);X.length=W.length}},i:f,o:f,d(e){e&&d(t),K.d(e),e&&d(a),R&&R.d(e),e&&d(o),q&&q.d(e),e&&d(l),e&&d(p),L&&L.d(),e&&d(H),Q&&Q.d(e),e&&d(D),v(X,e),e&&d(j),N($)}}}function E(e,t,a){let s="",o="",n="",r="",l=[],d="add",u="",c="",i="";function p(e){a("successMessage",i=""),a("errorMessage",c=""),u=e.name,a("name",s=e.name),a("protein",o=e.protein),a("carbs",n=e.carbs),a("fat",r=e.fat),a("mode",d="update")}y(async()=>{a("food",l=JSON.parse(localStorage.getItem("food"))||[])});let h;return e.$$.update=((e={mode:1})=>{e.mode&&a("buttonValue",h="add"===d?"Add":"Update")}),{name:s,protein:o,carbs:n,fat:r,food:l,mode:d,errorMessage:c,successMessage:i,handleAddUpdate:function(){if(a("successMessage",i=""),a("errorMessage",c=""),a("errorMessage",c=""),!(""===s?(a("errorMessage",c="Name is missing"),0):""===o?(a("errorMessage",c="Protein is missing"),0):Number.isInteger(Number(o))?""===n?(a("errorMessage",c="Carbs is missing"),0):Number.isInteger(Number(n))?""===r?(a("errorMessage",c="Fat is missing"),0):Number.isInteger(Number(r))||(a("errorMessage",c="Fat should be a number"),0):(a("errorMessage",c="Carbs should be a number"),0):(a("errorMessage",c="Protein should be a number"),0)))return;if("add"===d){const e=JSON.parse(localStorage.getItem("food"))||[];return e.push({name:s,protein:o,carbs:n,fat:r}),localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("name",s=""),a("protein",o=""),a("carbs",n=""),a("fat",r=""),a("successMessage",i="Food was added"),void event.preventDefault()}let e=l.findIndex(e=>e.name===u);console.log(e),console.log(u),a("food",l[e].name=s,l),a("food",l[e].protein=o,l),a("food",l[e].carbs=n,l),a("food",l[e].fat=r,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",i="Food was updated")},handleFoodClick:p,handleDelete:function(){a("successMessage",i=""),a("errorMessage",c="");let e=l.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("mode",d="add"),a("name",s=""),a("protein",o=""),a("carbs",n=""),a("fat",r=""),a("successMessage",i="Food was deleted")},buttonValue:h,input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){o=this.value,a("protein",o)},input2_input_handler:function(){n=this.value,a("carbs",n)},input3_input_handler:function(){r=this.value,a("fat",r)},click_handler:({i:e})=>p(l[e])}}export default class extends e{constructor(e){super(),t(this,e,E,z,a,{})}}
