import{S as e,i as t,s as a,e as s,t as r,b as o,d as n,f as l,h as i,k as c,l as d,m as f,x as u,a as p,y as h,j as m,q as g,E as v,p as b,N as F,D as x,T as y,c as M,g as N,P as U,Q as I,U as _,o as $,r as S,R as w,V as E,I as j,n as D}from"./index.9cf44aa4.js";import{I as T,t as k}from"./index.e287424e.js";import{v as O}from"./validate.ef36bd26.js";function P(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function J(e){let t,a;return{c(){t=s("p"),a=r(e.successMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=n(t);a=l(r,e.successMessage),r.forEach(i),this.h()},h(){c(t,"class","success svelte-j3i7eb")},m(e,s){d(e,t,s),f(t,a)},p(e,t){e.successMessage&&u(a,t.successMessage)},d(e){e&&i(t)}}}function V(e){let t,a;return{c(){t=s("p"),a=r(e.errorMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=n(t);a=l(r,e.errorMessage),r.forEach(i),this.h()},h(){c(t,"class","error svelte-j3i7eb")},m(e,s){d(e,t,s),f(t,a)},p(e,t){e.errorMessage&&u(a,t.errorMessage)},d(e){e&&i(t)}}}function C(e){let t,a,s,r=e.showUpdateForm&&A(e),o=!e.showUpdateForm&&z(e);return{c(){r&&r.c(),t=p(),o&&o.c(),a=h()},l(e){r&&r.l(e),t=m(e),o&&o.l(e),a=h()},m(e,n){r&&r.m(e,n),d(e,t,n),o&&o.m(e,n),d(e,a,n),s=!0},p(e,s){s.showUpdateForm?r?(r.p(e,s),b(r,1)):((r=A(s)).c(),b(r,1),r.m(t.parentNode,t)):r&&(x(),g(r,1,1,()=>{r=null}),v()),s.showUpdateForm?o&&(x(),g(o,1,1,()=>{o=null}),v()):o?(o.p(e,s),b(o,1)):((o=z(s)).c(),b(o,1),o.m(a.parentNode,a))},i(e){s||(b(r),b(o),s=!0)},o(e){g(r),g(o),s=!1},d(e){r&&r.d(e),e&&i(t),o&&o.d(e),e&&i(a)}}}function B(e){let t,a,c,u;return{c(){t=s("p"),a=r("You have no food."),c=s("p"),u=s("p")},l(e){t=o(e,"P",{});var s=n(t);a=l(s,"You have no food."),s.forEach(i),c=o(e,"P",{}),n(c).forEach(i),u=o(e,"P",{}),n(u).forEach(i)},m(e,s){d(e,t,s),f(t,a),d(e,c,s),d(e,u,s)},p:D,i:D,o:D,d(e){e&&i(t),e&&i(c),e&&i(u)}}}function A(e){let t,a,u,h,v,F,x,y,E,j,D,O,P,J,V,C,B,A,z,L,R=!1,Y=!1,q=!1;function H(){R=!0,e.input1_input_handler.call(F)}function Q(){Y=!0,e.input2_input_handler.call(E)}function G(){q=!0,e.input3_input_handler.call(O)}const K=new T({props:{data:k}});return{c(){t=s("form"),a=s("div"),u=s("input"),h=p(),v=s("div"),F=s("input"),x=p(),y=s("div"),E=s("input"),j=p(),D=s("div"),O=s("input"),P=p(),J=s("div"),V=s("button"),C=r("Update"),B=p(),A=s("button"),M(K.$$.fragment),this.h()},l(e){t=o(e,"FORM",{class:!0});var s=n(t);a=o(s,"DIV",{});var r=n(a);u=o(r,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),r.forEach(i),h=m(s),v=o(s,"DIV",{});var c=n(v);F=o(c,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),c.forEach(i),x=m(s),y=o(s,"DIV",{});var d=n(y);E=o(d,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),d.forEach(i),j=m(s),D=o(s,"DIV",{});var f=n(D);O=o(f,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),f.forEach(i),P=m(s),J=o(s,"DIV",{class:!0});var p=n(J);V=o(p,"BUTTON",{class:!0});var g=n(V);C=l(g,"Update"),g.forEach(i),B=m(p),A=o(p,"BUTTON",{class:!0});var b=n(A);N(K.$$.fragment,b),b.forEach(i),p.forEach(i),s.forEach(i),this.h()},h(){c(u,"class"," svelte-j3i7eb"),c(u,"type","text"),c(u,"placeholder","Name"),c(u,"maxlength","20"),c(u,"size","20"),c(F,"type","number"),c(F,"placeholder","Protein"),c(F,"min","0"),c(F,"max","999"),c(F,"class","svelte-j3i7eb"),c(E,"type","number"),c(E,"placeholder","Carbs"),c(E,"min","0"),c(E,"max","999"),c(E,"class","svelte-j3i7eb"),c(O,"type","number"),c(O,"placeholder","Fat"),c(O,"min","0"),c(O,"max","999"),c(O,"class","svelte-j3i7eb"),c(V,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3"),c(A,"class","text-red-400 py-1 px-1"),c(J,"class","mt-3"),c(t,"class","svelte-j3i7eb"),L=[U(u,"input",e.input0_input_handler),U(F,"input",H),U(F,"keyup",e.validateProtein),U(E,"input",Q),U(E,"keyup",e.validateCarbs),U(O,"input",G),U(O,"keyup",e.validateFat),U(V,"click",I(e.handleUpdate)),U(A,"click",e.handleDelete)]},m(s,r){d(s,t,r),f(t,a),f(a,u),_(u,e.name),f(t,h),f(t,v),f(v,F),_(F,e.protein),f(t,x),f(t,y),f(y,E),_(E,e.carbs),f(t,j),f(t,D),f(D,O),_(O,e.fat),f(t,P),f(t,J),f(J,V),f(V,C),f(J,B),f(J,A),$(K,A,null),z=!0},p(e,t){e.name&&u.value!==t.name&&_(u,t.name),!R&&e.protein&&_(F,t.protein),R=!1,!Y&&e.carbs&&_(E,t.carbs),Y=!1,!q&&e.fat&&_(O,t.fat),q=!1},i(e){z||(b(K.$$.fragment,e),z=!0)},o(e){g(K.$$.fragment,e),z=!1},d(e){e&&i(t),S(K),w(L)}}}function z(e){let t,a,u,h,F,y,I,D,O,J=e.filteredFood,V=[];for(let t=0;t<J.length;t+=1)V[t]=L(P(e,J,t));const C=e=>g(V[e],1,1,()=>{V[e]=null}),B=new T({props:{style:"margin-left: 0.5rem; margin-bottom: 0.25rem;",data:k}});return{c(){t=s("input"),a=p(),u=s("div");for(let e=0;e<V.length;e+=1)V[e].c();h=p(),F=s("div"),y=s("button"),I=r("Delete All"),M(B.$$.fragment),this.h()},l(e){t=o(e,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),a=m(e),u=o(e,"DIV",{class:!0,style:!0});var s=n(u);for(let e=0;e<V.length;e+=1)V[e].l(s);s.forEach(i),h=m(e),F=o(e,"DIV",{class:!0});var r=n(F);y=o(r,"BUTTON",{class:!0});var c=n(y);I=l(c,"Delete All"),N(B.$$.fragment,c),c.forEach(i),r.forEach(i),this.h()},h(){c(t,"class","filter bg-gray-200 w-24 px-2 svelte-j3i7eb"),c(t,"type","text"),c(t,"placeholder","Search"),c(t,"maxlength","5"),c(t,"size","3"),c(u,"class","wrapper svelte-j3i7eb"),E(u,"margin-top",(e.food.length>=10?0:20)+"px"),c(y,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3"),c(F,"class","flex justify-end pb-10"),O=[U(t,"input",e.input_input_handler),U(t,"input",e.handleFilter),U(y,"click",e.handleDeleteAll)]},m(s,r){d(s,t,r),_(t,e.filter),d(s,a,r),d(s,u,r);for(let e=0;e<V.length;e+=1)V[e].m(u,null);d(s,h,r),d(s,F,r),f(F,y),f(y,I),$(B,y,null),D=!0},p(e,a){if(e.filter&&t.value!==a.filter&&_(t,a.filter),e.handleFoodDelete||e.food||e.trash||e.handleFoodClick||e.filteredFood){let t;for(J=a.filteredFood,t=0;t<J.length;t+=1){const s=P(a,J,t);V[t]?(V[t].p(e,s),b(V[t],1)):(V[t]=L(s),V[t].c(),b(V[t],1),V[t].m(u,null))}for(x(),t=J.length;t<V.length;t+=1)C(t);v()}D&&!e.food||E(u,"margin-top",(a.food.length>=10?0:20)+"px")},i(e){if(!D){for(let e=0;e<J.length;e+=1)b(V[e]);b(B.$$.fragment,e),D=!0}},o(e){V=V.filter(Boolean);for(let e=0;e<V.length;e+=1)g(V[e]);g(B.$$.fragment,e),D=!1},d(e){e&&i(t),e&&i(a),e&&i(u),j(V,e),e&&i(h),e&&i(F),S(B),w(O)}}}function L(e){let t,a,p,h,m,v=e.name+"";function F(...t){return e.click_handler(e,...t)}const x=new T({props:{data:k}});function y(...t){return e.click_handler_1(e,...t)}return{c(){t=s("button"),a=r(v),p=s("button"),M(x.$$.fragment),this.h()},l(e){t=o(e,"BUTTON",{class:!0});var s=n(t);a=l(s,v),s.forEach(i),p=o(e,"BUTTON",{class:!0});var r=n(p);N(x.$$.fragment,r),r.forEach(i),this.h()},h(){c(t,"class","box svelte-j3i7eb"),c(p,"class","text-red-400"),m=[U(t,"click",F),U(p,"click",I(y))]},m(e,s){d(e,t,s),f(t,a),d(e,p,s),$(x,p,null),h=!0},p(t,s){e=s,h&&!t.filteredFood||v===(v=e.name+"")||u(a,v)},i(e){h||(b(x.$$.fragment,e),h=!0)},o(e){g(x.$$.fragment,e),h=!1},d(e){e&&i(t),e&&i(p),S(x),w(m)}}}function R(e){let t,a,u,F,y,M,N,U,I,_,$=""!==e.successMessage&&J(e),S=""!==e.errorMessage&&V(e);const w=[B,C],E=[];function j(e,t){return 0===t.food.length?0:1}return N=j(0,e),U=E[N]=w[N](e),{c(){t=p(),a=s("h2"),u=r("Update Food"),F=p(),$&&$.c(),y=p(),S&&S.c(),M=p(),U.c(),I=h(),this.h()},l(e){t=m(e),a=o(e,"H2",{class:!0});var s=n(a);u=l(s,"Update Food"),s.forEach(i),F=m(e),$&&$.l(e),y=m(e),S&&S.l(e),M=m(e),U.l(e),I=h(),this.h()},h(){document.title="Update Food",c(a,"class","text-xl")},m(e,s){d(e,t,s),d(e,a,s),f(a,u),d(e,F,s),$&&$.m(e,s),d(e,y,s),S&&S.m(e,s),d(e,M,s),E[N].m(e,s),d(e,I,s),_=!0},p(e,t){""!==t.successMessage?$?$.p(e,t):(($=J(t)).c(),$.m(y.parentNode,y)):$&&($.d(1),$=null),""!==t.errorMessage?S?S.p(e,t):((S=V(t)).c(),S.m(M.parentNode,M)):S&&(S.d(1),S=null);let a=N;(N=j(0,t))===a?E[N].p(e,t):(x(),g(E[a],1,1,()=>{E[a]=null}),v(),(U=E[N])||(U=E[N]=w[N](t)).c(),b(U,1),U.m(I.parentNode,I))},i(e){_||(b(U),_=!0)},o(e){g(U),_=!1},d(e){e&&i(t),e&&i(a),e&&i(F),$&&$.d(e),e&&i(y),S&&S.d(e),e&&i(M),E[N].d(e),e&&i(I)}}}function Y(e,t,a){let s="",r="",o="",n="",l=[],i="",c="",d="",f=!1,u="",p=[],h=[];function m(e){a("filteredFood",p=e),a("filter",u=""),a("showUpdateForm",f=!0),a("successMessage",d=""),a("errorMessage",c=""),i=e.name,a("name",s=e.name),a("protein",r=e.protein),a("carbs",o=e.carbs),a("fat",n=e.fat)}F(async()=>{a("food",l=JSON.parse(localStorage.getItem("food")).sort((e,t)=>e.name>t.name)||[]),h=JSON.parse(localStorage.getItem("recentFood"))||[],a("filteredFood",p=l)});function g(e){a("filteredFood",p=l),a("filter",u=""),a("successMessage",d=""),a("errorMessage",c="");let t=l.filter(function(t,a,s){return t.name!==e.name});localStorage.setItem("food",JSON.stringify(t)),a("food",l=t),a("filteredFood",p=t),t=h.filter(function(t,a,s){return t.name!==e.name}),localStorage.setItem("recentFood",JSON.stringify(t)),h=t,a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",n=""),a("successMessage",d="Food was deleted"),a("showUpdateForm",f=!1)}return{name:s,protein:r,carbs:o,fat:n,food:l,errorMessage:c,successMessage:d,showUpdateForm:f,filter:u,filteredFood:p,handleUpdate:function(){a("filteredFood",p=l),a("filter",u="");let e={};if(a("successMessage",d=""),a("errorMessage",c=""),!(e=O({name:s,protein:r,carbs:o,fat:n})).valid)return void a("errorMessage",c=e.message);let t=l.findIndex(e=>e.name===i);a("food",l[t].name=s,l),a("food",l[t].protein=r,l),a("food",l[t].carbs=o,l),a("food",l[t].fat=n,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",d="Food was updated"),a("showUpdateForm",f=!1),-1!==(t=h.findIndex(e=>e.name===i))&&(h[t].name=s,h[t].protein=r,h[t].carbs=o,h[t].fat=n,localStorage.setItem("recentFood",JSON.stringify(h)))},handleFoodClick:m,handleDelete:function(){a("filteredFood",p=l),a("filter",u=""),a("successMessage",d=""),a("errorMessage",c="");let e=l.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),e=h.filter(function(e,t,a){return e.name!==s}),localStorage.setItem("recentFood",JSON.stringify(e)),h=e,a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",n=""),a("successMessage",d="Food was deleted"),a("showUpdateForm",f=!1)},handleDeleteAll:()=>{a("successMessage",d="All food was deleted"),localStorage.removeItem("food"),localStorage.removeItem("recentFood"),a("food",l=[]),a("filteredFood",p=[])},handleFoodDelete:g,handleFilter:function(){""===u&&a("filteredFood",p=l),a("filteredFood",p=l.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())))},validateProtein:function(){let e=String(r);a("protein",r=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(o);a("carbs",o=Number(e.substring(0,5)))},validateFat:function(){let e=String(n);a("fat",n=Number(e.substring(0,5)))},input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){r=y(this.value),a("protein",r)},input2_input_handler:function(){o=y(this.value),a("carbs",o)},input3_input_handler:function(){n=y(this.value),a("fat",n)},input_input_handler:function(){u=this.value,a("filter",u)},click_handler:({i:e})=>m(l[e]),click_handler_1:({i:e})=>g(l[e])}}export default class extends e{constructor(e){super(),t(this,e,Y,R,a,{})}}
