import{S as e,i as a,s as o,a as t,z as s,g as l,k as c,n as r,f as n,G as i,e as f,t as d,c as h,b as u,d as g,h as m,j as p,l as v,y as A,H as I,I as b}from"./index.b5e9fc2a.js";function N(e,a,o){const t=Object.create(e);return t.id=a[o].id,t.name=a[o].name,t.i=o,t}function E(e,a,o){const t=Object.create(e);return t.id=a[o].id,t.name=a[o].name,t.count=a[o].count,t.i=o,t}function S(e){let a,o,s,r,i,p,S,C,k,O,T,x,j,D,V,H,J,B,R,U,Y,$,_,w,z,q,K,L,M,Q,W=e.isGoal&&y(e),X=0===e.calories&&P(),Z=e.foodIAte,ee=[];for(let a=0;a<Z.length;a+=1)ee[a]=F(E(e,Z,a));let ae=e.food,oe=[];for(let a=0;a<ae.length;a+=1)oe[a]=G(N(e,ae,a));return{c(){W&&W.c(),a=t(),o=f("div"),s=f("span"),r=d("Calories: "),i=d(e.calories),p=t(),S=f("span"),C=d("Protein:"),k=d(e.protein),O=t(),T=f("span"),x=d("Carbs:"),j=d(e.carbs),D=t(),V=f("span"),H=d("Fat:"),J=d(e.fat),B=t(),R=f("h2"),U=d("Today I Ate:"),Y=f("button"),$=d("Clear"),_=t(),X&&X.c(),w=t();for(let e=0;e<ee.length;e+=1)ee[e].c();z=t(),q=f("h2"),K=d("Add Food"),L=t(),M=f("div");for(let e=0;e<oe.length;e+=1)oe[e].c();this.h()},l(t){W&&W.l(t),a=l(t),o=h(t,"DIV",{class:!0});var c=u(o);s=h(c,"SPAN",{class:!0});var f=u(s);r=g(f,"Calories: "),i=g(f,e.calories),f.forEach(n),p=l(c),S=h(c,"SPAN",{class:!0});var d=u(S);C=g(d,"Protein:"),k=g(d,e.protein),d.forEach(n),O=l(c),T=h(c,"SPAN",{class:!0});var m=u(T);x=g(m,"Carbs:"),j=g(m,e.carbs),m.forEach(n),D=l(c),V=h(c,"SPAN",{class:!0});var v=u(V);H=g(v,"Fat:"),J=g(v,e.fat),v.forEach(n),c.forEach(n),B=l(t),R=h(t,"H2",{class:!0});var A=u(R);U=g(A,"Today I Ate:"),Y=h(A,"BUTTON",{class:!0});var I=u(Y);$=g(I,"Clear"),I.forEach(n),A.forEach(n),_=l(t),X&&X.l(t),w=l(t);for(let e=0;e<ee.length;e+=1)ee[e].l(t);z=l(t),q=h(t,"H2",{class:!0});var b=u(q);K=g(b,"Add Food"),b.forEach(n),L=l(t),M=h(t,"DIV",{class:!0});var N=u(M);for(let e=0;e<oe.length;e+=1)oe[e].l(N);N.forEach(n),this.h()},h(){m(s,"class","svelte-1f9c79s"),m(S,"class","svelte-1f9c79s"),m(T,"class","svelte-1f9c79s"),m(V,"class","svelte-1f9c79s"),m(o,"class","total svelte-1f9c79s"),m(Y,"class","clear svelte-1f9c79s"),m(R,"class","today svelte-1f9c79s"),m(q,"class","add svelte-1f9c79s"),m(M,"class","wrapper svelte-1f9c79s"),Q=I(Y,"click",e.handleClear)},m(e,t){W&&W.m(e,t),c(e,a,t),c(e,o,t),v(o,s),v(s,r),v(s,i),v(o,p),v(o,S),v(S,C),v(S,k),v(o,O),v(o,T),v(T,x),v(T,j),v(o,D),v(o,V),v(V,H),v(V,J),c(e,B,t),c(e,R,t),v(R,U),v(R,Y),v(Y,$),c(e,_,t),X&&X.m(e,t),c(e,w,t);for(let a=0;a<ee.length;a+=1)ee[a].m(e,t);c(e,z,t),c(e,q,t),v(q,K),c(e,L,t),c(e,M,t);for(let e=0;e<oe.length;e+=1)oe[e].m(M,null)},p(e,o){if(o.isGoal?W?W.p(e,o):((W=y(o)).c(),W.m(a.parentNode,a)):W&&(W.d(1),W=null),e.calories&&A(i,o.calories),e.protein&&A(k,o.protein),e.carbs&&A(j,o.carbs),e.fat&&A(J,o.fat),0===o.calories?X||((X=P()).c(),X.m(w.parentNode,w)):X&&(X.d(1),X=null),e.foodIAte){let a;for(Z=o.foodIAte,a=0;a<Z.length;a+=1){const t=E(o,Z,a);ee[a]?ee[a].p(e,t):(ee[a]=F(t),ee[a].c(),ee[a].m(z.parentNode,z))}for(;a<ee.length;a+=1)ee[a].d(1);ee.length=Z.length}if(e.handleFoodClick||e.food){let a;for(ae=o.food,a=0;a<ae.length;a+=1){const t=N(o,ae,a);oe[a]?oe[a].p(e,t):(oe[a]=G(t),oe[a].c(),oe[a].m(M,null))}for(;a<oe.length;a+=1)oe[a].d(1);oe.length=ae.length}},d(e){W&&W.d(e),e&&n(a),e&&n(o),e&&n(B),e&&n(R),e&&n(_),X&&X.d(e),e&&n(w),b(ee,e),e&&n(z),e&&n(q),e&&n(L),e&&n(M),b(oe,e),Q()}}}function C(e){let a,o,t,s,l;return{c(){a=f("p"),o=d("You have no food. "),t=f("a"),s=d("Add some food first"),l=d("."),this.h()},l(e){a=h(e,"P",{});var c=u(a);o=g(c,"You have no food. "),t=h(c,"A",{href:!0});var r=u(t);s=g(r,"Add some food first"),r.forEach(n),l=g(c,"."),c.forEach(n),this.h()},h(){m(t,"href","/food/manage-food/add-food")},m(e,r){c(e,a,r),v(a,o),v(a,t),v(t,s),v(a,l)},p:r,d(e){e&&n(a)}}}function y(e){let a,o,s,r,i,I,b,N,E,S,C=e.goal-e.calories+"";return{c(){a=f("div"),o=f("span"),s=d("Calories Goal: "),r=d(e.goal),i=t(),I=f("span"),b=d("Remaining:"),N=f("span"),E=d(C),this.h()},l(t){a=h(t,"DIV",{class:!0});var c=u(a);o=h(c,"SPAN",{class:!0});var f=u(o);s=g(f,"Calories Goal: "),r=g(f,e.goal),f.forEach(n),i=l(c),I=h(c,"SPAN",{class:!0});var d=u(I);b=g(d,"Remaining:"),d.forEach(n),N=h(c,"SPAN",{class:!0});var m=u(N);E=g(m,C),m.forEach(n),c.forEach(n),this.h()},h(){m(o,"class","svelte-1f9c79s"),m(I,"class","svelte-1f9c79s"),m(N,"class",S=p(e.remaining)+" svelte-1f9c79s"),m(a,"class","goal svelte-1f9c79s")},m(e,t){c(e,a,t),v(a,o),v(o,s),v(o,r),v(a,i),v(a,I),v(I,b),v(a,N),v(N,E)},p(e,a){e.goal&&A(r,a.goal),(e.goal||e.calories)&&C!==(C=a.goal-a.calories+"")&&A(E,C),e.remaining&&S!==(S=p(a.remaining)+" svelte-1f9c79s")&&m(N,"class",S)},d(e){e&&n(a)}}}function P(e){let a;return{c(){a=d("Nothing yet... Feed your muscles!")},l(e){a=g(e,"Nothing yet... Feed your muscles!")},m(e,o){c(e,a,o)},d(e){e&&n(a)}}}function F(e){let a,o,s,r,i=e.count+"",m=e.name+"";return{c(){a=f("div"),o=d(i),s=t(),r=d(m)},l(e){a=h(e,"DIV",{});var t=u(a);o=g(t,i),s=l(t),r=g(t,m),t.forEach(n)},m(e,t){c(e,a,t),v(a,o),v(a,s),v(a,r)},p(e,a){e.foodIAte&&i!==(i=a.count+"")&&A(o,i),e.foodIAte&&m!==(m=a.name+"")&&A(r,m)},d(e){e&&n(a)}}}function G(e){let a,o,t,s=e.name+"";function l(...a){return e.click_handler(e,...a)}return{c(){a=f("button"),o=d(s),this.h()},l(e){a=h(e,"BUTTON",{class:!0});var t=u(a);o=g(t,s),t.forEach(n),this.h()},h(){m(a,"class","box svelte-1f9c79s"),t=I(a,"click",l)},m(e,t){c(e,a,t),v(a,o)},p(a,t){e=t,a.food&&s!==(s=e.name+"")&&A(o,s)},d(e){e&&n(a),t()}}}function k(e){let a,o;function i(e,a){return 0===a.food.length?C:S}let f=i(0,e),d=f(e);return{c(){a=t(),d.c(),o=s(),this.h()},l(e){a=l(e),d.l(e),o=s(),this.h()},h(){document.title="Eat"},m(e,t){c(e,a,t),d.m(e,t),c(e,o,t)},p(e,a){f===(f=i(0,a))&&d?d.p(e,a):(d.d(1),(d=f(a))&&(d.c(),d.m(o.parentNode,o)))},i:r,o:r,d(e){e&&n(a),d.d(e),e&&n(o)}}}function O(e,a,o){let t=!1,s=2e3,l=[],c=[],r=0,n=0,f=0;function d(e){let a=l.findIndex(a=>a.name===e.name);-1===a?(e.count=1,o("foodIAte",l=[...l,e])):o("foodIAte",l[a].count=l[a].count+1,l),localStorage.setItem("ate",JSON.stringify(l)),h()}i(async()=>{o("isGoal",t=localStorage.getItem("isGoal")||!1),o("goal",s=localStorage.getItem("goal")||2e3),o("food",c=JSON.parse(localStorage.getItem("food"))||[]),o("foodIAte",l=JSON.parse(localStorage.getItem("ate"))||[]),h()});const h=e=>{o("protein",r=Number(l.reduce(function(e,a){return e+a.protein*a.count},0))),o("carbs",n=Number(l.reduce(function(e,a){return e+a.carbs*a.count},0))),o("fat",f=Number(l.reduce(function(e,a){return e+a.fat*a.count},0)))};let u,g;return e.$$.update=((e={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(e.protein||e.carbs||e.fat)&&o("calories",g=4*r+4*n+9*f),(e.goal||e.calories)&&o("remaining",u=s-g<=0?"remaining":"")}),{isGoal:t,goal:s,foodIAte:l,food:c,protein:r,carbs:n,fat:f,handleFoodClick:d,handleClear:function(e){localStorage.removeItem("ate"),o("protein",r=0),o("carbs",n=0),o("fat",f=0),o("foodIAte",l=[])},remaining:u,calories:g,click_handler:({i:e})=>d(c[e])}}export default class extends e{constructor(e){super(),a(this,e,O,k,o,{})}}
