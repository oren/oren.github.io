import{S as e,i as t,s as a,e as s,t as r,b as o,d as n,f as l,h as c,k as i,l as d,m as f,x as u,a as p,y as h,j as m,q as g,E as v,p as b,N as F,D as x,T as M,c as N,g as y,P as U,Q as I,U as _,o as $,r as S,R as w,V as E,I as D,n as T}from"./index.9cf44aa4.js";import{I as k,t as O}from"./index.e287424e.js";import{v as P}from"./validate.ef36bd26.js";function q(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function J(e){let t,a;return{c(){t=s("p"),a=r(e.successMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=n(t);a=l(r,e.successMessage),r.forEach(c),this.h()},h(){i(t,"class","success svelte-rxo1q8")},m(e,s){d(e,t,s),f(t,a)},p(e,t){e.successMessage&&u(a,t.successMessage)},d(e){e&&c(t)}}}function V(e){let t,a;return{c(){t=s("p"),a=r(e.errorMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=n(t);a=l(r,e.errorMessage),r.forEach(c),this.h()},h(){i(t,"class","error svelte-rxo1q8")},m(e,s){d(e,t,s),f(t,a)},p(e,t){e.errorMessage&&u(a,t.errorMessage)},d(e){e&&c(t)}}}function C(e){let t,a,s,r=e.showUpdateForm&&B(e),o=!e.showUpdateForm&&A(e);return{c(){r&&r.c(),t=p(),o&&o.c(),a=h()},l(e){r&&r.l(e),t=m(e),o&&o.l(e),a=h()},m(e,n){r&&r.m(e,n),d(e,t,n),o&&o.m(e,n),d(e,a,n),s=!0},p(e,s){s.showUpdateForm?r?(r.p(e,s),b(r,1)):((r=B(s)).c(),b(r,1),r.m(t.parentNode,t)):r&&(x(),g(r,1,1,()=>{r=null}),v()),s.showUpdateForm?o&&(x(),g(o,1,1,()=>{o=null}),v()):o?(o.p(e,s),b(o,1)):((o=A(s)).c(),b(o,1),o.m(a.parentNode,a))},i(e){s||(b(r),b(o),s=!0)},o(e){g(r),g(o),s=!1},d(e){r&&r.d(e),e&&c(t),o&&o.d(e),e&&c(a)}}}function j(e){let t,a,i,u;return{c(){t=s("p"),a=r("You have no food."),i=s("p"),u=s("p")},l(e){t=o(e,"P",{});var s=n(t);a=l(s,"You have no food."),s.forEach(c),i=o(e,"P",{}),n(i).forEach(c),u=o(e,"P",{}),n(u).forEach(c)},m(e,s){d(e,t,s),f(t,a),d(e,i,s),d(e,u,s)},p:T,i:T,o:T,d(e){e&&c(t),e&&c(i),e&&c(u)}}}function B(e){let t,a,u,h,v,F,x,M,E,D,T,P,q,J,V,C,j,B,A,z,L=!1,R=!1,Y=!1;function H(){L=!0,e.input1_input_handler.call(F)}function Q(){R=!0,e.input2_input_handler.call(E)}function G(){Y=!0,e.input3_input_handler.call(P)}const K=new k({props:{data:O}});return{c(){t=s("form"),a=s("div"),u=s("input"),h=p(),v=s("div"),F=s("input"),x=p(),M=s("div"),E=s("input"),D=p(),T=s("div"),P=s("input"),q=p(),J=s("div"),V=s("button"),C=r("Update"),j=p(),B=s("button"),N(K.$$.fragment),this.h()},l(e){t=o(e,"FORM",{class:!0});var s=n(t);a=o(s,"DIV",{});var r=n(a);u=o(r,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),r.forEach(c),h=m(s),v=o(s,"DIV",{});var i=n(v);F=o(i,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),i.forEach(c),x=m(s),M=o(s,"DIV",{});var d=n(M);E=o(d,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),d.forEach(c),D=m(s),T=o(s,"DIV",{});var f=n(T);P=o(f,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),f.forEach(c),q=m(s),J=o(s,"DIV",{class:!0});var p=n(J);V=o(p,"BUTTON",{class:!0});var g=n(V);C=l(g,"Update"),g.forEach(c),j=m(p),B=o(p,"BUTTON",{class:!0});var b=n(B);y(K.$$.fragment,b),b.forEach(c),p.forEach(c),s.forEach(c),this.h()},h(){i(u,"class"," svelte-rxo1q8"),i(u,"type","text"),i(u,"placeholder","Name"),i(u,"maxlength","20"),i(u,"size","20"),i(F,"type","number"),i(F,"placeholder","Protein"),i(F,"min","0"),i(F,"max","999"),i(F,"class","svelte-rxo1q8"),i(E,"type","number"),i(E,"placeholder","Carbs"),i(E,"min","0"),i(E,"max","999"),i(E,"class","svelte-rxo1q8"),i(P,"type","number"),i(P,"placeholder","Fat"),i(P,"min","0"),i(P,"max","999"),i(P,"class","svelte-rxo1q8"),i(V,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3"),i(B,"class","text-red-400 py-1 px-1"),i(J,"class","mt-3"),i(t,"class","svelte-rxo1q8"),z=[U(u,"input",e.input0_input_handler),U(F,"input",H),U(F,"keyup",e.validateProtein),U(E,"input",Q),U(E,"keyup",e.validateCarbs),U(P,"input",G),U(P,"keyup",e.validateFat),U(V,"click",I(e.handleUpdate)),U(B,"click",e.handleDelete)]},m(s,r){d(s,t,r),f(t,a),f(a,u),_(u,e.name),f(t,h),f(t,v),f(v,F),_(F,e.protein),f(t,x),f(t,M),f(M,E),_(E,e.carbs),f(t,D),f(t,T),f(T,P),_(P,e.fat),f(t,q),f(t,J),f(J,V),f(V,C),f(J,j),f(J,B),$(K,B,null),A=!0},p(e,t){e.name&&u.value!==t.name&&_(u,t.name),!L&&e.protein&&_(F,t.protein),L=!1,!R&&e.carbs&&_(E,t.carbs),R=!1,!Y&&e.fat&&_(P,t.fat),Y=!1},i(e){A||(b(K.$$.fragment,e),A=!0)},o(e){g(K.$$.fragment,e),A=!1},d(e){e&&c(t),S(K),w(z)}}}function A(e){let t,a,u,h,F,M,I,T,P,J=e.filteredFood,V=[];for(let t=0;t<J.length;t+=1)V[t]=z(q(e,J,t));const C=e=>g(V[e],1,1,()=>{V[e]=null}),j=new k({props:{class:"ml-2 mb-1",data:O}});return{c(){t=s("input"),a=p(),u=s("div");for(let e=0;e<V.length;e+=1)V[e].c();h=p(),F=s("div"),M=s("button"),I=r("Delete All"),N(j.$$.fragment),this.h()},l(e){t=o(e,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),a=m(e),u=o(e,"DIV",{class:!0,style:!0});var s=n(u);for(let e=0;e<V.length;e+=1)V[e].l(s);s.forEach(c),h=m(e),F=o(e,"DIV",{class:!0});var r=n(F);M=o(r,"BUTTON",{class:!0});var i=n(M);I=l(i,"Delete All"),y(j.$$.fragment,i),i.forEach(c),r.forEach(c),this.h()},h(){i(t,"class","filter bg-gray-200 w-24 px-2 svelte-rxo1q8"),i(t,"type","text"),i(t,"placeholder","Search"),i(t,"maxlength","5"),i(t,"size","3"),i(u,"class","wrapper svelte-rxo1q8"),E(u,"margin-top",(e.food.length>=10?0:20)+"px"),i(M,"class","bg-red-400 text-white font-bold py-1 px-3 mt-3"),i(F,"class","flex justify-end pb-10"),P=[U(t,"input",e.input_input_handler),U(t,"input",e.handleFilter),U(M,"click",e.handleDeleteAll)]},m(s,r){d(s,t,r),_(t,e.filter),d(s,a,r),d(s,u,r);for(let e=0;e<V.length;e+=1)V[e].m(u,null);d(s,h,r),d(s,F,r),f(F,M),f(M,I),$(j,M,null),T=!0},p(e,a){if(e.filter&&t.value!==a.filter&&_(t,a.filter),e.handleFoodDelete||e.food||e.trash||e.handleFoodClick||e.filteredFood){let t;for(J=a.filteredFood,t=0;t<J.length;t+=1){const s=q(a,J,t);V[t]?(V[t].p(e,s),b(V[t],1)):(V[t]=z(s),V[t].c(),b(V[t],1),V[t].m(u,null))}for(x(),t=J.length;t<V.length;t+=1)C(t);v()}T&&!e.food||E(u,"margin-top",(a.food.length>=10?0:20)+"px")},i(e){if(!T){for(let e=0;e<J.length;e+=1)b(V[e]);b(j.$$.fragment,e),T=!0}},o(e){V=V.filter(Boolean);for(let e=0;e<V.length;e+=1)g(V[e]);g(j.$$.fragment,e),T=!1},d(e){e&&c(t),e&&c(a),e&&c(u),D(V,e),e&&c(h),e&&c(F),S(j),w(P)}}}function z(e){let t,a,p,h,m,v=e.name+"";function F(...t){return e.click_handler(e,...t)}const x=new k({props:{data:O}});function M(...t){return e.click_handler_1(e,...t)}return{c(){t=s("button"),a=r(v),p=s("button"),N(x.$$.fragment),this.h()},l(e){t=o(e,"BUTTON",{class:!0});var s=n(t);a=l(s,v),s.forEach(c),p=o(e,"BUTTON",{class:!0});var r=n(p);y(x.$$.fragment,r),r.forEach(c),this.h()},h(){i(t,"class","box svelte-rxo1q8"),i(p,"class","text-red-400"),m=[U(t,"click",F),U(p,"click",I(M))]},m(e,s){d(e,t,s),f(t,a),d(e,p,s),$(x,p,null),h=!0},p(t,s){e=s,h&&!t.filteredFood||v===(v=e.name+"")||u(a,v)},i(e){h||(b(x.$$.fragment,e),h=!0)},o(e){g(x.$$.fragment,e),h=!1},d(e){e&&c(t),e&&c(p),S(x),w(m)}}}function L(e){let t,a,u,F,M,N,y,U,I,_,$=""!==e.successMessage&&J(e),S=""!==e.errorMessage&&V(e);const w=[j,C],E=[];function D(e,t){return 0===t.food.length?0:1}return y=D(0,e),U=E[y]=w[y](e),{c(){t=p(),a=s("h2"),u=r("Update Food"),F=p(),$&&$.c(),M=p(),S&&S.c(),N=p(),U.c(),I=h(),this.h()},l(e){t=m(e),a=o(e,"H2",{class:!0});var s=n(a);u=l(s,"Update Food"),s.forEach(c),F=m(e),$&&$.l(e),M=m(e),S&&S.l(e),N=m(e),U.l(e),I=h(),this.h()},h(){document.title="Update Food",i(a,"class","text-xl")},m(e,s){d(e,t,s),d(e,a,s),f(a,u),d(e,F,s),$&&$.m(e,s),d(e,M,s),S&&S.m(e,s),d(e,N,s),E[y].m(e,s),d(e,I,s),_=!0},p(e,t){""!==t.successMessage?$?$.p(e,t):(($=J(t)).c(),$.m(M.parentNode,M)):$&&($.d(1),$=null),""!==t.errorMessage?S?S.p(e,t):((S=V(t)).c(),S.m(N.parentNode,N)):S&&(S.d(1),S=null);let a=y;(y=D(0,t))===a?E[y].p(e,t):(x(),g(E[a],1,1,()=>{E[a]=null}),v(),(U=E[y])||(U=E[y]=w[y](t)).c(),b(U,1),U.m(I.parentNode,I))},i(e){_||(b(U),_=!0)},o(e){g(U),_=!1},d(e){e&&c(t),e&&c(a),e&&c(F),$&&$.d(e),e&&c(M),S&&S.d(e),e&&c(N),E[y].d(e),e&&c(I)}}}function R(e,t,a){let s="",r="",o="",n="",l=[],c="",i="",d="",f=!1,u="",p=[],h=[];function m(e){a("filteredFood",p=e),a("filter",u=""),a("showUpdateForm",f=!0),a("successMessage",d=""),a("errorMessage",i=""),c=e.name,a("name",s=e.name),a("protein",r=e.protein),a("carbs",o=e.carbs),a("fat",n=e.fat)}F(async()=>{a("food",l=JSON.parse(localStorage.getItem("food")).sort((e,t)=>e.name>t.name)||[]),h=JSON.parse(localStorage.getItem("recentFood"))||[],a("filteredFood",p=l)});function g(e){a("filteredFood",p=l),a("filter",u=""),a("successMessage",d=""),a("errorMessage",i="");let t=l.filter(function(t,a,s){return t.name!==e.name});localStorage.setItem("food",JSON.stringify(t)),a("food",l=t),a("filteredFood",p=t),t=h.filter(function(t,a,s){return t.name!==e.name}),localStorage.setItem("recentFood",JSON.stringify(t)),h=t,a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",n=""),a("successMessage",d="Food was deleted"),a("showUpdateForm",f=!1)}return{name:s,protein:r,carbs:o,fat:n,food:l,errorMessage:i,successMessage:d,showUpdateForm:f,filter:u,filteredFood:p,handleUpdate:function(){a("filteredFood",p=l),a("filter",u="");let e={};if(a("successMessage",d=""),a("errorMessage",i=""),!(e=P({name:s,protein:r,carbs:o,fat:n})).valid)return void a("errorMessage",i=e.message);let t=l.findIndex(e=>e.name===c);a("food",l[t].name=s,l),a("food",l[t].protein=r,l),a("food",l[t].carbs=o,l),a("food",l[t].fat=n,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",d="Food was updated"),a("showUpdateForm",f=!1),-1!==(t=h.findIndex(e=>e.name===c))&&(h[t].name=s,h[t].protein=r,h[t].carbs=o,h[t].fat=n,localStorage.setItem("recentFood",JSON.stringify(h)))},handleFoodClick:m,handleDelete:function(){a("filteredFood",p=l),a("filter",u=""),a("successMessage",d=""),a("errorMessage",i="");let e=l.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),e=h.filter(function(e,t,a){return e.name!==s}),localStorage.setItem("recentFood",JSON.stringify(e)),h=e,a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",n=""),a("successMessage",d="Food was deleted"),a("showUpdateForm",f=!1)},handleDeleteAll:()=>{a("successMessage",d="All food was deleted"),localStorage.removeItem("food"),localStorage.removeItem("recentFood"),a("food",l=[]),a("filteredFood",p=[])},handleFoodDelete:g,handleFilter:function(){""===u&&a("filteredFood",p=l),a("filteredFood",p=l.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())))},validateProtein:function(){let e=String(r);a("protein",r=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(o);a("carbs",o=Number(e.substring(0,5)))},validateFat:function(){let e=String(n);a("fat",n=Number(e.substring(0,5)))},input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){r=M(this.value),a("protein",r)},input2_input_handler:function(){o=M(this.value),a("carbs",o)},input3_input_handler:function(){n=M(this.value),a("fat",n)},input_input_handler:function(){u=this.value,a("filter",u)},click_handler:({i:e})=>m(l[e]),click_handler_1:({i:e})=>g(l[e])}}export default class extends e{constructor(e){super(),t(this,e,R,L,a,{})}}
