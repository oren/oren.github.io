import{S as e,i as a,s as t,e as o,t as l,a as s,c as r,b as c,d as n,f as i,g as f,h as d,j as u,k as m,l as h,y as g,n as v,G as p,H as I,I as k}from"./index.805fe9f6.js";function b(e,a,t){const o=Object.create(e);return o.id=a[t].id,o.name=a[t].name,o.i=t,o}function A(e,a,t){const o=Object.create(e);return o.id=a[t].id,o.name=a[t].name,o.count=a[t].count,o.i=t,o}function N(e){let a,t,v,p,I,k,b,A,N,S,E=e.goal-e.calories+"";return{c(){a=o("div"),t=o("span"),v=l("Calories Goal: "),p=l(e.goal),I=s(),k=o("span"),b=l("Remaining:"),A=o("span"),N=l(E),this.h()},l(o){a=r(o,"DIV",{class:!0});var l=c(a);t=r(l,"SPAN",{class:!0});var s=c(t);v=n(s,"Calories Goal: "),p=n(s,e.goal),s.forEach(i),I=f(l),k=r(l,"SPAN",{class:!0});var d=c(k);b=n(d,"Remaining:"),d.forEach(i),A=r(l,"SPAN",{class:!0});var u=c(A);N=n(u,E),u.forEach(i),l.forEach(i),this.h()},h(){d(t,"class","svelte-um8kv0"),d(k,"class","svelte-um8kv0"),d(A,"class",S=u(e.remaining)+" svelte-um8kv0"),d(a,"class","goal svelte-um8kv0")},m(e,o){m(e,a,o),h(a,t),h(t,v),h(t,p),h(a,I),h(a,k),h(k,b),h(a,A),h(A,N)},p(e,a){e.goal&&g(p,a.goal),(e.goal||e.calories)&&E!==(E=a.goal-a.calories+"")&&g(N,E),e.remaining&&S!==(S=u(a.remaining)+" svelte-um8kv0")&&d(A,"class",S)},d(e){e&&i(a)}}}function S(e){return{c:v,l:v,m:v,d:v}}function E(e){let a;return{c(){a=l("Nothing yet... Feed your muscles!")},l(e){a=n(e,"Nothing yet... Feed your muscles!")},m(e,t){m(e,a,t)},d(e){e&&i(a)}}}function C(e){let a,t,d,u,v=e.count+"",p=e.name+"";return{c(){a=o("div"),t=l(v),d=s(),u=l(p)},l(e){a=r(e,"DIV",{});var o=c(a);t=n(o,v),d=f(o),u=n(o,p),o.forEach(i)},m(e,o){m(e,a,o),h(a,t),h(a,d),h(a,u)},p(e,a){e.foodIAte&&v!==(v=a.count+"")&&g(t,v),e.foodIAte&&p!==(p=a.name+"")&&g(u,p)},d(e){e&&i(a)}}}function y(e){let a,t,s,f=e.name+"";function u(...a){return e.click_handler(e,...a)}return{c(){a=o("button"),t=l(f),this.h()},l(e){a=r(e,"BUTTON",{class:!0});var o=c(a);t=n(o,f),o.forEach(i),this.h()},h(){d(a,"class","box svelte-um8kv0"),s=p(a,"click",u)},m(e,o){m(e,a,o),h(a,t)},p(a,o){e=o,a.food&&f!==(f=e.name+"")&&g(t,f)},d(e){e&&i(a),s()}}}function P(e){let a,t,u,k,P,F,G,O,T,x,j,D,V,H,J,B,R,U,$,_,w,q,z,K,L,M,Q,W,X,Y,Z,ee,ae=e.isGoal&&N(e),te=0!==e.calories&&S(),oe=0===e.calories&&E(),le=e.foodIAte,se=[];for(let a=0;a<le.length;a+=1)se[a]=C(A(e,le,a));let re=e.food,ce=[];for(let a=0;a<re.length;a+=1)ce[a]=y(b(e,re,a));return{c(){a=s(),ae&&ae.c(),t=s(),u=o("div"),k=o("span"),P=l("Calories: "),F=l(e.calories),G=s(),O=o("span"),T=l("Protein:"),x=l(e.protein),j=s(),D=o("span"),V=l("Carbs:"),H=l(e.carbs),J=s(),B=o("span"),R=l("Fat:"),U=l(e.fat),$=s(),_=o("h2"),w=l("Today I Ate:"),q=o("button"),z=l("Clear"),K=s(),te&&te.c(),L=s(),oe&&oe.c(),M=s();for(let e=0;e<se.length;e+=1)se[e].c();Q=s(),W=o("h2"),X=l("Add Food"),Y=s(),Z=o("div");for(let e=0;e<ce.length;e+=1)ce[e].c();this.h()},l(o){a=f(o),ae&&ae.l(o),t=f(o),u=r(o,"DIV",{class:!0});var l=c(u);k=r(l,"SPAN",{class:!0});var s=c(k);P=n(s,"Calories: "),F=n(s,e.calories),s.forEach(i),G=f(l),O=r(l,"SPAN",{class:!0});var d=c(O);T=n(d,"Protein:"),x=n(d,e.protein),d.forEach(i),j=f(l),D=r(l,"SPAN",{class:!0});var m=c(D);V=n(m,"Carbs:"),H=n(m,e.carbs),m.forEach(i),J=f(l),B=r(l,"SPAN",{class:!0});var h=c(B);R=n(h,"Fat:"),U=n(h,e.fat),h.forEach(i),l.forEach(i),$=f(o),_=r(o,"H2",{class:!0});var g=c(_);w=n(g,"Today I Ate:"),q=r(g,"BUTTON",{class:!0});var v=c(q);z=n(v,"Clear"),v.forEach(i),g.forEach(i),K=f(o),te&&te.l(o),L=f(o),oe&&oe.l(o),M=f(o);for(let e=0;e<se.length;e+=1)se[e].l(o);Q=f(o),W=r(o,"H2",{class:!0});var p=c(W);X=n(p,"Add Food"),p.forEach(i),Y=f(o),Z=r(o,"DIV",{class:!0});var I=c(Z);for(let e=0;e<ce.length;e+=1)ce[e].l(I);I.forEach(i),this.h()},h(){document.title="Eat",d(k,"class","svelte-um8kv0"),d(O,"class","svelte-um8kv0"),d(D,"class","svelte-um8kv0"),d(B,"class","svelte-um8kv0"),d(u,"class","total svelte-um8kv0"),d(q,"class","clear svelte-um8kv0"),d(_,"class","today svelte-um8kv0"),d(W,"class","add svelte-um8kv0"),d(Z,"class","wrapper svelte-um8kv0"),ee=p(q,"click",e.handleClear)},m(e,o){m(e,a,o),ae&&ae.m(e,o),m(e,t,o),m(e,u,o),h(u,k),h(k,P),h(k,F),h(u,G),h(u,O),h(O,T),h(O,x),h(u,j),h(u,D),h(D,V),h(D,H),h(u,J),h(u,B),h(B,R),h(B,U),m(e,$,o),m(e,_,o),h(_,w),h(_,q),h(q,z),m(e,K,o),te&&te.m(e,o),m(e,L,o),oe&&oe.m(e,o),m(e,M,o);for(let a=0;a<se.length;a+=1)se[a].m(e,o);m(e,Q,o),m(e,W,o),h(W,X),m(e,Y,o),m(e,Z,o);for(let e=0;e<ce.length;e+=1)ce[e].m(Z,null)},p(e,a){if(a.isGoal?ae?ae.p(e,a):((ae=N(a)).c(),ae.m(t.parentNode,t)):ae&&(ae.d(1),ae=null),e.calories&&g(F,a.calories),e.protein&&g(x,a.protein),e.carbs&&g(H,a.carbs),e.fat&&g(U,a.fat),0!==a.calories?te||((te=S()).c(),te.m(L.parentNode,L)):te&&(te.d(1),te=null),0===a.calories?oe||((oe=E()).c(),oe.m(M.parentNode,M)):oe&&(oe.d(1),oe=null),e.foodIAte){let t;for(le=a.foodIAte,t=0;t<le.length;t+=1){const o=A(a,le,t);se[t]?se[t].p(e,o):(se[t]=C(o),se[t].c(),se[t].m(Q.parentNode,Q))}for(;t<se.length;t+=1)se[t].d(1);se.length=le.length}if(e.handleFoodClick||e.food){let t;for(re=a.food,t=0;t<re.length;t+=1){const o=b(a,re,t);ce[t]?ce[t].p(e,o):(ce[t]=y(o),ce[t].c(),ce[t].m(Z,null))}for(;t<ce.length;t+=1)ce[t].d(1);ce.length=re.length}},i:v,o:v,d(e){e&&i(a),ae&&ae.d(e),e&&i(t),e&&i(u),e&&i($),e&&i(_),e&&i(K),te&&te.d(e),e&&i(L),oe&&oe.d(e),e&&i(M),I(se,e),e&&i(Q),e&&i(W),e&&i(Y),e&&i(Z),I(ce,e),ee()}}}function F(e,a,t){let o=!1,l=2e3,s=[],r=[],c=0,n=0,i=0;function f(e){let a=s.findIndex(a=>a.name===e.name);-1===a?(e.count=1,t("foodIAte",s=[...s,e])):t("foodIAte",s[a].count=s[a].count+1,s),localStorage.setItem("ate",JSON.stringify(s)),d()}k(async()=>{t("isGoal",o=localStorage.getItem("isGoal")||!1),t("goal",l=localStorage.getItem("goal")||2e3),t("food",r=JSON.parse(localStorage.getItem("food"))||[]),t("foodIAte",s=JSON.parse(localStorage.getItem("ate"))||[]),d()});const d=e=>{t("protein",c=Number(s.reduce(function(e,a){return e+a.protein*a.count},0))),t("carbs",n=Number(s.reduce(function(e,a){return e+a.carbs*a.count},0))),t("fat",i=Number(s.reduce(function(e,a){return e+a.fat*a.count},0)))};let u,m;return e.$$.update=((e={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(e.protein||e.carbs||e.fat)&&t("calories",m=4*c+4*n+9*i),(e.goal||e.calories)&&t("remaining",u=l-m<=0?"remaining":"")}),{isGoal:o,goal:l,foodIAte:s,food:r,protein:c,carbs:n,fat:i,handleFoodClick:f,handleClear:function(e){localStorage.removeItem("ate"),t("protein",c=0),t("carbs",n=0),t("fat",i=0),t("foodIAte",s=[])},remaining:u,calories:m,click_handler:({i:e})=>f(r[e])}}export default class extends e{constructor(e){super(),a(this,e,F,P,t,{})}}
