import{S as a,i as e,s as t,e as r,t as o,a as s,b as l,d as n,f as i,h as c,j as f,k as d,O as h,l as p,m as u,x as m,P as g,T as b,U as v,n as S,I as F,N as x}from"./index.52cd5646.js";function E(a,e,t){const r=Object.create(a);return r.id=e[t].id,r.name=e[t].name,r.i=t,r}function I(a){let e,t,g,b,v,S,F,x,E,I,N,k=Math.round(a.goal-a.calories)+"";return{c(){e=r("div"),t=r("span"),g=o("Goal:"),b=o(a.goal),v=s(),S=r("span"),F=o("Left:"),E=r("span"),I=o(k),this.h()},l(r){e=l(r,"DIV",{});var o=n(e);t=l(o,"SPAN",{class:!0});var s=n(t);g=i(s,"Goal:"),b=i(s,a.goal),s.forEach(c),v=f(o),S=l(o,"SPAN",{class:!0});var d=n(S);F=i(d,"Left:"),d.forEach(c),E=l(o,"SPAN",{class:!0});var h=n(E);I=i(h,k),h.forEach(c),o.forEach(c),this.h()},h(){d(t,"class","svelte-f4i7i6"),d(S,"class",x=h(a.remaining)+" svelte-f4i7i6"),d(E,"class",N=h(a.remaining)+" svelte-f4i7i6")},m(a,r){p(a,e,r),u(e,t),u(t,g),u(t,b),u(e,v),u(e,S),u(S,F),u(e,E),u(E,I)},p(a,e){a.goal&&m(b,e.goal),a.remaining&&x!==(x=h(e.remaining)+" svelte-f4i7i6")&&d(S,"class",x),(a.goal||a.calories)&&k!==(k=Math.round(e.goal-e.calories)+"")&&m(I,k),a.remaining&&N!==(N=h(e.remaining)+" svelte-f4i7i6")&&d(E,"class",N)},d(a){a&&c(e)}}}function N(a){let e,t;return{c(){e=r("input"),this.h()},l(a){e=l(a,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),this.h()},h(){d(e,"class","bg-gray-200 px-2 py-1 mb-2 mt-1"),d(e,"type","text"),d(e,"placeholder","Search"),d(e,"maxlength","5"),d(e,"size","3"),t=[g(e,"input",a.input_input_handler),g(e,"input",a.handleFilter)]},m(t,r){p(t,e,r),b(e,a.filter)},p(a,t){a.filter&&e.value!==t.filter&&b(e,t.filter)},d(a){a&&c(e),v(t)}}}function k(a){let e,t,s,f=a.name+"";function h(...e){return a.click_handler(a,...e)}return{c(){e=r("button"),t=o(f),this.h()},l(a){e=l(a,"BUTTON",{class:!0});var r=n(e);t=i(r,f),r.forEach(c),this.h()},h(){d(e,"class","bg-blue-100 p-1"),s=g(e,"click",h)},m(a,r){p(a,e,r),u(e,t)},p(e,r){a=r,e.filteredFood&&f!==(f=a.name+"")&&m(t,f)},d(a){a&&c(e),s()}}}function y(a){let e,t,h,g,b,v,x,y,A,P,C,M,T,G,L,O,w,_,j,J,U,z,D,V,$,B,q,H,K,Q,R=Math.round(a.calories)+"",W=Math.round(a.protein)+"",X=Math.round(a.carbs)+"",Y=Math.round(a.fat)+"",Z=a.isGoal&&I(a),aa=a.food.length>=10&&N(a),ea=a.filteredFood,ta=[];for(let e=0;e<ea.length;e+=1)ta[e]=k(E(a,ea,e));return{c(){e=s(),Z&&Z.c(),t=s(),h=r("div"),g=r("span"),b=o("Cal:"),v=o(R),x=s(),y=r("span"),A=o("P:"),P=o(W),C=s(),M=r("span"),T=o("C:"),G=o(X),L=s(),O=r("span"),w=o("F:"),_=o(Y),j=s(),aa&&aa.c(),J=s(),U=r("div");for(let a=0;a<ta.length;a+=1)ta[a].c();z=s(),D=r("ul"),V=r("li"),$=r("a"),B=o("Ate Today"),q=s(),H=r("li"),K=r("a"),Q=o("Choose Food"),this.h()},l(a){e=f(a),Z&&Z.l(a),t=f(a),h=l(a,"DIV",{});var r=n(h);g=l(r,"SPAN",{class:!0});var o=n(g);b=i(o,"Cal:"),v=i(o,R),o.forEach(c),x=f(r),y=l(r,"SPAN",{class:!0});var s=n(y);A=i(s,"P:"),P=i(s,W),s.forEach(c),C=f(r),M=l(r,"SPAN",{class:!0});var d=n(M);T=i(d,"C:"),G=i(d,X),d.forEach(c),L=f(r),O=l(r,"SPAN",{class:!0});var p=n(O);w=i(p,"F:"),_=i(p,Y),p.forEach(c),r.forEach(c),j=f(a),aa&&aa.l(a),J=f(a),U=l(a,"DIV",{class:!0});var u=n(U);for(let a=0;a<ta.length;a+=1)ta[a].l(u);u.forEach(c),z=f(a),D=l(a,"UL",{class:!0});var m=n(D);V=l(m,"LI",{class:!0});var S=n(V);$=l(S,"A",{class:!0,href:!0});var F=n($);B=i(F,"Ate Today"),F.forEach(c),S.forEach(c),q=f(m),H=l(m,"LI",{class:!0});var E=n(H);K=l(E,"A",{class:!0,href:!0});var I=n(K);Q=i(I,"Choose Food"),I.forEach(c),E.forEach(c),m.forEach(c),this.h()},h(){document.title="Eat",d(g,"class","svelte-f4i7i6"),d(y,"class","svelte-f4i7i6"),d(M,"class","svelte-f4i7i6"),d(O,"class","svelte-f4i7i6"),d(U,"class","wrapper svelte-f4i7i6"),d($,"class","text-center block py-2 px-4"),d($,"href","/food"),d(V,"class","flex-1"),d(K,"class","text-center block py-2 px-4 text-blue-500"),d(K,"href",""),d(H,"class","flex-1 mr-6"),d(D,"class","flex fixed pills bottom-0 mb-10 w-full z-50 border-t border-gray-200")},m(a,r){p(a,e,r),Z&&Z.m(a,r),p(a,t,r),p(a,h,r),u(h,g),u(g,b),u(g,v),u(h,x),u(h,y),u(y,A),u(y,P),u(h,C),u(h,M),u(M,T),u(M,G),u(h,L),u(h,O),u(O,w),u(O,_),p(a,j,r),aa&&aa.m(a,r),p(a,J,r),p(a,U,r);for(let a=0;a<ta.length;a+=1)ta[a].m(U,null);p(a,z,r),p(a,D,r),u(D,V),u(V,$),u($,B),u(D,q),u(D,H),u(H,K),u(K,Q)},p(a,e){if(e.isGoal?Z?Z.p(a,e):((Z=I(e)).c(),Z.m(t.parentNode,t)):Z&&(Z.d(1),Z=null),a.calories&&R!==(R=Math.round(e.calories)+"")&&m(v,R),a.protein&&W!==(W=Math.round(e.protein)+"")&&m(P,W),a.carbs&&X!==(X=Math.round(e.carbs)+"")&&m(G,X),a.fat&&Y!==(Y=Math.round(e.fat)+"")&&m(_,Y),e.food.length>=10?aa?aa.p(a,e):((aa=N(e)).c(),aa.m(J.parentNode,J)):aa&&(aa.d(1),aa=null),a.handleFoodClick||a.filteredFood){let t;for(ea=e.filteredFood,t=0;t<ea.length;t+=1){const r=E(e,ea,t);ta[t]?ta[t].p(a,r):(ta[t]=k(r),ta[t].c(),ta[t].m(U,null))}for(;t<ta.length;t+=1)ta[t].d(1);ta.length=ea.length}},i:S,o:S,d(a){a&&c(e),Z&&Z.d(a),a&&c(t),a&&c(h),a&&c(j),aa&&aa.d(a),a&&c(J),a&&c(U),F(ta,a),a&&c(z),a&&c(D)}}}function A(a,e,t){let r=!1,o="50% 50%",s=!1,l=2e3,n=[],i=[],c=0,f=0,d=0,h="",p=[];function u(a){let e=n.findIndex(e=>e.name===a.name);-1===e?(a.count=1,n=[...n,a]):n[e].count=n[e].count+1,localStorage.setItem("ate",JSON.stringify(n)),m()}x(async()=>{r="true"===(r=localStorage.getItem("firstTime")||"true"),t("isGoal",s=localStorage.getItem("isGoal")||!1),t("goal",l=localStorage.getItem("goal")||2e3),o=localStorage.getItem("columns")||"50% 50%",t("food",i=JSON.parse(localStorage.getItem("food"))||[]),t("filteredFood",p=i),t("filteredFood",p=p.slice(0,15)),n=JSON.parse(localStorage.getItem("ate"))||[],r&&0===i.length&&(t("food",i=[{name:"cup milk 2%",protein:5,carbs:6,fat:7},{name:"cup oatmeal",protein:6,carbs:7.3,fat:7.2},{name:"egg",protein:6,carbs:0,fat:7.2},{name:"100g chicken breast",protein:20,carbs:3.2,fat:5.1},{name:"100g brown rice",protein:4,carbs:6.8,fat:4.7},{name:"100g japanese yams",protein:4,carbs:6.8,fat:4.7},{name:"avocado",protein:4,carbs:6.8,fat:4.7},{name:"olive oil",protein:2,carbs:3.8,fat:8},{name:"apple",protein:1,carbs:5.8,fat:3},{name:"cottage cheese",protein:1,carbs:5.8,fat:3},{name:"100g greek yugurt",protein:1,carbs:5.8,fat:3},{name:"1 tbsp peanut butter",protein:1,carbs:5.8,fat:3},{name:"100g salmon",protein:1,carbs:5.8,fat:3},{name:"100g steak",protein:1,carbs:5.8,fat:3},{name:"egg white",protein:1,carbs:5.8,fat:3},{name:"sardins",protein:1,carbs:5.8,fat:3},{name:"tuna can",protein:1,carbs:5.8,fat:3},{name:"tuna fresh",protein:1,carbs:5.8,fat:3},{name:"150g drum sticks",protein:1,carbs:5.8,fat:3},{name:"100g chicken thighs",protein:1,carbs:5.8,fat:3}]),localStorage.setItem("firstTime","false"),localStorage.setItem("food",JSON.stringify(i)),t("filteredFood",p=i),t("filteredFood",p=p.slice(0,15))),m()});const m=a=>{t("protein",c=n.reduce(function(a,e){return a+e.protein*e.count},0)),t("carbs",f=n.reduce(function(a,e){return a+e.carbs*e.count},0)),t("fat",d=n.reduce(function(a,e){return a+e.fat*e.count},0))};let g,b;return a.$$.update=((a={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(a.protein||a.carbs||a.fat)&&t("calories",b=parseFloat(Number(4*c+4*f+9*d).toFixed(1))),(a.goal||a.calories)&&t("remaining",g=l-b<=0?"remaining":"")}),{isGoal:s,goal:l,food:i,protein:c,carbs:f,fat:d,filter:h,filteredFood:p,handleFilter:function(){""===h&&t("filteredFood",p=i),t("filteredFood",p=i.filter(a=>a.name.toLowerCase().includes(h.toLowerCase())))},handleFoodClick:u,remaining:g,calories:b,input_input_handler:function(){h=this.value,t("filter",h)},click_handler:({i:a})=>u(p[a])}}export default class extends a{constructor(a){super(),e(this,a,A,y,t,{})}}
