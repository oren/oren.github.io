import{S as e,i as t,s as a,e as s,t as n,c as o,b as r,d as l,f as d,h as c,k as u,l as i,y as p,G as m,n as h,a as f,g,z as b,J as M,H as v,K as N,I as y,L as _}from"./index.0ee9dc5e.js";function F(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function I(e){let t,a;return{c(){t=s("h1"),a=n("Update Food")},l(e){t=o(e,"H1",{});var s=r(t);a=l(s,"Update Food"),s.forEach(d)},m(e,s){u(e,t,s),i(t,a)},d(e){e&&d(t)}}}function x(e){let t,a;return{c(){t=s("h1"),a=n("Add Food")},l(e){t=o(e,"H1",{});var s=r(t);a=l(s,"Add Food"),s.forEach(d)},m(e,s){u(e,t,s),i(t,a)},d(e){e&&d(t)}}}function P(e){let t,a;return{c(){t=s("p"),a=n(e.successMessage),this.h()},l(s){t=o(s,"P",{class:!0});var n=r(t);a=l(n,e.successMessage),n.forEach(d),this.h()},h(){c(t,"class","success svelte-uwv1ey")},m(e,s){u(e,t,s),i(t,a)},p(e,t){e.successMessage&&p(a,t.successMessage)},d(e){e&&d(t)}}}function U(e){let t,a;return{c(){t=s("p"),a=n(e.errorMessage),this.h()},l(s){t=o(s,"P",{class:!0});var n=r(t);a=l(n,e.errorMessage),n.forEach(d),this.h()},h(){c(t,"class","error svelte-uwv1ey")},m(e,s){u(e,t,s),i(t,a)},p(e,t){e.errorMessage&&p(a,t.errorMessage)},d(e){e&&d(t)}}}function S(e){let t,a,r;return{c(){t=s("input"),a=n(" />"),this.h()},l(e){t=o(e,"INPUT",{type:!0,value:!0}),a=l(e," />"),this.h()},h(){c(t,"type","button"),t.value="delete",r=m(t,"click",e.handleDelete)},m(e,s){u(e,t,s),u(e,a,s)},p:h,d(e){e&&d(t),e&&d(a),r()}}}function k(e){let t,a,p,m,h;return{c(){t=s("h1"),a=n("Food"),p=f(),m=s("p"),h=n("Click food to update"),this.h()},l(e){t=o(e,"H1",{class:!0});var s=r(t);a=l(s,"Food"),s.forEach(d),p=g(e),m=o(e,"P",{});var n=r(m);h=l(n,"Click food to update"),n.forEach(d),this.h()},h(){c(t,"class","food svelte-uwv1ey")},m(e,s){u(e,t,s),i(t,a),u(e,p,s),u(e,m,s),i(m,h)},d(e){e&&d(t),e&&d(p),e&&d(m)}}}function E(e){let t,a,c,h=e.name+"";function f(...t){return e.click_handler(e,...t)}return{c(){t=s("button"),a=n(h),this.h()},l(e){t=o(e,"BUTTON",{});var s=r(t);a=l(s,h),s.forEach(d),this.h()},h(){c=m(t,"click",f)},m(e,s){u(e,t,s),i(t,a)},p(t,s){e=s,t.food&&h!==(h=e.name+"")&&p(a,h)},d(e){e&&d(t),c()}}}function O(e){let t,a,n,l,p,y,_,O,T,C,w,J,A,V,H,z,D,j,q,$=!1,B=!1,G=!1;function K(e,t){return"add"===t.mode?x:I}let L=K(0,e),R=L(e),Q=""!==e.successMessage&&P(e),W=""!==e.errorMessage&&U(e);function X(){$=!0,e.input1_input_handler.call(O)}function Y(){B=!0,e.input2_input_handler.call(C)}function Z(){G=!0,e.input3_input_handler.call(J)}let ee="update"===e.mode&&S(e),te=0!==e.food.length&&k(),ae=e.food,se=[];for(let t=0;t<ae.length;t+=1)se[t]=E(F(e,ae,t));return{c(){t=f(),R.c(),a=f(),Q&&Q.c(),n=f(),W&&W.c(),l=f(),p=s("form"),y=s("input"),_=f(),O=s("input"),T=f(),C=s("input"),w=f(),J=s("input"),A=f(),V=s("input"),H=f(),ee&&ee.c(),z=f(),te&&te.c(),D=f();for(let e=0;e<se.length;e+=1)se[e].c();j=b(),this.h()},l(e){t=g(e),R.l(e),a=g(e),Q&&Q.l(e),n=g(e),W&&W.l(e),l=g(e),p=o(e,"FORM",{});var s=r(p);y=o(s,"INPUT",{type:!0,placeholder:!0,required:!0,minlength:!0,maxlength:!0,size:!0}),_=g(s),O=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0}),T=g(s),C=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0}),w=g(s),J=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0}),A=g(s),V=o(s,"INPUT",{type:!0,value:!0}),H=g(s),ee&&ee.l(s),s.forEach(d),z=g(e),te&&te.l(e),D=g(e);for(let t=0;t<se.length;t+=1)se[t].l(e);j=b(),this.h()},h(){document.title="Food",c(y,"type","text"),c(y,"placeholder","Name"),y.required=!0,c(y,"minlength","1"),c(y,"maxlength","20"),c(y,"size","20"),c(O,"type","number"),c(O,"placeholder","Protein"),c(O,"min","0"),c(O,"max","100"),c(C,"type","number"),c(C,"placeholder","Carbs"),c(C,"min","0"),c(C,"max","100"),c(J,"type","number"),c(J,"placeholder","Fat"),c(J,"min","0"),c(J,"max","100"),c(V,"type","button"),V.value=e.buttonValue,q=[m(y,"input",e.input0_input_handler),m(O,"input",X),m(C,"input",Y),m(J,"input",Z),m(V,"click",e.handleAddUpdate)]},m(s,o){u(s,t,o),R.m(s,o),u(s,a,o),Q&&Q.m(s,o),u(s,n,o),W&&W.m(s,o),u(s,l,o),u(s,p,o),i(p,y),M(y,e.name),i(p,_),i(p,O),M(O,e.protein),i(p,T),i(p,C),M(C,e.carbs),i(p,w),i(p,J),M(J,e.fat),i(p,A),i(p,V),i(p,H),ee&&ee.m(p,null),u(s,z,o),te&&te.m(s,o),u(s,D,o);for(let e=0;e<se.length;e+=1)se[e].m(s,o);u(s,j,o)},p(e,t){if(L!==(L=K(0,t))&&(R.d(1),(R=L(t))&&(R.c(),R.m(a.parentNode,a))),""!==t.successMessage?Q?Q.p(e,t):((Q=P(t)).c(),Q.m(n.parentNode,n)):Q&&(Q.d(1),Q=null),""!==t.errorMessage?W?W.p(e,t):((W=U(t)).c(),W.m(l.parentNode,l)):W&&(W.d(1),W=null),e.name&&y.value!==t.name&&M(y,t.name),!$&&e.protein&&M(O,t.protein),$=!1,!B&&e.carbs&&M(C,t.carbs),B=!1,!G&&e.fat&&M(J,t.fat),G=!1,e.buttonValue&&(V.value=t.buttonValue),"update"===t.mode?ee?ee.p(e,t):((ee=S(t)).c(),ee.m(p,null)):ee&&(ee.d(1),ee=null),0!==t.food.length?te||((te=k()).c(),te.m(D.parentNode,D)):te&&(te.d(1),te=null),e.handleFoodClick||e.food){let a;for(ae=t.food,a=0;a<ae.length;a+=1){const s=F(t,ae,a);se[a]?se[a].p(e,s):(se[a]=E(s),se[a].c(),se[a].m(j.parentNode,j))}for(;a<se.length;a+=1)se[a].d(1);se.length=ae.length}},i:h,o:h,d(e){e&&d(t),R.d(e),e&&d(a),Q&&Q.d(e),e&&d(n),W&&W.d(e),e&&d(l),e&&d(p),ee&&ee.d(),e&&d(z),te&&te.d(e),e&&d(D),v(se,e),e&&d(j),N(q)}}}function T(e,t,a){let s="",n="",o="",r="",l=[],d="add",c="",u="",i="";function p(e){a("successMessage",i=""),a("errorMessage",u=""),c=e.name,a("name",s=e.name),a("protein",n=e.protein),a("carbs",o=e.carbs),a("fat",r=e.fat),a("mode",d="update")}y(async()=>{a("food",l=JSON.parse(localStorage.getItem("food"))||[])});let m;return e.$$.update=((e={mode:1})=>{e.mode&&a("buttonValue",m="add"===d?"Add":"Update")}),{name:s,protein:n,carbs:o,fat:r,food:l,mode:d,errorMessage:u,successMessage:i,handleAddUpdate:function(){if(a("successMessage",i=""),a("errorMessage",u=""),a("errorMessage",u=""),!(""===s?(a("errorMessage",u="Name is missing"),0):""===n?(a("errorMessage",u="Protein is missing"),0):Number.isInteger(Number(n))?""===o?(a("errorMessage",u="Carbs is missing"),0):Number.isInteger(Number(o))?""===r?(a("errorMessage",u="Fat is missing"),0):Number.isInteger(Number(r))||(a("errorMessage",u="Fat should be a number"),0):(a("errorMessage",u="Carbs should be a number"),0):(a("errorMessage",u="Protein should be a number"),0)))return;if("add"===d){const e=JSON.parse(localStorage.getItem("food"))||[];return e.push({name:s,protein:n,carbs:o,fat:r}),localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("name",s=""),a("protein",n=""),a("carbs",o=""),a("fat",r=""),a("successMessage",i="Food was added"),void event.preventDefault()}let e=l.findIndex(e=>e.name===c);console.log(e),console.log(c),a("food",l[e].name=s,l),a("food",l[e].protein=n,l),a("food",l[e].carbs=o,l),a("food",l[e].fat=r,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",i="Food was updated")},handleFoodClick:p,handleDelete:function(){a("successMessage",i=""),a("errorMessage",u="");let e=l.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("mode",d="add"),a("name",s=""),a("protein",n=""),a("carbs",o=""),a("fat",r=""),a("successMessage",i="Food was deleted")},buttonValue:m,input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){n=_(this.value),a("protein",n)},input2_input_handler:function(){o=_(this.value),a("carbs",o)},input3_input_handler:function(){r=_(this.value),a("fat",r)},click_handler:({i:e})=>p(l[e])}}export default class extends e{constructor(e){super(),t(this,e,T,O,a,{})}}
