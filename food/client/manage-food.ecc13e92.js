import{S as e,i as t,s as a,e as s,t as r,c as o,b as n,d as l,f as d,h as u,k as c,l as i,y as p,G as h,n as f,a as m,g,z as b,J as M,H as v,K as N,I as y}from"./index.dabfb2a8.js";function _(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function F(e){let t,a;return{c(){t=s("h1"),a=r("Update Food")},l(e){t=o(e,"H1",{});var s=n(t);a=l(s,"Update Food"),s.forEach(d)},m(e,s){c(e,t,s),i(t,a)},d(e){e&&d(t)}}}function I(e){let t,a;return{c(){t=s("h1"),a=r("Add Food")},l(e){t=o(e,"H1",{});var s=n(t);a=l(s,"Add Food"),s.forEach(d)},m(e,s){c(e,t,s),i(t,a)},d(e){e&&d(t)}}}function P(e){let t,a;return{c(){t=s("p"),a=r(e.successMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=n(t);a=l(r,e.successMessage),r.forEach(d),this.h()},h(){u(t,"class","success svelte-uwv1ey")},m(e,s){c(e,t,s),i(t,a)},p(e,t){e.successMessage&&p(a,t.successMessage)},d(e){e&&d(t)}}}function U(e){let t,a;return{c(){t=s("p"),a=r(e.errorMessage),this.h()},l(s){t=o(s,"P",{class:!0});var r=n(t);a=l(r,e.errorMessage),r.forEach(d),this.h()},h(){u(t,"class","error svelte-uwv1ey")},m(e,s){c(e,t,s),i(t,a)},p(e,t){e.errorMessage&&p(a,t.errorMessage)},d(e){e&&d(t)}}}function S(e){let t,a;return{c(){t=s("input"),this.h()},l(e){t=o(e,"INPUT",{type:!0,value:!0}),this.h()},h(){u(t,"type","button"),t.value="delete",a=h(t,"click",e.handleDelete)},m(e,a){c(e,t,a)},p:f,d(e){e&&d(t),a()}}}function k(e){let t,a,p,h,f;return{c(){t=s("h1"),a=r("Food"),p=m(),h=s("p"),f=r("Click food to update"),this.h()},l(e){t=o(e,"H1",{class:!0});var s=n(t);a=l(s,"Food"),s.forEach(d),p=g(e),h=o(e,"P",{});var r=n(h);f=l(r,"Click food to update"),r.forEach(d),this.h()},h(){u(t,"class","food svelte-uwv1ey")},m(e,s){c(e,t,s),i(t,a),c(e,p,s),c(e,h,s),i(h,f)},d(e){e&&d(t),e&&d(p),e&&d(h)}}}function x(e){let t,a,u,f=e.name+"";function m(...t){return e.click_handler(e,...t)}return{c(){t=s("button"),a=r(f),this.h()},l(e){t=o(e,"BUTTON",{});var s=n(t);a=l(s,f),s.forEach(d),this.h()},h(){u=h(t,"click",m)},m(e,s){c(e,t,s),i(t,a)},p(t,s){e=s,t.food&&f!==(f=e.name+"")&&p(a,f)},d(e){e&&d(t),u()}}}function E(e){let t,a,r,l,p,y,E,O,T,C,w,B,J,R,A,V,H,D,j,$,z,G,K,q,L,Q,W,X,Y;function Z(e,t){return"add"===t.mode?I:F}let ee=Z(0,e),te=ee(e),ae=""!==e.successMessage&&P(e),se=""!==e.errorMessage&&U(e),re="update"===e.mode&&S(e),oe=0!==e.food.length&&k(),ne=e.food,le=[];for(let t=0;t<ne.length;t+=1)le[t]=x(_(e,ne,t));return{c(){t=m(),te.c(),a=m(),ae&&ae.c(),r=m(),se&&se.c(),l=m(),p=s("form"),y=s("input"),E=m(),O=s("br"),T=m(),C=s("input"),w=m(),B=s("br"),J=m(),R=s("input"),A=m(),V=s("br"),H=m(),D=s("input"),j=m(),$=s("br"),z=m(),G=s("br"),K=m(),q=s("input"),L=m(),re&&re.c(),Q=m(),oe&&oe.c(),W=m();for(let e=0;e<le.length;e+=1)le[e].c();X=b(),this.h()},l(e){t=g(e),te.l(e),a=g(e),ae&&ae.l(e),r=g(e),se&&se.l(e),l=g(e),p=o(e,"FORM",{});var s=n(p);y=o(s,"INPUT",{type:!0,placeholder:!0}),E=g(s),O=o(s,"BR",{}),T=g(s),C=o(s,"INPUT",{type:!0,placeholder:!0}),w=g(s),B=o(s,"BR",{}),J=g(s),R=o(s,"INPUT",{type:!0,placeholder:!0}),A=g(s),V=o(s,"BR",{}),H=g(s),D=o(s,"INPUT",{type:!0,placeholder:!0}),j=g(s),$=o(s,"BR",{}),z=g(s),G=o(s,"BR",{}),K=g(s),q=o(s,"INPUT",{type:!0,value:!0}),L=g(s),re&&re.l(s),s.forEach(d),Q=g(e),oe&&oe.l(e),W=g(e);for(let t=0;t<le.length;t+=1)le[t].l(e);X=b(),this.h()},h(){document.title="Food",u(y,"type","text"),u(y,"placeholder","Name"),u(C,"type","text"),u(C,"placeholder","Protein"),u(R,"type","text"),u(R,"placeholder","Carbs"),u(D,"type","text"),u(D,"placeholder","Fat"),u(q,"type","button"),q.value=e.buttonValue,Y=[h(y,"input",e.input0_input_handler),h(C,"input",e.input1_input_handler),h(R,"input",e.input2_input_handler),h(D,"input",e.input3_input_handler),h(q,"click",e.handleAddUpdate)]},m(s,o){c(s,t,o),te.m(s,o),c(s,a,o),ae&&ae.m(s,o),c(s,r,o),se&&se.m(s,o),c(s,l,o),c(s,p,o),i(p,y),M(y,e.name),i(p,E),i(p,O),i(p,T),i(p,C),M(C,e.protein),i(p,w),i(p,B),i(p,J),i(p,R),M(R,e.carbs),i(p,A),i(p,V),i(p,H),i(p,D),M(D,e.fat),i(p,j),i(p,$),i(p,z),i(p,G),i(p,K),i(p,q),i(p,L),re&&re.m(p,null),c(s,Q,o),oe&&oe.m(s,o),c(s,W,o);for(let e=0;e<le.length;e+=1)le[e].m(s,o);c(s,X,o)},p(e,t){if(ee!==(ee=Z(0,t))&&(te.d(1),(te=ee(t))&&(te.c(),te.m(a.parentNode,a))),""!==t.successMessage?ae?ae.p(e,t):((ae=P(t)).c(),ae.m(r.parentNode,r)):ae&&(ae.d(1),ae=null),""!==t.errorMessage?se?se.p(e,t):((se=U(t)).c(),se.m(l.parentNode,l)):se&&(se.d(1),se=null),e.name&&y.value!==t.name&&M(y,t.name),e.protein&&C.value!==t.protein&&M(C,t.protein),e.carbs&&R.value!==t.carbs&&M(R,t.carbs),e.fat&&D.value!==t.fat&&M(D,t.fat),e.buttonValue&&(q.value=t.buttonValue),"update"===t.mode?re?re.p(e,t):((re=S(t)).c(),re.m(p,null)):re&&(re.d(1),re=null),0!==t.food.length?oe||((oe=k()).c(),oe.m(W.parentNode,W)):oe&&(oe.d(1),oe=null),e.handleFoodClick||e.food){let a;for(ne=t.food,a=0;a<ne.length;a+=1){const s=_(t,ne,a);le[a]?le[a].p(e,s):(le[a]=x(s),le[a].c(),le[a].m(X.parentNode,X))}for(;a<le.length;a+=1)le[a].d(1);le.length=ne.length}},i:f,o:f,d(e){e&&d(t),te.d(e),e&&d(a),ae&&ae.d(e),e&&d(r),se&&se.d(e),e&&d(l),e&&d(p),re&&re.d(),e&&d(Q),oe&&oe.d(e),e&&d(W),v(le,e),e&&d(X),N(Y)}}}function O(e,t,a){let s="",r="",o="",n="",l=[],d="add",u="",c="",i="";function p(e){a("successMessage",i=""),a("errorMessage",c=""),u=e.name,a("name",s=e.name),a("protein",r=e.protein),a("carbs",o=e.carbs),a("fat",n=e.fat),a("mode",d="update")}y(async()=>{a("food",l=JSON.parse(localStorage.getItem("food"))||[])});let h;return e.$$.update=((e={mode:1})=>{e.mode&&a("buttonValue",h="add"===d?"Add":"Update")}),{name:s,protein:r,carbs:o,fat:n,food:l,mode:d,errorMessage:c,successMessage:i,handleAddUpdate:function(){if(a("successMessage",i=""),a("errorMessage",c=""),a("errorMessage",c=""),!(""===s?(a("errorMessage",c="Name is missing"),0):""===r?(a("errorMessage",c="Protein is missing"),0):Number.isInteger(Number(r))?""===o?(a("errorMessage",c="Carbs is missing"),0):Number.isInteger(Number(o))?""===n?(a("errorMessage",c="Fat is missing"),0):Number.isInteger(Number(n))||(a("errorMessage",c="Fat should be a number"),0):(a("errorMessage",c="Carbs should be a number"),0):(a("errorMessage",c="Protein should be a number"),0)))return;if("add"===d){const e=JSON.parse(localStorage.getItem("food"))||[];return e.push({name:s,protein:r,carbs:o,fat:n}),localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",n=""),a("successMessage",i="Food was added"),void event.preventDefault()}let e=l.findIndex(e=>e.name===u);console.log(e),console.log(u),a("food",l[e].name=s,l),a("food",l[e].protein=r,l),a("food",l[e].carbs=o,l),a("food",l[e].fat=n,l),localStorage.setItem("food",JSON.stringify(l)),a("successMessage",i="Food was updated")},handleFoodClick:p,handleDelete:function(){a("successMessage",i=""),a("errorMessage",c="");let e=l.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",l=e),a("mode",d="add"),a("name",s=""),a("protein",r=""),a("carbs",o=""),a("fat",n=""),a("successMessage",i="Food was deleted")},buttonValue:h,input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){r=this.value,a("protein",r)},input2_input_handler:function(){o=this.value,a("carbs",o)},input3_input_handler:function(){n=this.value,a("fat",n)},click_handler:({i:e})=>p(l[e])}}export default class extends e{constructor(e){super(),t(this,e,O,E,a,{})}}
