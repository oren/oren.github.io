import{S as e,i as t,s as a,e as s,t as n,c as l,b as r,d as o,f as i,h as c,k as d,l as u,y as f,a as p,z as h,g as m,n as g,G as v,M as F,H as b,J as M,L as _,K as U}from"./index.491e6785.js";import{v as y}from"./validate.5d897be6.js";function N(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function x(e){let t,a;return{c(){t=s("p"),a=n(e.successMessage),this.h()},l(s){t=l(s,"P",{class:!0});var n=r(t);a=o(n,e.successMessage),n.forEach(i),this.h()},h(){c(t,"class","success svelte-1cqg0f9")},m(e,s){d(e,t,s),u(t,a)},p(e,t){e.successMessage&&f(a,t.successMessage)},d(e){e&&i(t)}}}function w(e){let t,a;return{c(){t=s("p"),a=n(e.errorMessage),this.h()},l(s){t=l(s,"P",{class:!0});var n=r(t);a=o(n,e.errorMessage),n.forEach(i),this.h()},h(){c(t,"class","error svelte-1cqg0f9")},m(e,s){d(e,t,s),u(t,a)},p(e,t){e.errorMessage&&f(a,t.errorMessage)},d(e){e&&i(t)}}}function P(e){let t,a,s=e.showUpdateForm&&I(e),n=!e.showUpdateForm&&q(e);return{c(){s&&s.c(),t=p(),n&&n.c(),a=h()},l(e){s&&s.l(e),t=m(e),n&&n.l(e),a=h()},m(e,l){s&&s.m(e,l),d(e,t,l),n&&n.m(e,l),d(e,a,l)},p(e,l){l.showUpdateForm?s?s.p(e,l):((s=I(l)).c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),l.showUpdateForm?n&&(n.d(1),n=null):n?n.p(e,l):((n=q(l)).c(),n.m(a.parentNode,a))},d(e){s&&s.d(e),e&&i(t),n&&n.d(e),e&&i(a)}}}function k(e){let t,a,f,p,h,m,v;return{c(){t=s("p"),a=n("You have no food."),f=s("p"),p=s("p"),h=s("a"),m=n("Add some food first"),v=n("."),this.h()},l(e){t=l(e,"P",{});var s=r(t);a=o(s,"You have no food."),s.forEach(i),f=l(e,"P",{}),r(f).forEach(i),p=l(e,"P",{});var n=r(p);h=l(n,"A",{href:!0});var c=r(h);m=o(c,"Add some food first"),c.forEach(i),v=o(n,"."),n.forEach(i),this.h()},h(){c(h,"href","/food/manage-food/add-food")},m(e,s){d(e,t,s),u(t,a),d(e,f,s),d(e,p,s),u(p,h),u(h,m),u(p,v)},p:g,d(e){e&&i(t),e&&i(f),e&&i(p)}}}function I(e){let t,a,n,o,f,h,g,v,F,U,y,N,x,w,P,k,I,q,E=!1,T=!1,O=!1;function z(){E=!0,e.input1_input_handler.call(h)}function B(){T=!0,e.input2_input_handler.call(U)}function C(){O=!0,e.input3_input_handler.call(w)}let D="update"===e.mode&&S(e);return{c(){t=s("form"),a=s("input"),n=p(),o=s("br"),f=p(),h=s("input"),g=p(),v=s("br"),F=p(),U=s("input"),y=p(),N=s("br"),x=p(),w=s("input"),P=p(),k=s("br"),I=p(),D&&D.c(),this.h()},l(e){t=l(e,"FORM",{});var s=r(t);a=l(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),n=m(s),o=l(s,"BR",{}),f=m(s),h=l(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),g=m(s),v=l(s,"BR",{}),F=m(s),U=l(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),y=m(s),N=l(s,"BR",{}),x=m(s),w=l(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),P=m(s),k=l(s,"BR",{}),I=m(s),D&&D.l(s),s.forEach(i),this.h()},h(){c(a,"type","text"),c(a,"placeholder","Name"),c(a,"maxlength","20"),c(a,"size","20"),c(a,"class","svelte-1cqg0f9"),c(h,"type","number"),c(h,"placeholder","Protein"),c(h,"min","0"),c(h,"max","999"),c(h,"class","svelte-1cqg0f9"),c(U,"type","number"),c(U,"placeholder","Carbs"),c(U,"min","0"),c(U,"max","999"),c(U,"class","svelte-1cqg0f9"),c(w,"type","number"),c(w,"placeholder","Fat"),c(w,"min","0"),c(w,"max","999"),c(w,"class","svelte-1cqg0f9"),q=[b(a,"input",e.input0_input_handler),b(h,"input",z),b(h,"keyup",e.validateProtein),b(U,"input",B),b(U,"keyup",e.validateCarbs),b(w,"input",C),b(w,"keyup",e.validateFat)]},m(s,l){d(s,t,l),u(t,a),M(a,e.name),u(t,n),u(t,o),u(t,f),u(t,h),M(h,e.protein),u(t,g),u(t,v),u(t,F),u(t,U),M(U,e.carbs),u(t,y),u(t,N),u(t,x),u(t,w),M(w,e.fat),u(t,P),u(t,k),u(t,I),D&&D.m(t,null)},p(e,s){e.name&&a.value!==s.name&&M(a,s.name),!E&&e.protein&&M(h,s.protein),E=!1,!T&&e.carbs&&M(U,s.carbs),T=!1,!O&&e.fat&&M(w,s.fat),O=!1,"update"===s.mode?D?D.p(e,s):((D=S(s)).c(),D.m(t,null)):D&&(D.d(1),D=null)},d(e){e&&i(t),D&&D.d(),_(q)}}}function S(e){let t,a,n,r;return{c(){t=s("input"),a=p(),n=s("input"),this.h()},l(e){t=l(e,"INPUT",{class:!0,type:!0,value:!0,maxlength:!0,size:!0}),a=m(e),n=l(e,"INPUT",{type:!0,value:!0,class:!0}),this.h()},h(){c(t,"class","update svelte-1cqg0f9"),c(t,"type","button"),t.value="Update",c(t,"maxlength","2"),c(t,"size","2"),c(n,"type","button"),n.value="delete",c(n,"class","svelte-1cqg0f9"),r=[b(t,"click",e.handleUpdate),b(n,"click",e.handleDelete)]},m(e,s){d(e,t,s),d(e,a,s),d(e,n,s)},p:g,d(e){e&&i(t),e&&i(a),e&&i(n),_(r)}}}function q(e){let t,a,n,o,u=e.filteredFood,f=[];for(let t=0;t<u.length;t+=1)f[t]=E(N(e,u,t));return{c(){t=s("input"),a=p(),n=s("div");for(let e=0;e<f.length;e+=1)f[e].c();this.h()},l(e){t=l(e,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),a=m(e),n=l(e,"DIV",{class:!0});var s=r(n);for(let e=0;e<f.length;e+=1)f[e].l(s);s.forEach(i),this.h()},h(){c(t,"class","filter svelte-1cqg0f9"),c(t,"type","text"),c(t,"placeholder","Search"),c(t,"maxlength","5"),c(t,"size","3"),c(n,"class","wrapper svelte-1cqg0f9"),o=[b(t,"input",e.input_input_handler),b(t,"input",e.handleFilter)]},m(s,l){d(s,t,l),M(t,e.filter),d(s,a,l),d(s,n,l);for(let e=0;e<f.length;e+=1)f[e].m(n,null)},p(e,a){if(e.filter&&t.value!==a.filter&&M(t,a.filter),e.handleFoodDelete||e.food||e.handleFoodClick||e.filteredFood){let t;for(u=a.filteredFood,t=0;t<u.length;t+=1){const s=N(a,u,t);f[t]?f[t].p(e,s):(f[t]=E(s),f[t].c(),f[t].m(n,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}},d(e){e&&i(t),e&&i(a),e&&i(n),U(f,e),_(o)}}}function E(e){let t,a,p,h,m,g=e.name+"";function v(...t){return e.click_handler(e,...t)}function F(...t){return e.click_handler_1(e,...t)}return{c(){t=s("button"),a=n(g),p=s("button"),h=n("del"),this.h()},l(e){t=l(e,"BUTTON",{class:!0});var s=r(t);a=o(s,g),s.forEach(i),p=l(e,"BUTTON",{class:!0});var n=r(p);h=o(n,"del"),n.forEach(i),this.h()},h(){c(t,"class","box svelte-1cqg0f9"),c(p,"class","svelte-1cqg0f9"),m=[b(t,"click",v),b(p,"click",F)]},m(e,s){d(e,t,s),u(t,a),d(e,p,s),u(p,h)},p(t,s){e=s,t.filteredFood&&g!==(g=e.name+"")&&f(a,g)},d(e){e&&i(t),e&&i(p),_(m)}}}function T(e){let t,a,c,f,v,F,b,M=""!==e.successMessage&&x(e),_=""!==e.errorMessage&&w(e);function U(e,t){return 0===t.food.length?k:P}let y=U(0,e),N=y(e);return{c(){t=p(),a=s("h2"),c=n("Update Food"),f=p(),M&&M.c(),v=p(),_&&_.c(),F=p(),N.c(),b=h(),this.h()},l(e){t=m(e),a=l(e,"H2",{});var s=r(a);c=o(s,"Update Food"),s.forEach(i),f=m(e),M&&M.l(e),v=m(e),_&&_.l(e),F=m(e),N.l(e),b=h(),this.h()},h(){document.title="Food"},m(e,s){d(e,t,s),d(e,a,s),u(a,c),d(e,f,s),M&&M.m(e,s),d(e,v,s),_&&_.m(e,s),d(e,F,s),N.m(e,s),d(e,b,s)},p(e,t){""!==t.successMessage?M?M.p(e,t):((M=x(t)).c(),M.m(v.parentNode,v)):M&&(M.d(1),M=null),""!==t.errorMessage?_?_.p(e,t):((_=w(t)).c(),_.m(F.parentNode,F)):_&&(_.d(1),_=null),y===(y=U(0,t))&&N?N.p(e,t):(N.d(1),(N=y(t))&&(N.c(),N.m(b.parentNode,b)))},i:g,o:g,d(e){e&&i(t),e&&i(a),e&&i(f),M&&M.d(e),e&&i(v),_&&_.d(e),e&&i(F),N.d(e),e&&i(b)}}}function O(e,t,a){let s="",n="",l="",r="",o=[],i="view",c="",d="",u="",f=!1,p="",h=[];function m(e){a("filteredFood",h=e),a("filter",p=""),a("showUpdateForm",f=!0),a("successMessage",u=""),a("errorMessage",d=""),c=e.name,a("name",s=e.name),a("protein",n=e.protein),a("carbs",l=e.carbs),a("fat",r=e.fat),a("mode",i="update")}function g(e){a("filteredFood",h=o),a("filter",p=""),a("successMessage",u=""),a("errorMessage",d="");let t=o.filter(function(t,a,s){return t.name!==e.name});localStorage.setItem("food",JSON.stringify(t)),a("food",o=t),a("filteredFood",h=t),a("mode",i="view"),a("name",s=""),a("protein",n=""),a("carbs",l=""),a("fat",r=""),a("successMessage",u="Food was deleted"),a("showUpdateForm",f=!1)}v(async()=>{a("food",o=JSON.parse(localStorage.getItem("food"))||[]),a("filteredFood",h=o)});return{name:s,protein:n,carbs:l,fat:r,food:o,mode:i,errorMessage:d,successMessage:u,showUpdateForm:f,filter:p,filteredFood:h,handleUpdate:function(){a("filteredFood",h=o),a("filter",p="");let e={};if(a("successMessage",u=""),a("errorMessage",d=""),!(e=y({name:s,protein:n,carbs:l,fat:r})).valid)return void a("errorMessage",d=e.message);let t=o.findIndex(e=>e.name===c);a("food",o[t].name=s,o),a("food",o[t].protein=n,o),a("food",o[t].carbs=l,o),a("food",o[t].fat=r,o),localStorage.setItem("food",JSON.stringify(o)),a("successMessage",u="Food was updated"),a("showUpdateForm",f=!1)},handleFoodClick:m,handleDelete:function(){a("filteredFood",h=o),a("filter",p=""),a("successMessage",u=""),a("errorMessage",d="");let e=o.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",o=e),a("mode",i="view"),a("name",s=""),a("protein",n=""),a("carbs",l=""),a("fat",r=""),a("successMessage",u="Food was deleted"),a("showUpdateForm",f=!1)},handleFoodDelete:g,handleFilter:function(){""===p&&a("filteredFood",h=o),a("filteredFood",h=o.filter(e=>e.name.includes(p)))},validateProtein:function(){let e=String(n);a("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(l);a("carbs",l=Number(e.substring(0,5)))},validateFat:function(){let e=String(r);a("fat",r=Number(e.substring(0,5)))},input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){n=F(this.value),a("protein",n)},input2_input_handler:function(){l=F(this.value),a("carbs",l)},input3_input_handler:function(){r=F(this.value),a("fat",r)},input_input_handler:function(){p=this.value,a("filter",p)},click_handler:({i:e})=>m(o[e]),click_handler_1:({i:e})=>g(o[e])}}export default class extends e{constructor(e){super(),t(this,e,O,T,a,{})}}
