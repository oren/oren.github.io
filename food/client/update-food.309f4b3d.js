import{S as e,i as t,s as a,e as s,t as n,c as o,b as l,d as r,f as i,h as c,k as d,l as u,y as f,a as h,z as p,g as m,n as g,G as v,M as b,H as F,I as M,J as _,K as y,L as N}from"./index.bdc8af7b.js";import{v as U}from"./validate.5d897be6.js";function x(e,t,a){const s=Object.create(e);return s.id=t[a].id,s.name=t[a].name,s.i=a,s}function w(e){let t,a;return{c(){t=s("p"),a=n(e.successMessage),this.h()},l(s){t=o(s,"P",{class:!0});var n=l(t);a=r(n,e.successMessage),n.forEach(i),this.h()},h(){c(t,"class","success svelte-1cqg0f9")},m(e,s){d(e,t,s),u(t,a)},p(e,t){e.successMessage&&f(a,t.successMessage)},d(e){e&&i(t)}}}function P(e){let t,a;return{c(){t=s("p"),a=n(e.errorMessage),this.h()},l(s){t=o(s,"P",{class:!0});var n=l(t);a=r(n,e.errorMessage),n.forEach(i),this.h()},h(){c(t,"class","error svelte-1cqg0f9")},m(e,s){d(e,t,s),u(t,a)},p(e,t){e.errorMessage&&f(a,t.errorMessage)},d(e){e&&i(t)}}}function k(e){let t,a,s=e.showUpdateForm&&S(e),n=!e.showUpdateForm&&E(e);return{c(){s&&s.c(),t=h(),n&&n.c(),a=p()},l(e){s&&s.l(e),t=m(e),n&&n.l(e),a=p()},m(e,o){s&&s.m(e,o),d(e,t,o),n&&n.m(e,o),d(e,a,o)},p(e,o){o.showUpdateForm?s?s.p(e,o):((s=S(o)).c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),o.showUpdateForm?n&&(n.d(1),n=null):n?n.p(e,o):((n=E(o)).c(),n.m(a.parentNode,a))},d(e){s&&s.d(e),e&&i(t),n&&n.d(e),e&&i(a)}}}function I(e){let t,a,f,h,p,m,v;return{c(){t=s("p"),a=n("You have no food."),f=s("p"),h=s("p"),p=s("a"),m=n("Add some food first"),v=n("."),this.h()},l(e){t=o(e,"P",{});var s=l(t);a=r(s,"You have no food."),s.forEach(i),f=o(e,"P",{}),l(f).forEach(i),h=o(e,"P",{});var n=l(h);p=o(n,"A",{href:!0});var c=l(p);m=r(c,"Add some food first"),c.forEach(i),v=r(n,"."),n.forEach(i),this.h()},h(){c(p,"href","/food/manage-food/add-food")},m(e,s){d(e,t,s),u(t,a),d(e,f,s),d(e,h,s),u(h,p),u(p,m),u(h,v)},p:g,d(e){e&&i(t),e&&i(f),e&&i(h)}}}function S(e){let t,a,n,r,f,p,g,v,b,y,N,U,x,w,P,k,I,S,E=!1,T=!1,O=!1;function z(){E=!0,e.input1_input_handler.call(p)}function B(){T=!0,e.input2_input_handler.call(y)}function C(){O=!0,e.input3_input_handler.call(w)}let D="update"===e.mode&&q(e);return{c(){t=s("form"),a=s("input"),n=h(),r=s("br"),f=h(),p=s("input"),g=h(),v=s("br"),b=h(),y=s("input"),N=h(),U=s("br"),x=h(),w=s("input"),P=h(),k=s("br"),I=h(),D&&D.c(),this.h()},l(e){t=o(e,"FORM",{});var s=l(t);a=o(s,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0,class:!0}),n=m(s),r=o(s,"BR",{}),f=m(s),p=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),g=m(s),v=o(s,"BR",{}),b=m(s),y=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),N=m(s),U=o(s,"BR",{}),x=m(s),w=o(s,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),P=m(s),k=o(s,"BR",{}),I=m(s),D&&D.l(s),s.forEach(i),this.h()},h(){c(a,"type","text"),c(a,"placeholder","Name"),c(a,"maxlength","20"),c(a,"size","20"),c(a,"class","svelte-1cqg0f9"),c(p,"type","number"),c(p,"placeholder","Protein"),c(p,"min","0"),c(p,"max","999"),c(p,"class","svelte-1cqg0f9"),c(y,"type","number"),c(y,"placeholder","Carbs"),c(y,"min","0"),c(y,"max","999"),c(y,"class","svelte-1cqg0f9"),c(w,"type","number"),c(w,"placeholder","Fat"),c(w,"min","0"),c(w,"max","999"),c(w,"class","svelte-1cqg0f9"),S=[F(a,"input",e.input0_input_handler),F(p,"input",z),F(p,"keyup",e.validateProtein),F(y,"input",B),F(y,"keyup",e.validateCarbs),F(w,"input",C),F(w,"keyup",e.validateFat)]},m(s,o){d(s,t,o),u(t,a),M(a,e.name),u(t,n),u(t,r),u(t,f),u(t,p),M(p,e.protein),u(t,g),u(t,v),u(t,b),u(t,y),M(y,e.carbs),u(t,N),u(t,U),u(t,x),u(t,w),M(w,e.fat),u(t,P),u(t,k),u(t,I),D&&D.m(t,null)},p(e,s){e.name&&a.value!==s.name&&M(a,s.name),!E&&e.protein&&M(p,s.protein),E=!1,!T&&e.carbs&&M(y,s.carbs),T=!1,!O&&e.fat&&M(w,s.fat),O=!1,"update"===s.mode?D?D.p(e,s):((D=q(s)).c(),D.m(t,null)):D&&(D.d(1),D=null)},d(e){e&&i(t),D&&D.d(),_(S)}}}function q(e){let t,a,n,l;return{c(){t=s("input"),a=h(),n=s("input"),this.h()},l(e){t=o(e,"INPUT",{class:!0,type:!0,value:!0,maxlength:!0,size:!0}),a=m(e),n=o(e,"INPUT",{type:!0,value:!0,class:!0}),this.h()},h(){c(t,"class","update svelte-1cqg0f9"),c(t,"type","button"),t.value="Update",c(t,"maxlength","2"),c(t,"size","2"),c(n,"type","button"),n.value="delete",c(n,"class","svelte-1cqg0f9"),l=[F(t,"click",e.handleUpdate),F(n,"click",e.handleDelete)]},m(e,s){d(e,t,s),d(e,a,s),d(e,n,s)},p:g,d(e){e&&i(t),e&&i(a),e&&i(n),_(l)}}}function E(e){let t,a,n=e.food.length>=10&&T(e),r=e.filteredFood,u=[];for(let t=0;t<r.length;t+=1)u[t]=O(x(e,r,t));return{c(){n&&n.c(),t=h(),a=s("div");for(let e=0;e<u.length;e+=1)u[e].c();this.h()},l(e){n&&n.l(e),t=m(e),a=o(e,"DIV",{class:!0,style:!0});var s=l(a);for(let e=0;e<u.length;e+=1)u[e].l(s);s.forEach(i),this.h()},h(){c(a,"class","wrapper svelte-1cqg0f9"),y(a,"margin-top",(e.food.length>=10?0:20)+"px")},m(e,s){n&&n.m(e,s),d(e,t,s),d(e,a,s);for(let e=0;e<u.length;e+=1)u[e].m(a,null)},p(e,s){if(s.food.length>=10?n?n.p(e,s):((n=T(s)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),e.handleFoodDelete||e.food||e.handleFoodClick||e.filteredFood){let t;for(r=s.filteredFood,t=0;t<r.length;t+=1){const n=x(s,r,t);u[t]?u[t].p(e,n):(u[t]=O(n),u[t].c(),u[t].m(a,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=r.length}e.food&&y(a,"margin-top",(s.food.length>=10?0:20)+"px")},d(e){n&&n.d(e),e&&i(t),e&&i(a),N(u,e)}}}function T(e){let t,a;return{c(){t=s("input"),this.h()},l(e){t=o(e,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,size:!0}),this.h()},h(){c(t,"class","filter svelte-1cqg0f9"),c(t,"type","text"),c(t,"placeholder","Search"),c(t,"maxlength","5"),c(t,"size","3"),a=[F(t,"input",e.input_input_handler),F(t,"input",e.handleFilter)]},m(a,s){d(a,t,s),M(t,e.filter)},p(e,a){e.filter&&t.value!==a.filter&&M(t,a.filter)},d(e){e&&i(t),_(a)}}}function O(e){let t,a,h,p,m,g=e.name+"";function v(...t){return e.click_handler(e,...t)}function b(...t){return e.click_handler_1(e,...t)}return{c(){t=s("button"),a=n(g),h=s("button"),p=n("del"),this.h()},l(e){t=o(e,"BUTTON",{class:!0});var s=l(t);a=r(s,g),s.forEach(i),h=o(e,"BUTTON",{class:!0});var n=l(h);p=r(n,"del"),n.forEach(i),this.h()},h(){c(t,"class","box svelte-1cqg0f9"),c(h,"class","svelte-1cqg0f9"),m=[F(t,"click",v),F(h,"click",b)]},m(e,s){d(e,t,s),u(t,a),d(e,h,s),u(h,p)},p(t,s){e=s,t.filteredFood&&g!==(g=e.name+"")&&f(a,g)},d(e){e&&i(t),e&&i(h),_(m)}}}function z(e){let t,a,c,f,v,b,F,M=""!==e.successMessage&&w(e),_=""!==e.errorMessage&&P(e);function y(e,t){return 0===t.food.length?I:k}let N=y(0,e),U=N(e);return{c(){t=h(),a=s("h2"),c=n("Update Food"),f=h(),M&&M.c(),v=h(),_&&_.c(),b=h(),U.c(),F=p(),this.h()},l(e){t=m(e),a=o(e,"H2",{});var s=l(a);c=r(s,"Update Food"),s.forEach(i),f=m(e),M&&M.l(e),v=m(e),_&&_.l(e),b=m(e),U.l(e),F=p(),this.h()},h(){document.title="Food"},m(e,s){d(e,t,s),d(e,a,s),u(a,c),d(e,f,s),M&&M.m(e,s),d(e,v,s),_&&_.m(e,s),d(e,b,s),U.m(e,s),d(e,F,s)},p(e,t){""!==t.successMessage?M?M.p(e,t):((M=w(t)).c(),M.m(v.parentNode,v)):M&&(M.d(1),M=null),""!==t.errorMessage?_?_.p(e,t):((_=P(t)).c(),_.m(b.parentNode,b)):_&&(_.d(1),_=null),N===(N=y(0,t))&&U?U.p(e,t):(U.d(1),(U=N(t))&&(U.c(),U.m(F.parentNode,F)))},i:g,o:g,d(e){e&&i(t),e&&i(a),e&&i(f),M&&M.d(e),e&&i(v),_&&_.d(e),e&&i(b),U.d(e),e&&i(F)}}}function B(e,t,a){let s="",n="",o="",l="",r=[],i="view",c="",d="",u="",f=!1,h="",p=[];function m(e){a("filteredFood",p=e),a("filter",h=""),a("showUpdateForm",f=!0),a("successMessage",u=""),a("errorMessage",d=""),c=e.name,a("name",s=e.name),a("protein",n=e.protein),a("carbs",o=e.carbs),a("fat",l=e.fat),a("mode",i="update")}function g(e){a("filteredFood",p=r),a("filter",h=""),a("successMessage",u=""),a("errorMessage",d="");let t=r.filter(function(t,a,s){return t.name!==e.name});localStorage.setItem("food",JSON.stringify(t)),a("food",r=t),a("filteredFood",p=t),a("mode",i="view"),a("name",s=""),a("protein",n=""),a("carbs",o=""),a("fat",l=""),a("successMessage",u="Food was deleted"),a("showUpdateForm",f=!1)}v(async()=>{a("food",r=JSON.parse(localStorage.getItem("food"))||[]),a("filteredFood",p=r)});return{name:s,protein:n,carbs:o,fat:l,food:r,mode:i,errorMessage:d,successMessage:u,showUpdateForm:f,filter:h,filteredFood:p,handleUpdate:function(){a("filteredFood",p=r),a("filter",h="");let e={};if(a("successMessage",u=""),a("errorMessage",d=""),!(e=U({name:s,protein:n,carbs:o,fat:l})).valid)return void a("errorMessage",d=e.message);let t=r.findIndex(e=>e.name===c);a("food",r[t].name=s,r),a("food",r[t].protein=n,r),a("food",r[t].carbs=o,r),a("food",r[t].fat=l,r),localStorage.setItem("food",JSON.stringify(r)),a("successMessage",u="Food was updated"),a("showUpdateForm",f=!1)},handleFoodClick:m,handleDelete:function(){a("filteredFood",p=r),a("filter",h=""),a("successMessage",u=""),a("errorMessage",d="");let e=r.filter(function(e,t,a){return e.name!==s});localStorage.setItem("food",JSON.stringify(e)),a("food",r=e),a("mode",i="view"),a("name",s=""),a("protein",n=""),a("carbs",o=""),a("fat",l=""),a("successMessage",u="Food was deleted"),a("showUpdateForm",f=!1)},handleFoodDelete:g,handleFilter:function(){""===h&&a("filteredFood",p=r),a("filteredFood",p=r.filter(e=>e.name.includes(h)))},validateProtein:function(){let e=String(n);a("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(o);a("carbs",o=Number(e.substring(0,5)))},validateFat:function(){let e=String(l);a("fat",l=Number(e.substring(0,5)))},input0_input_handler:function(){s=this.value,a("name",s)},input1_input_handler:function(){n=b(this.value),a("protein",n)},input2_input_handler:function(){o=b(this.value),a("carbs",o)},input3_input_handler:function(){l=b(this.value),a("fat",l)},input_input_handler:function(){h=this.value,a("filter",h)},click_handler:({i:e})=>m(r[e]),click_handler_1:({i:e})=>g(r[e])}}export default class extends e{constructor(e){super(),t(this,e,B,z,a,{})}}
