import{S as e,i as t,s as a,a as o,z as l,g as r,k as n,n as s,f as c,G as i,e as d,t as f,c as h,b as u,d as v,h as g,j as m,l as p,y as I,H as A,I as F,J as N,K as b}from"./index.763e8bca.js";function E(e,t,a){const o=Object.create(e);return o.id=t[a].id,o.name=t[a].name,o.i=a,o}function S(e,t,a){const o=Object.create(e);return o.id=t[a].id,o.name=t[a].name,o.count=t[a].count,o.i=a,o}function C(e){let t,a,l,s,i,m,C,P,x,O,_,T,j,D,J,V,H,U,B,R,Y,$,w,z,K,q,L,Q,W,X,Z,ee,te=Math.round(e.calories)+"",ae=Math.round(e.protein)+"",oe=Math.round(e.carbs)+"",le=Math.round(e.fat)+"",re=e.isGoal&&y(e),ne=0===e.calories&&M(),se=e.foodIAte,ce=[];for(let t=0;t<se.length;t+=1)ce[t]=G(S(e,se,t));let ie=e.filteredFood,de=[];for(let t=0;t<ie.length;t+=1)de[t]=k(E(e,ie,t));return{c(){re&&re.c(),t=o(),a=d("div"),l=d("span"),s=f("Calories: "),i=f(te),m=o(),C=d("span"),P=f("Protein:"),x=f(ae),O=o(),_=d("span"),T=f("Carbs:"),j=f(oe),D=o(),J=d("span"),V=f("Fat:"),H=f(le),U=o(),B=d("h2"),R=f("I Ate:"),Y=d("button"),$=f("Clear"),w=o(),ne&&ne.c(),z=o();for(let e=0;e<ce.length;e+=1)ce[e].c();K=o(),q=d("h2"),L=f("Add Food"),Q=o(),W=d("input"),X=o(),Z=d("div");for(let e=0;e<de.length;e+=1)de[e].c();this.h()},l(e){re&&re.l(e),t=r(e),a=h(e,"DIV",{class:!0});var o=u(a);l=h(o,"SPAN",{class:!0});var n=u(l);s=v(n,"Calories: "),i=v(n,te),n.forEach(c),m=r(o),C=h(o,"SPAN",{class:!0});var d=u(C);P=v(d,"Protein:"),x=v(d,ae),d.forEach(c),O=r(o),_=h(o,"SPAN",{class:!0});var f=u(_);T=v(f,"Carbs:"),j=v(f,oe),f.forEach(c),D=r(o),J=h(o,"SPAN",{class:!0});var g=u(J);V=v(g,"Fat:"),H=v(g,le),g.forEach(c),o.forEach(c),U=r(e),B=h(e,"H2",{class:!0});var p=u(B);R=v(p,"I Ate:"),Y=h(p,"BUTTON",{class:!0});var I=u(Y);$=v(I,"Clear"),I.forEach(c),p.forEach(c),w=r(e),ne&&ne.l(e),z=r(e);for(let t=0;t<ce.length;t+=1)ce[t].l(e);K=r(e),q=h(e,"H2",{class:!0});var A=u(q);L=v(A,"Add Food"),A.forEach(c),Q=r(e),W=h(e,"INPUT",{class:!0,type:!0,placeholder:!0}),X=r(e),Z=h(e,"DIV",{class:!0});var F=u(Z);for(let e=0;e<de.length;e+=1)de[e].l(F);F.forEach(c),this.h()},h(){g(l,"class","svelte-6ctv56"),g(C,"class","svelte-6ctv56"),g(_,"class","svelte-6ctv56"),g(J,"class","svelte-6ctv56"),g(a,"class","total svelte-6ctv56"),g(Y,"class","clear svelte-6ctv56"),g(B,"class","today svelte-6ctv56"),g(q,"class","add svelte-6ctv56"),g(W,"class","filter svelte-6ctv56"),g(W,"type","text"),g(W,"placeholder","filter"),g(Z,"class","wrapper svelte-6ctv56"),ee=[A(Y,"click",e.handleClear),A(W,"input",e.input_input_handler),A(W,"input",e.handleFilter)]},m(o,r){re&&re.m(o,r),n(o,t,r),n(o,a,r),p(a,l),p(l,s),p(l,i),p(a,m),p(a,C),p(C,P),p(C,x),p(a,O),p(a,_),p(_,T),p(_,j),p(a,D),p(a,J),p(J,V),p(J,H),n(o,U,r),n(o,B,r),p(B,R),p(B,Y),p(Y,$),n(o,w,r),ne&&ne.m(o,r),n(o,z,r);for(let e=0;e<ce.length;e+=1)ce[e].m(o,r);n(o,K,r),n(o,q,r),p(q,L),n(o,Q,r),n(o,W,r),F(W,e.filter),n(o,X,r),n(o,Z,r);for(let e=0;e<de.length;e+=1)de[e].m(Z,null)},p(e,a){if(a.isGoal?re?re.p(e,a):((re=y(a)).c(),re.m(t.parentNode,t)):re&&(re.d(1),re=null),e.calories&&te!==(te=Math.round(a.calories)+"")&&I(i,te),e.protein&&ae!==(ae=Math.round(a.protein)+"")&&I(x,ae),e.carbs&&oe!==(oe=Math.round(a.carbs)+"")&&I(j,oe),e.fat&&le!==(le=Math.round(a.fat)+"")&&I(H,le),0===a.calories?ne||((ne=M()).c(),ne.m(z.parentNode,z)):ne&&(ne.d(1),ne=null),e.foodIAte){let t;for(se=a.foodIAte,t=0;t<se.length;t+=1){const o=S(a,se,t);ce[t]?ce[t].p(e,o):(ce[t]=G(o),ce[t].c(),ce[t].m(K.parentNode,K))}for(;t<ce.length;t+=1)ce[t].d(1);ce.length=se.length}if(e.filter&&W.value!==a.filter&&F(W,a.filter),e.handleFoodClick||e.food||e.filteredFood){let t;for(ie=a.filteredFood,t=0;t<ie.length;t+=1){const o=E(a,ie,t);de[t]?de[t].p(e,o):(de[t]=k(o),de[t].c(),de[t].m(Z,null))}for(;t<de.length;t+=1)de[t].d(1);de.length=ie.length}},d(e){re&&re.d(e),e&&c(t),e&&c(a),e&&c(U),e&&c(B),e&&c(w),ne&&ne.d(e),e&&c(z),N(ce,e),e&&c(K),e&&c(q),e&&c(Q),e&&c(W),e&&c(X),e&&c(Z),N(de,e),b(ee)}}}function P(e){let t,a,l,i,m,I,A;return{c(){t=d("p"),a=f("You have no food."),l=o(),i=d("p"),m=d("a"),I=f("Add some food first"),A=f("."),this.h()},l(e){t=h(e,"P",{});var o=u(t);a=v(o,"You have no food."),o.forEach(c),l=r(e),i=h(e,"P",{});var n=u(i);m=h(n,"A",{href:!0});var s=u(m);I=v(s,"Add some food first"),s.forEach(c),A=v(n,"."),n.forEach(c),this.h()},h(){g(m,"href","/food/manage-food/add-food")},m(e,o){n(e,t,o),p(t,a),n(e,l,o),n(e,i,o),p(i,m),p(m,I),p(i,A)},p:s,d(e){e&&c(t),e&&c(l),e&&c(i)}}}function y(e){let t,a,l,s,i,A,F,N,b,E,S=Math.round(e.goal-e.calories)+"";return{c(){t=d("div"),a=d("span"),l=f("Calories Goal: "),s=f(e.goal),i=o(),A=d("span"),F=f("Remaining:"),N=d("span"),b=f(S),this.h()},l(o){t=h(o,"DIV",{class:!0});var n=u(t);a=h(n,"SPAN",{class:!0});var d=u(a);l=v(d,"Calories Goal: "),s=v(d,e.goal),d.forEach(c),i=r(n),A=h(n,"SPAN",{class:!0});var f=u(A);F=v(f,"Remaining:"),f.forEach(c),N=h(n,"SPAN",{class:!0});var g=u(N);b=v(g,S),g.forEach(c),n.forEach(c),this.h()},h(){g(a,"class","svelte-6ctv56"),g(A,"class","svelte-6ctv56"),g(N,"class",E=m(e.remaining)+" svelte-6ctv56"),g(t,"class","goal svelte-6ctv56")},m(e,o){n(e,t,o),p(t,a),p(a,l),p(a,s),p(t,i),p(t,A),p(A,F),p(t,N),p(N,b)},p(e,t){e.goal&&I(s,t.goal),(e.goal||e.calories)&&S!==(S=Math.round(t.goal-t.calories)+"")&&I(b,S),e.remaining&&E!==(E=m(t.remaining)+" svelte-6ctv56")&&g(N,"class",E)},d(e){e&&c(t)}}}function M(e){let t;return{c(){t=f("Nothing yet... Feed your muscles!")},l(e){t=v(e,"Nothing yet... Feed your muscles!")},m(e,a){n(e,t,a)},d(e){e&&c(t)}}}function G(e){let t,a,l,s,i=e.count+"",g=e.name+"";return{c(){t=d("div"),a=f(i),l=o(),s=f(g)},l(e){t=h(e,"DIV",{});var o=u(t);a=v(o,i),l=r(o),s=v(o,g),o.forEach(c)},m(e,o){n(e,t,o),p(t,a),p(t,l),p(t,s)},p(e,t){e.foodIAte&&i!==(i=t.count+"")&&I(a,i),e.foodIAte&&g!==(g=t.name+"")&&I(s,g)},d(e){e&&c(t)}}}function k(e){let t,a,o,l=e.name+"";function r(...t){return e.click_handler(e,...t)}return{c(){t=d("button"),a=f(l),this.h()},l(e){t=h(e,"BUTTON",{class:!0});var o=u(t);a=v(o,l),o.forEach(c),this.h()},h(){g(t,"class","box svelte-6ctv56"),o=A(t,"click",r)},m(e,o){n(e,t,o),p(t,a)},p(t,o){e=o,t.filteredFood&&l!==(l=e.name+"")&&I(a,l)},d(e){e&&c(t),o()}}}function x(e){let t,a;function i(e,t){return 0===t.food.length?P:C}let d=i(0,e),f=d(e);return{c(){t=o(),f.c(),a=l(),this.h()},l(e){t=r(e),f.l(e),a=l(),this.h()},h(){document.title="Eat"},m(e,o){n(e,t,o),f.m(e,o),n(e,a,o)},p(e,t){d===(d=i(0,t))&&f?f.p(e,t):(f.d(1),(f=d(t))&&(f.c(),f.m(a.parentNode,a)))},i:s,o:s,d(e){e&&c(t),f.d(e),e&&c(a)}}}function O(e,t,a){let o=!1,l=2e3,r=[],n=[],s=0,c=0,d=0,f="",h=[];function u(e){let t=r.findIndex(t=>t.name===e.name);-1===t?(e.count=1,a("foodIAte",r=[...r,e])):a("foodIAte",r[t].count=r[t].count+1,r),localStorage.setItem("ate",JSON.stringify(r)),v()}i(async()=>{a("isGoal",o=localStorage.getItem("isGoal")||!1),a("goal",l=localStorage.getItem("goal")||2e3),a("food",n=JSON.parse(localStorage.getItem("food"))||[]),a("filteredFood",h=n),a("foodIAte",r=JSON.parse(localStorage.getItem("ate"))||[]),v()});const v=e=>{a("protein",s=r.reduce(function(e,t){return e+t.protein*t.count},0)),a("carbs",c=r.reduce(function(e,t){return e+t.carbs*t.count},0)),a("fat",d=r.reduce(function(e,t){return e+t.fat*t.count},0))};let g,m;return e.$$.update=((e={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(e.protein||e.carbs||e.fat)&&a("calories",m=parseFloat(Number(4*s+4*c+9*d).toFixed(1))),(e.goal||e.calories)&&a("remaining",g=l-m<=0?"remaining":"")}),{isGoal:o,goal:l,foodIAte:r,food:n,protein:s,carbs:c,fat:d,filter:f,filteredFood:h,handleFoodClick:u,handleClear:function(e){localStorage.removeItem("ate"),a("protein",s=0),a("carbs",c=0),a("fat",d=0),a("foodIAte",r=[])},handleFilter:function(){""===f&&a("filteredFood",h=n),a("filteredFood",h=n.filter(e=>e.name.includes(f)))},remaining:g,calories:m,input_input_handler:function(){f=this.value,a("filter",f)},click_handler:({i:e})=>u(n[e])}}export default class extends e{constructor(e){super(),t(this,e,O,x,a,{})}}
