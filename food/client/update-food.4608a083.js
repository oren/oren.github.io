import{S as e,i as t,s,e as a,t as n,c as r,b as o,d as i,f as l,h as c,k as u,l as d,y as h,a as p,z as f,g as m,n as g,I as b,J as v,G as M,K as N,L as y,H as _}from"./index.805fe9f6.js";function x(e,t,s){const a=Object.create(e);return a.id=t[s].id,a.name=t[s].name,a.i=s,a}function P(e){let t,s;return{c(){t=a("p"),s=n(e.successMessage),this.h()},l(a){t=r(a,"P",{class:!0});var n=o(t);s=i(n,e.successMessage),n.forEach(l),this.h()},h(){c(t,"class","success svelte-1oiijej")},m(e,a){u(e,t,a),d(t,s)},p(e,t){e.successMessage&&h(s,t.successMessage)},d(e){e&&l(t)}}}function j(e){let t,s;return{c(){t=a("p"),s=n(e.errorMessage),this.h()},l(a){t=r(a,"P",{class:!0});var n=o(t);s=i(n,e.errorMessage),n.forEach(l),this.h()},h(){c(t,"class","error svelte-1oiijej")},m(e,a){u(e,t,a),d(t,s)},p(e,t){e.errorMessage&&h(s,t.errorMessage)},d(e){e&&l(t)}}}function I(e){let t,s,h,g,b,v,P,j,I,k,S,C,E,T,O,z,w,J=!1,A=!1,B=!1;function D(){J=!0,e.input1_input_handler.call(g)}function H(){A=!0,e.input2_input_handler.call(v)}function R(){B=!0,e.input3_input_handler.call(j)}let Y="update"===e.mode&&F(e),G=e.food,K=[];for(let t=0;t<G.length;t+=1)K[t]=U(x(e,G,t));return{c(){t=a("form"),s=a("input"),h=p(),g=a("input"),b=p(),v=a("input"),P=p(),j=a("input"),I=p(),k=a("br"),S=p(),Y&&Y.c(),C=p(),E=a("p"),T=n("Click on the food you want to update:"),O=p();for(let e=0;e<K.length;e+=1)K[e].c();z=f(),this.h()},l(e){t=r(e,"FORM",{});var a=o(t);s=r(a,"INPUT",{type:!0,placeholder:!0,maxlength:!0,size:!0}),h=m(a),g=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),b=m(a),v=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),P=m(a),j=r(a,"INPUT",{type:!0,placeholder:!0,min:!0,max:!0,class:!0}),I=m(a),k=r(a,"BR",{}),S=m(a),Y&&Y.l(a),a.forEach(l),C=m(e),E=r(e,"P",{class:!0});var n=o(E);T=i(n,"Click on the food you want to update:"),n.forEach(l),O=m(e);for(let t=0;t<K.length;t+=1)K[t].l(e);z=f(),this.h()},h(){c(s,"type","text"),c(s,"placeholder","Name"),c(s,"maxlength","20"),c(s,"size","20"),c(g,"type","number"),c(g,"placeholder","Protein"),c(g,"min","0"),c(g,"max","999"),c(g,"class","svelte-1oiijej"),c(v,"type","number"),c(v,"placeholder","Carbs"),c(v,"min","0"),c(v,"max","999"),c(v,"class","svelte-1oiijej"),c(j,"type","number"),c(j,"placeholder","Fat"),c(j,"min","0"),c(j,"max","999"),c(j,"class","svelte-1oiijej"),c(E,"class","food svelte-1oiijej"),w=[M(s,"input",e.input0_input_handler),M(g,"input",D),M(g,"keyup",e.validateProtein),M(v,"input",H),M(v,"keyup",e.validateCarbs),M(j,"input",R),M(j,"keyup",e.validateFat)]},m(a,n){u(a,t,n),d(t,s),y(s,e.name),d(t,h),d(t,g),y(g,e.protein),d(t,b),d(t,v),y(v,e.carbs),d(t,P),d(t,j),y(j,e.fat),d(t,I),d(t,k),d(t,S),Y&&Y.m(t,null),u(a,C,n),u(a,E,n),d(E,T),u(a,O,n);for(let e=0;e<K.length;e+=1)K[e].m(a,n);u(a,z,n)},p(e,a){if(e.name&&s.value!==a.name&&y(s,a.name),!J&&e.protein&&y(g,a.protein),J=!1,!A&&e.carbs&&y(v,a.carbs),A=!1,!B&&e.fat&&y(j,a.fat),B=!1,"update"===a.mode?Y?Y.p(e,a):((Y=F(a)).c(),Y.m(t,null)):Y&&(Y.d(1),Y=null),e.handleFoodClick||e.food){let t;for(G=a.food,t=0;t<G.length;t+=1){const s=x(a,G,t);K[t]?K[t].p(e,s):(K[t]=U(s),K[t].c(),K[t].m(z.parentNode,z))}for(;t<K.length;t+=1)K[t].d(1);K.length=G.length}},d(e){e&&l(t),Y&&Y.d(),e&&l(C),e&&l(E),e&&l(O),_(K,e),e&&l(z),N(w)}}}function k(e){let t,s,h,p,f;return{c(){t=a("p"),s=n("You have no food. "),h=a("a"),p=n("Add some food first"),f=n("."),this.h()},l(e){t=r(e,"P",{});var a=o(t);s=i(a,"You have no food. "),h=r(a,"A",{href:!0});var n=o(h);p=i(n,"Add some food first"),n.forEach(l),f=i(a,"."),a.forEach(l),this.h()},h(){c(h,"href","/food/manage-food/add-food")},m(e,a){u(e,t,a),d(t,s),d(t,h),d(h,p),d(t,f)},p:g,d(e){e&&l(t)}}}function F(e){let t,s,n,o;return{c(){t=a("input"),s=p(),n=a("input"),this.h()},l(e){t=r(e,"INPUT",{type:!0,value:!0,maxlength:!0,size:!0}),s=m(e),n=r(e,"INPUT",{type:!0,value:!0}),this.h()},h(){c(t,"type","button"),t.value="Update",c(t,"maxlength","2"),c(t,"size","2"),c(n,"type","button"),n.value="delete",o=[M(t,"click",e.handleUpdate),M(n,"click",e.handleDelete)]},m(e,a){u(e,t,a),u(e,s,a),u(e,n,a)},p:g,d(e){e&&l(t),e&&l(s),e&&l(n),N(o)}}}function U(e){let t,s,c,p=e.name+"";function f(...t){return e.click_handler(e,...t)}return{c(){t=a("button"),s=n(p),this.h()},l(e){t=r(e,"BUTTON",{});var a=o(t);s=i(a,p),a.forEach(l),this.h()},h(){c=M(t,"click",f)},m(e,a){u(e,t,a),d(t,s)},p(t,a){e=a,t.food&&p!==(p=e.name+"")&&h(s,p)},d(e){e&&l(t),c()}}}function S(e){let t,s,c,h,b,v,M,N=""!==e.successMessage&&P(e),y=""!==e.errorMessage&&j(e);function _(e,t){return 0===t.food.length?k:I}let x=_(0,e),F=x(e);return{c(){t=p(),s=a("h2"),c=n("Update Food"),h=p(),N&&N.c(),b=p(),y&&y.c(),v=p(),F.c(),M=f(),this.h()},l(e){t=m(e),s=r(e,"H2",{});var a=o(s);c=i(a,"Update Food"),a.forEach(l),h=m(e),N&&N.l(e),b=m(e),y&&y.l(e),v=m(e),F.l(e),M=f(),this.h()},h(){document.title="Food"},m(e,a){u(e,t,a),u(e,s,a),d(s,c),u(e,h,a),N&&N.m(e,a),u(e,b,a),y&&y.m(e,a),u(e,v,a),F.m(e,a),u(e,M,a)},p(e,t){""!==t.successMessage?N?N.p(e,t):((N=P(t)).c(),N.m(b.parentNode,b)):N&&(N.d(1),N=null),""!==t.errorMessage?y?y.p(e,t):((y=j(t)).c(),y.m(v.parentNode,v)):y&&(y.d(1),y=null),x===(x=_(0,t))&&F?F.p(e,t):(F.d(1),(F=x(t))&&(F.c(),F.m(M.parentNode,M)))},i:g,o:g,d(e){e&&l(t),e&&l(s),e&&l(h),N&&N.d(e),e&&l(b),y&&y.d(e),e&&l(v),F.d(e),e&&l(M)}}}function C(e,t,s){let a="",n="",r="",o="",i=[],l="add",c="",u="",d="";function h(e){s("successMessage",d=""),s("errorMessage",u=""),c=e.name,s("name",a=e.name),s("protein",n=e.protein),s("carbs",r=e.carbs),s("fat",o=e.fat),s("mode",l="update")}b(async()=>{s("food",i=JSON.parse(localStorage.getItem("food"))||[])});return{name:a,protein:n,carbs:r,fat:o,food:i,mode:l,errorMessage:u,successMessage:d,handleUpdate:function(){if(s("successMessage",d=""),s("errorMessage",u=""),s("errorMessage",u=""),!(""===a?(s("errorMessage",u="Name is missing"),0):""===n?(s("errorMessage",u="Protein is missing"),0):Number.isInteger(Number(n))?""===r?(s("errorMessage",u="Carbs is missing"),0):Number.isInteger(Number(r))?""===o?(s("errorMessage",u="Fat is missing"),0):Number.isInteger(Number(o))||(s("errorMessage",u="Fat should be a number"),0):(s("errorMessage",u="Carbs should be a number"),0):(s("errorMessage",u="Protein should be a number"),0)))return;let e=i.findIndex(e=>e.name===c);console.log(e),console.log(c),s("food",i[e].name=a,i),s("food",i[e].protein=n,i),s("food",i[e].carbs=r,i),s("food",i[e].fat=o,i),localStorage.setItem("food",JSON.stringify(i)),s("successMessage",d="Food was updated")},handleFoodClick:h,handleDelete:function(){s("successMessage",d=""),s("errorMessage",u="");let e=i.filter(function(e,t,s){return e.name!==a});localStorage.setItem("food",JSON.stringify(e)),s("food",i=e),s("mode",l="add"),s("name",a=""),s("protein",n=""),s("carbs",r=""),s("fat",o=""),s("successMessage",d="Food was deleted")},validateProtein:function(){let e=String(n);s("protein",n=Number(e.substring(0,5)))},validateCarbs:function(){let e=String(r);s("carbs",r=Number(e.substring(0,5)))},validateFat:function(){let e=String(o);s("fat",o=Number(e.substring(0,5)))},input0_input_handler:function(){a=this.value,s("name",a)},input1_input_handler:function(){n=v(this.value),s("protein",n)},input2_input_handler:function(){r=v(this.value),s("carbs",r)},input3_input_handler:function(){o=v(this.value),s("fat",o)},click_handler:({i:e})=>h(i[e])}}export default class extends e{constructor(e){super(),t(this,e,C,S,s,{})}}
