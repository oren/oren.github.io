import{S as a,i as e,s as t,a as r,y as o,j as s,l as n,q as l,E as c,p as i,h as f,N as h,D as d,e as g,t as m,b as u,d as p,f as b,k as v,O as I,m as w,x as A,P as E,n as S,c as N,g as k,Q as y,o as x,r as P,I as C}from"./index.52cd5646.js";import{I as M,t as $}from"./index.48ddcbd2.js";function D(a,e,t){const r=Object.create(a);return r.id=e[t].id,r.name=e[t].name,r.count=e[t].count,r.i=t,r}function O(a){let e,t,o,h,I,E,S,N,k,y,x,P,M,$,O,T,j,L,J,B,U,Y,_,q,Q,z,H,K,R,W,X=Math.round(a.calories)+"",Z=Math.round(a.protein)+"",aa=Math.round(a.carbs)+"",ea=Math.round(a.fat)+"",ta=a.isGoal&&G(a),ra=a.foodIAte.length>0&&F(a),oa=a.foodIAte,sa=[];for(let e=0;e<oa.length;e+=1)sa[e]=V(D(a,oa,e));const na=a=>l(sa[a],1,1,()=>{sa[a]=null});return{c(){ta&&ta.c(),e=r(),t=g("div"),o=g("span"),h=m("Cal:"),I=m(X),E=r(),S=g("span"),N=m("P:"),k=m(Z),y=r(),x=g("span"),P=m("C:"),M=m(aa),$=r(),O=g("span"),T=m("F:"),j=m(ea),L=r(),ra&&ra.c(),J=r(),B=g("div");for(let a=0;a<sa.length;a+=1)sa[a].c();U=r(),Y=g("ul"),_=g("li"),q=g("a"),Q=m("Ate Today"),z=r(),H=g("li"),K=g("a"),R=m("Choose Food"),this.h()},l(a){ta&&ta.l(a),e=s(a),t=u(a,"DIV",{});var r=p(t);o=u(r,"SPAN",{class:!0});var n=p(o);h=b(n,"Cal:"),I=b(n,X),n.forEach(f),E=s(r),S=u(r,"SPAN",{class:!0});var l=p(S);N=b(l,"P:"),k=b(l,Z),l.forEach(f),y=s(r),x=u(r,"SPAN",{class:!0});var c=p(x);P=b(c,"C:"),M=b(c,aa),c.forEach(f),$=s(r),O=u(r,"SPAN",{class:!0});var i=p(O);T=b(i,"F:"),j=b(i,ea),i.forEach(f),r.forEach(f),L=s(a),ra&&ra.l(a),J=s(a),B=u(a,"DIV",{class:!0});var d=p(B);for(let a=0;a<sa.length;a+=1)sa[a].l(d);d.forEach(f),U=s(a),Y=u(a,"UL",{class:!0});var g=p(Y);_=u(g,"LI",{class:!0});var m=p(_);q=u(m,"A",{class:!0,href:!0});var v=p(q);Q=b(v,"Ate Today"),v.forEach(f),m.forEach(f),z=s(g),H=u(g,"LI",{class:!0});var w=p(H);K=u(w,"A",{class:!0,href:!0});var A=p(K);R=b(A,"Choose Food"),A.forEach(f),w.forEach(f),g.forEach(f),this.h()},h(){v(o,"class","svelte-1gc7ww1"),v(S,"class","svelte-1gc7ww1"),v(x,"class","svelte-1gc7ww1"),v(O,"class","svelte-1gc7ww1"),v(B,"class","ate-wrapper mt-1 svelte-1gc7ww1"),v(q,"class","inline-block border border-blue-500 rounded py-2 px-4 bg-blue-500 hover:bg-blue-700 text-white"),v(q,"href",""),v(_,"class","mr-3"),v(K,"class","inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4"),v(K,"href","/food/eat"),v(H,"class","mr-3"),v(Y,"class","flex mb-3 pills svelte-1gc7ww1")},m(a,r){ta&&ta.m(a,r),n(a,e,r),n(a,t,r),w(t,o),w(o,h),w(o,I),w(t,E),w(t,S),w(S,N),w(S,k),w(t,y),w(t,x),w(x,P),w(x,M),w(t,$),w(t,O),w(O,T),w(O,j),n(a,L,r),ra&&ra.m(a,r),n(a,J,r),n(a,B,r);for(let a=0;a<sa.length;a+=1)sa[a].m(B,null);n(a,U,r),n(a,Y,r),w(Y,_),w(_,q),w(q,Q),w(Y,z),w(Y,H),w(H,K),w(K,R),W=!0},p(a,t){if(t.isGoal?ta?ta.p(a,t):((ta=G(t)).c(),ta.m(e.parentNode,e)):ta&&(ta.d(1),ta=null),W&&!a.calories||X===(X=Math.round(t.calories)+"")||A(I,X),W&&!a.protein||Z===(Z=Math.round(t.protein)+"")||A(k,Z),W&&!a.carbs||aa===(aa=Math.round(t.carbs)+"")||A(M,aa),W&&!a.fat||ea===(ea=Math.round(t.fat)+"")||A(j,ea),t.foodIAte.length>0?ra?ra.p(a,t):((ra=F(t)).c(),ra.m(J.parentNode,J)):ra&&(ra.d(1),ra=null),a.foodIAte||a.handleDelete||a.trash){let e;for(oa=t.foodIAte,e=0;e<oa.length;e+=1){const r=D(t,oa,e);sa[e]?(sa[e].p(a,r),i(sa[e],1)):(sa[e]=V(r),sa[e].c(),i(sa[e],1),sa[e].m(B,null))}for(d(),e=oa.length;e<sa.length;e+=1)na(e);c()}},i(a){if(!W){for(let a=0;a<oa.length;a+=1)i(sa[a]);W=!0}},o(a){sa=sa.filter(Boolean);for(let a=0;a<sa.length;a+=1)l(sa[a]);W=!1},d(a){ta&&ta.d(a),a&&f(e),a&&f(t),a&&f(L),ra&&ra.d(a),a&&f(J),a&&f(B),C(sa,a),a&&f(U),a&&f(Y)}}}function T(a){let e,t,o,l,c,i,h;return{c(){e=g("p"),t=m("You have no food."),o=r(),l=g("p"),c=g("a"),i=m("Add some food first"),h=m("."),this.h()},l(a){e=u(a,"P",{});var r=p(e);t=b(r,"You have no food."),r.forEach(f),o=s(a),l=u(a,"P",{});var n=p(l);c=u(n,"A",{href:!0});var d=p(c);i=b(d,"Add some food first"),d.forEach(f),h=b(n,"."),n.forEach(f),this.h()},h(){v(c,"href","/food/manage-food/add-food")},m(a,r){n(a,e,r),w(e,t),n(a,o,r),n(a,l,r),w(l,c),w(c,i),w(l,h)},p:S,i:S,o:S,d(a){a&&f(e),a&&f(o),a&&f(l)}}}function G(a){let e,t,o,l,c,i,h,d,E,S,N,k=Math.round(a.goal-a.calories)+"";return{c(){e=g("div"),t=g("span"),o=m("Goal:"),l=m(a.goal),c=r(),i=g("span"),h=m("Left:"),E=g("span"),S=m(k),this.h()},l(r){e=u(r,"DIV",{});var n=p(e);t=u(n,"SPAN",{class:!0});var d=p(t);o=b(d,"Goal:"),l=b(d,a.goal),d.forEach(f),c=s(n),i=u(n,"SPAN",{class:!0});var g=p(i);h=b(g,"Left:"),g.forEach(f),E=u(n,"SPAN",{class:!0});var m=p(E);S=b(m,k),m.forEach(f),n.forEach(f),this.h()},h(){v(t,"class","svelte-1gc7ww1"),v(i,"class",d=I(a.remaining)+" svelte-1gc7ww1"),v(E,"class",N=I(a.remaining)+" svelte-1gc7ww1")},m(a,r){n(a,e,r),w(e,t),w(t,o),w(t,l),w(e,c),w(e,i),w(i,h),w(e,E),w(E,S)},p(a,e){a.goal&&A(l,e.goal),a.remaining&&d!==(d=I(e.remaining)+" svelte-1gc7ww1")&&v(i,"class",d),(a.goal||a.calories)&&k!==(k=Math.round(e.goal-e.calories)+"")&&A(S,k),a.remaining&&N!==(N=I(e.remaining)+" svelte-1gc7ww1")&&v(E,"class",N)},d(a){a&&f(e)}}}function F(a){let e,t,r,o;return{c(){e=g("div"),t=g("button"),r=m("Clear All"),this.h()},l(a){e=u(a,"DIV",{});var o=p(e);t=u(o,"BUTTON",{class:!0,href:!0});var s=p(t);r=b(s,"Clear All"),s.forEach(f),o.forEach(f),this.h()},h(){v(t,"class","bg-red-400 py-1 mt-2 w-20"),v(t,"href","#"),o=E(t,"click",a.handleClear)},m(a,o){n(a,e,o),w(e,t),w(t,r)},p:S,d(a){a&&f(e),o()}}}function V(a){let e,t,r,o,s,c,h,d=a.name+"",I=a.count+"";const S=new M({props:{data:$}});function C(...e){return a.click_handler(a,...e)}return{c(){e=g("button"),N(S.$$.fragment),t=g("div"),r=m(d),o=g("div"),s=m(I),this.h()},l(a){e=u(a,"BUTTON",{class:!0,href:!0});var n=p(e);k(S.$$.fragment,n),n.forEach(f),t=u(a,"DIV",{});var l=p(t);r=b(l,d),l.forEach(f),o=u(a,"DIV",{});var c=p(o);s=b(c,I),c.forEach(f),this.h()},h(){v(e,"class","text-red-400"),v(e,"href","#"),h=E(e,"click",y(C))},m(a,l){n(a,e,l),x(S,e,null),n(a,t,l),w(t,r),n(a,o,l),w(o,s),c=!0},p(e,t){a=t,c&&!e.foodIAte||d===(d=a.name+"")||A(r,d),c&&!e.foodIAte||I===(I=a.count+"")||A(s,I)},i(a){c||(i(S.$$.fragment,a),c=!0)},o(a){l(S.$$.fragment,a),c=!1},d(a){a&&f(e),P(S),a&&f(t),a&&f(o),h()}}}function j(a){let e,t,h,g,m;const u=[T,O],p=[];function b(a,e){return 0===e.food.length?0:1}return t=b(0,a),h=p[t]=u[t](a),{c(){e=r(),h.c(),g=o(),this.h()},l(a){e=s(a),h.l(a),g=o(),this.h()},h(){document.title="Eat"},m(a,r){n(a,e,r),p[t].m(a,r),n(a,g,r),m=!0},p(a,e){let r=t;(t=b(0,e))===r?p[t].p(a,e):(d(),l(p[r],1,1,()=>{p[r]=null}),c(),(h=p[t])||(h=p[t]=u[t](e)).c(),i(h,1),h.m(g.parentNode,g))},i(a){m||(i(h),m=!0)},o(a){l(h),m=!1},d(a){a&&f(e),p[t].d(a),a&&f(g)}}}function L(a,e,t){let r=!1,o="50% 50%",s=!1,n=2e3,l=[],c=[],i=0,f=0,d=0,g=[];function m(a){let e=l.filter(function(e,t,r){return e.name!==a.name});t("foodIAte",l=e),localStorage.setItem("ate",JSON.stringify(e)),u()}h(async()=>{r="true"===(r=localStorage.getItem("firstTime")||"true"),t("isGoal",s=localStorage.getItem("isGoal")||!1),t("goal",n=localStorage.getItem("goal")||2e3),o=localStorage.getItem("columns")||"50% 50%",t("food",c=JSON.parse(localStorage.getItem("food"))||[]),g=(g=c).slice(0,15),t("foodIAte",l=JSON.parse(localStorage.getItem("ate"))||[]),r&&0===c.length&&(t("food",c=[{name:"cup milk 2%",protein:5,carbs:6,fat:7},{name:"cup oatmeal",protein:6,carbs:7.3,fat:7.2},{name:"egg",protein:6,carbs:0,fat:7.2},{name:"100g chicken breast",protein:20,carbs:3.2,fat:5.1},{name:"100g brown rice",protein:4,carbs:6.8,fat:4.7},{name:"100g japanese yams",protein:4,carbs:6.8,fat:4.7},{name:"avocado",protein:4,carbs:6.8,fat:4.7},{name:"olive oil",protein:2,carbs:3.8,fat:8},{name:"apple",protein:1,carbs:5.8,fat:3},{name:"cottage cheese",protein:1,carbs:5.8,fat:3},{name:"100g greek yugurt",protein:1,carbs:5.8,fat:3},{name:"1 tbsp peanut butter",protein:1,carbs:5.8,fat:3},{name:"100g salmon",protein:1,carbs:5.8,fat:3},{name:"100g steak",protein:1,carbs:5.8,fat:3},{name:"egg white",protein:1,carbs:5.8,fat:3},{name:"sardins",protein:1,carbs:5.8,fat:3},{name:"tuna can",protein:1,carbs:5.8,fat:3},{name:"tuna fresh",protein:1,carbs:5.8,fat:3},{name:"150g drum sticks",protein:1,carbs:5.8,fat:3},{name:"100g chicken thighs",protein:1,carbs:5.8,fat:3}]),localStorage.setItem("firstTime","false"),localStorage.setItem("food",JSON.stringify(c)),g=(g=c).slice(0,15)),u()});const u=a=>{t("protein",i=l.reduce(function(a,e){return a+e.protein*e.count},0)),t("carbs",f=l.reduce(function(a,e){return a+e.carbs*e.count},0)),t("fat",d=l.reduce(function(a,e){return a+e.fat*e.count},0))};let p,b;return a.$$.update=((a={protein:1,carbs:1,fat:1,goal:1,calories:1})=>{(a.protein||a.carbs||a.fat)&&t("calories",b=parseFloat(Number(4*i+4*f+9*d).toFixed(1))),(a.goal||a.calories)&&t("remaining",p=n-b<=0?"remaining":"")}),{isGoal:s,goal:n,foodIAte:l,food:c,protein:i,carbs:f,fat:d,handleClear:function(){localStorage.removeItem("ate"),t("protein",i=0),t("carbs",f=0),t("fat",d=0),t("foodIAte",l=[])},handleDelete:m,remaining:p,calories:b,click_handler:({i:a})=>m(l[a])}}export default class extends a{constructor(a){super(),e(this,a,L,j,t,{})}}
